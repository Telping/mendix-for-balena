import{r as c,bh as tt,cK as Mi,cS as Li,cL as tn,cP as Gn,cI as Ni,cW as ji}from"./DTxgj959.js";import{r as Bi}from"./CXA2JgTM.js";function _(e,t,n){return(t=function(r){var i=function(o,s){if(typeof o!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,s||"default");if(typeof u!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(o)}(r,"string");return typeof i=="symbol"?i:i+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var Ba={};function Yn(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Ba}var Ki=Object.assign,nn=Object.getOwnPropertyDescriptor,Pe=Object.defineProperty,rn=Object.prototype,Xn=[];Object.freeze(Xn);var Zn={};Object.freeze(Zn);var Ka=typeof Proxy<"u",Fa=Object.toString();function Fi(){Ka||B("Proxy not available")}function Hi(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var pt=function(){};function xe(e){return typeof e=="function"}function nt(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function on(e){return e!==null&&typeof e=="object"}function Be(e){if(!on(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Fa}function Ui(e){var t=e?.constructor;return!!t&&(t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction")}function Vt(e,t,n){Pe(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function zi(e,t,n){Pe(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function rt(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return on(r)&&r[n]===!0}}function vt(e){return e instanceof Map}function Mt(e){return e instanceof Set}var Wi=Object.getOwnPropertySymbols!==void 0,gt=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Wi?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function qi(e){return e===null?null:typeof e=="object"?""+e:e}function Ke(e,t){return rn.hasOwnProperty.call(e,t)}var Ha=Object.getOwnPropertyDescriptors||function(e){var t={};return gt(e).forEach(function(n){t[n]=nn(e,n)}),t};function Ua(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,typeof(o=function(s,a){if(typeof s!="object"||s===null)return s;var u=s[Symbol.toPrimitive];if(u!==void 0){var l=u.call(s,a||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(s)}(i,"string"))=="symbol"?o:String(o)),r)}var i,o}function Jn(e,t,n){return t&&Ua(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}function $i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qn(e,t)}function Qn(e,t){return Qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qn(e,t)}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mt(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(i,o){if(i){if(typeof i=="string")return Gi(i,o);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?Gi(i,o):void 0}}(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ae=Symbol("mobx-stored-annotations");function De(e){return Object.assign(function(t,n){if(Lt(n))return e.decorate_20223_(t,n);yt(t,n,e)},e)}function yt(e,t,n){Ke(e,Ae)||Vt(e,Ae,$e({},e[Ae])),function(r){return r.annotationType_===za}(n)||(e[Ae][t]=n)}function Lt(e){return typeof e=="object"&&typeof e.kind=="string"}var P=Symbol("mobx administration"),Nt=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=F.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},t.reportObserved=function(){return yo(this)},t.reportChanged=function(){ye(),bo(this),be()},t.toString=function(){return this.name_},e}(),tr=rt("Atom",Nt);function Yi(e,t,n){t===void 0&&(t=pt),n===void 0&&(n=pt);var r,i=new Nt(e);return t!==pt&&Co(Iu,i,t,r),n!==pt&&Eo(i,n),i}var bt={identity:function(e,t){return e===t},structural:function(e,t){return yr(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return yr(e,t,1)}};function _t(e,t,n){return Do(e)?e:Array.isArray(e)?Y.array(e,{name:n}):Be(e)?Y.object(e,void 0,{name:n}):vt(e)?Y.map(e,{name:n}):Mt(e)?Y.set(e,{name:n}):typeof e!="function"||_n(e)||Ht(e)?e:Ui(e)?It(e):Ft(n,e)}function sn(e){return e}var za="override";function jt(e,t){return{annotationType_:e,options_:t,make_:Wa,extend_:qa,decorate_20223_:$a}}function Wa(e,t,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(_n(n.value))return 1;var o=Xi(e,this,t,n,!1);return Pe(r,t,o),2}function qa(e,t,n,r){var i=Xi(e,this,t,n);return e.defineProperty_(t,i,r)}function $a(e,t){var n=t.kind,r=t.name,i=t.addInitializer,o=this;if(n!="field"){var s,a,u,l,d,p;if(n=="method")return _n(e)||(a=e,e=Ge((u=(l=o.options_)==null?void 0:l.name)!=null?u:r.toString(),a,(d=(p=o.options_)==null?void 0:p.autoAction)!=null&&d)),(s=this.options_)!=null&&s.bound&&i(function(){var f=this,g=f[r].bind(f);g.isMobxAction=!0,f[r]=g}),e;B("Cannot apply '"+o.annotationType_+"' to '"+String(r)+"' (kind: "+n+`):
'`+o.annotationType_+"' can only be used on properties with a function value.")}else i(function(){yt(this,r,o)})}function Xi(e,t,n,r,i){var o,s,a,u,l,d,p,f;i===void 0&&(i=I.safeDescriptors),f=r,t.annotationType_,f.value;var g,m=r.value;return(o=t.options_)!=null&&o.bound&&(m=m.bind((g=e.proxy_)!=null?g:e.target_)),{value:Ge((s=(a=t.options_)==null?void 0:a.name)!=null?s:n.toString(),m,(u=(l=t.options_)==null?void 0:l.autoAction)!=null&&u,(d=t.options_)!=null&&d.bound?(p=e.proxy_)!=null?p:e.target_:void 0),configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function Zi(e,t){return{annotationType_:e,options_:t,make_:Ga,extend_:Ya,decorate_20223_:Xa}}function Ga(e,t,n,r){var i;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!Ke(e.target_,t)||!Ht(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(Ht(n.value))return 1;var o=Ji(e,this,t,n,!1,!1);return Pe(r,t,o),2}function Ya(e,t,n,r){var i,o=Ji(e,this,t,n,(i=this.options_)==null?void 0:i.bound);return e.defineProperty_(t,o,r)}function Xa(e,t){var n,r=t.name,i=t.addInitializer;return Ht(e)||(e=It(e)),(n=this.options_)!=null&&n.bound&&i(function(){var o=this,s=o[r].bind(o);s.isMobXFlow=!0,o[r]=s}),e}function Ji(e,t,n,r,i,o){var s;o===void 0&&(o=I.safeDescriptors),s=r,t.annotationType_,s.value;var a,u=r.value;return Ht(u)||(u=It(u)),i&&((u=u.bind((a=e.proxy_)!=null?a:e.target_)).isMobXFlow=!0),{value:u,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function nr(e,t){return{annotationType_:e,options_:t,make_:Za,extend_:Ja,decorate_20223_:Qa}}function Za(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function Ja(e,t,n,r){var i;return i=n,this.annotationType_,i.get,e.defineComputedProperty_(t,$e({},this.options_,{get:n.get,set:n.set}),r)}function Qa(e,t){var n=this,r=t.name;return(0,t.addInitializer)(function(){var i=ut(this)[P],o=$e({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),i.values_.set(r,new wt(o))}),function(){return this[P].getObservablePropValue_(r)}}function an(e,t){return{annotationType_:e,options_:t,make_:eu,extend_:tu,decorate_20223_:nu}}function eu(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function tu(e,t,n,r){var i,o;return this.annotationType_,e.defineObservableProperty_(t,n.value,(i=(o=this.options_)==null?void 0:o.enhancer)!=null?i:_t,r)}function nu(e,t){var n=this,r=t.kind,i=t.name,o=new WeakSet;function s(a,u){var l,d,p=ut(a)[P],f=new it(u,(l=(d=n.options_)==null?void 0:d.enhancer)!=null?l:_t,"ObservableObject."+i.toString(),!1);p.values_.set(i,f),o.add(a)}if(r=="accessor")return{get:function(){return o.has(this)||s(this,e.get.call(this)),this[P].getObservablePropValue_(i)},set:function(a){return o.has(this)||s(this,a),this[P].setObservablePropValue_(i,a)},init:function(a){return o.has(this)||s(this,a),a}}}var ru="true",iu=Qi();function Qi(e){return{annotationType_:ru,options_:e,make_:ou,extend_:su,decorate_20223_:au}}function ou(e,t,n,r){var i,o,s,a;if(n.get)return H.make_(e,t,n,r);if(n.set){var u=Ge(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:!I.safeDescriptors||e.isPlainObject_,set:u})===null?0:2:(Pe(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&typeof n.value=="function")return Ui(n.value)?((a=this.options_)!=null&&a.autoBind?It.bound:It).make_(e,t,n,r):((s=this.options_)!=null&&s.autoBind?Ft.bound:Ft).make_(e,t,n,r);var l,d=((i=this.options_)==null?void 0:i.deep)===!1?Y.ref:Y;return typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind&&(n.value=n.value.bind((l=e.proxy_)!=null?l:e.target_)),d.make_(e,t,n,r)}function su(e,t,n,r){var i,o,s;return n.get?H.extend_(e,t,n,r):n.set?e.defineProperty_(t,{configurable:!I.safeDescriptors||e.isPlainObject_,set:Ge(t.toString(),n.set)},r):(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind&&(n.value=n.value.bind((s=e.proxy_)!=null?s:e.target_)),(((o=this.options_)==null?void 0:o.deep)===!1?Y.ref:Y).extend_(e,t,n,r))}function au(e,t){B("'"+this.annotationType_+"' cannot be used as a decorator")}var eo={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function un(e){return e||eo}Object.freeze(eo);var rr=an("observable"),uu=an("observable.ref",{enhancer:sn}),lu=an("observable.shallow",{enhancer:function(e,t,n){return e==null||On(e)||Sn(e)||at(e)||xt(e)?e:Array.isArray(e)?Y.array(e,{name:n,deep:!1}):Be(e)?Y.object(e,void 0,{name:n,deep:!1}):vt(e)?Y.map(e,{name:n,deep:!1}):Mt(e)?Y.set(e,{name:n,deep:!1}):void 0}}),cu=an("observable.struct",{enhancer:function(e,t){return yr(e,t)?t:e}}),to=De(rr);function ln(e){return e.deep===!0?_t:e.deep===!1?sn:(t=e.defaultDecorator)&&(n=(r=t.options_)==null?void 0:r.enhancer)!=null?n:_t;var t,n,r}function no(e,t,n){return Lt(t)?rr.decorate_20223_(e,t):nt(t)?void yt(e,t,rr):Do(e)?e:Be(e)?Y.object(e,t,n):Array.isArray(e)?Y.array(e,t):vt(e)?Y.map(e,t):Mt(e)?Y.set(e,t):typeof e=="object"&&e!==null?e:Y.box(e,t)}Ki(no,to);var ro,io,du={box:function(e,t){var n=un(t);return new it(e,ln(n),n.name,!0,n.equals)},array:function(e,t){var n=un(t);return(I.useProxies===!1||n.proxy===!1?Ku:Du)(e,ln(n),n.name)},map:function(e,t){var n=un(t);return new Ko(e,ln(n),n.name)},set:function(e,t){var n=un(t);return new Fo(e,ln(n),n.name)},object:function(e,t,n){return Xe(function(){return ko(I.useProxies===!1||n?.proxy===!1?ut({},n):function(r,i){var o,s;return Fi(),r=ut(r,i),(s=(o=r[P]).proxy_)!=null?s:o.proxy_=new Proxy(r,Pu)}({},n),e,t)})},ref:De(uu),shallow:De(lu),deep:to,struct:De(cu)},Y=Ki(no,du),oo="computed",ir=nr(oo),hu=nr("computed.struct",{equals:bt.structural}),H=function(e,t){if(Lt(t))return ir.decorate_20223_(e,t);if(nt(t))return yt(e,t,ir);if(Be(e))return De(nr(oo,e));var n=Be(t)?t:{};return n.get=e,n.name||(n.name=e.name||""),new wt(n)};Object.assign(H,ir),H.struct=De(hu);var so,cn=0,fu=1,pu=(ro=(io=nn(function(){},"name"))==null?void 0:io.configurable)!=null&&ro,ao={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ge(e,t,n,r){function i(){return uo(e,n,t,r||this,arguments)}return n===void 0&&(n=!1),i.isMobxAction=!0,i.toString=function(){return t.toString()},pu&&(ao.value=e,Pe(i,"name",ao)),i}function uo(e,t,n,r,i){var o=function(s,a,u,l){var d=!1,p=0,f=I.trackingDerivation,g=!a||!f;ye();var m=I.allowStateChanges;g&&(ot(),m=dn(!0));var b=ar(!0),h={runAsAction_:g,prevDerivation_:f,prevAllowStateChanges_:m,prevAllowStateReads_:b,notifySpy_:d,startTime_:p,actionId_:fu++,parentActionId_:cn};return cn=h.actionId_,h}(0,t);try{return n.apply(r,i)}catch(s){throw o.error_=s,s}finally{(function(s){cn!==s.actionId_&&B(30),cn=s.parentActionId_,s.error_!==void 0&&(I.suppressReactionErrors=!0),hn(s.prevAllowStateChanges_),Bt(s.prevAllowStateReads_),be(),s.runAsAction_&&Fe(s.prevDerivation_),I.suppressReactionErrors=!1})(o)}}function lo(e,t){var n=dn(e);try{return t()}finally{hn(n)}}function dn(e){var t=I.allowStateChanges;return I.allowStateChanges=e,t}function hn(e){I.allowStateChanges=e}so=Symbol.toPrimitive;var co,it=function(e){function t(r,i,o,s,a){var u;return o===void 0&&(o="ObservableValue"),a===void 0&&(a=bt.default),(u=e.call(this,o)||this).enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=o,u.equals=a,u.value_=i(r,void 0,o),u}$i(t,e);var n=t.prototype;return n.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},n.set=function(r){this.value_,(r=this.prepareNewValue_(r))!==I.UNCHANGED&&this.setNewValue_(r)},n.prepareNewValue_=function(r){if(_e(this)){var i=we(this,{object:this,type:Re,newValue:r});if(!i)return I.UNCHANGED;r=i.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?I.UNCHANGED:r},n.setNewValue_=function(r){var i=this.value_;this.value_=r,this.reportChanged(),Oe(this)&&Ee(this,{type:Re,object:this,newValue:r,oldValue:i})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(r){return Ut(this,r)},n.observe_=function(r,i){return i&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Re,newValue:this.value_,oldValue:void 0}),zt(this,r)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return qi(this.get())},n[so]=function(){return this.valueOf()},t}(Nt);co=Symbol.toPrimitive;var F,fn,wt=function(){function e(n){this.dependenciesState_=F.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=F.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new vn(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=fn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||B(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Ge("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?bt.structural:bt.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){(function(n){n.lowestObserverState_===F.UP_TO_DATE_&&(n.lowestObserverState_=F.POSSIBLY_STALE_,n.observers_.forEach(function(r){r.dependenciesState_===F.UP_TO_DATE_&&(r.dependenciesState_=F.POSSIBLY_STALE_,r.onBecomeStale_())}))})(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(n){return n()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(n){return n()})},t.get=function(){if(this.isComputing_&&B(32,this.name_,this.derivation),I.inBatch!==0||this.observers_.size!==0||this.keepAlive_){if(yo(this),or(this)){var n=I.trackingContext;this.keepAlive_&&!n&&(I.trackingContext=this),this.trackAndCompute()&&function(i){i.lowestObserverState_!==F.STALE_&&(i.lowestObserverState_=F.STALE_,i.observers_.forEach(function(o){o.dependenciesState_===F.POSSIBLY_STALE_?o.dependenciesState_=F.STALE_:o.dependenciesState_===F.UP_TO_DATE_&&(i.lowestObserverState_=F.UP_TO_DATE_)}))}(this),I.trackingContext=n}}else or(this)&&(this.warnAboutUntrackedRead_(),ye(),this.value_=this.computeValue_(!1),be());var r=this.value_;if(gn(r))throw r.cause;return r},t.set=function(n){if(this.setter_){this.isRunningSetter_&&B(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,n)}finally{this.isRunningSetter_=!1}}else B(34,this.name_)},t.trackAndCompute=function(){var n=this.value_,r=this.dependenciesState_===F.NOT_TRACKING_,i=this.computeValue_(!0),o=r||gn(n)||gn(i)||!this.equals_(n,i);return o&&(this.value_=i),o},t.computeValue_=function(n){this.isComputing_=!0;var r,i=dn(!1);if(n)r=ho(this,this.derivation,this.scope_);else if(I.disableErrorBoundaries===!0)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(o){r=new vn(o)}return hn(i),this.isComputing_=!1,r},t.suspend_=function(){this.keepAlive_||(sr(this),this.value_=void 0)},t.observe_=function(n,r){var i=this,o=!0,s=void 0;return st(function(){var a=i.get();if(!o||r){var u=ot();n({observableKind:"computed",debugObjectName:i.name_,type:Re,object:i,newValue:a,oldValue:s}),Fe(u)}o=!1,s=a})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return qi(this.get())},t[co]=function(){return this.valueOf()},e}(),pn=rt("ComputedValue",wt);(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(F||(F={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(fn||(fn={}));var vn=function(e){this.cause=void 0,this.cause=e};function gn(e){return e instanceof vn}function or(e){switch(e.dependenciesState_){case F.UP_TO_DATE_:return!1;case F.NOT_TRACKING_:case F.STALE_:return!0;case F.POSSIBLY_STALE_:for(var t=ar(!0),n=ot(),r=e.observing_,i=r.length,o=0;o<i;o++){var s=r[o];if(pn(s)){if(I.disableErrorBoundaries)s.get();else try{s.get()}catch{return Fe(n),Bt(t),!0}if(e.dependenciesState_===F.STALE_)return Fe(n),Bt(t),!0}}return po(e),Fe(n),Bt(t),!1}}function ho(e,t,n){var r=ar(!0);po(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++I.runId;var i,o=I.trackingDerivation;if(I.trackingDerivation=e,I.inBatch++,I.disableErrorBoundaries===!0)i=t.call(n);else try{i=t.call(n)}catch(s){i=new vn(s)}return I.inBatch--,I.trackingDerivation=o,function(s){for(var a=s.observing_,u=s.observing_=s.newObserving_,l=F.UP_TO_DATE_,d=0,p=s.unboundDepsCount_,f=0;f<p;f++){var g=u[f];g.diffValue_===0&&(g.diffValue_=1,d!==f&&(u[d]=g),d++),g.dependenciesState_>l&&(l=g.dependenciesState_)}for(u.length=d,s.newObserving_=null,p=a.length;p--;){var m=a[p];m.diffValue_===0&&go(m,s),m.diffValue_=0}for(;d--;){var b=u[d];b.diffValue_===1&&(b.diffValue_=0,vu(b,s))}l!==F.UP_TO_DATE_&&(s.dependenciesState_=l,s.onBecomeStale_())}(e),Bt(r),i}function sr(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)go(t[n],e);e.dependenciesState_=F.NOT_TRACKING_}function fo(e){var t=ot();try{return e()}finally{Fe(t)}}function ot(){var e=I.trackingDerivation;return I.trackingDerivation=null,e}function Fe(e){I.trackingDerivation=e}function ar(e){var t=I.allowStateReads;return I.allowStateReads=e,t}function Bt(e){I.allowStateReads=e}function po(e){if(e.dependenciesState_!==F.UP_TO_DATE_){e.dependenciesState_=F.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=F.UP_TO_DATE_}}var mn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},yn=!0,vo=!1,I=function(){var e=Yn();return e.__mx_isolated_mobxInstanceCount>0&&!e.__mx_isolated_mobxGlobals&&(yn=!1),e.__mx_isolated_mobxGlobals&&e.__mx_isolated_mobxGlobals.version!==new mn().version&&(yn=!1),yn?e.__mx_isolated_mobxGlobals?(e.__mx_isolated_mobxInstanceCount+=1,e.__mx_isolated_mobxGlobals.UNCHANGED||(e.__mx_isolated_mobxGlobals.UNCHANGED={}),e.__mx_isolated_mobxGlobals):(e.__mx_isolated_mobxInstanceCount=1,e.__mx_isolated_mobxGlobals=new mn):(setTimeout(function(){vo||B(35)},1),new mn)}();function vu(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function go(e,t){e.observers_.delete(t),e.observers_.size===0&&mo(e)}function mo(e){e.isPendingUnobservation_===!1&&(e.isPendingUnobservation_=!0,I.pendingUnobservations.push(e))}function ye(){I.inBatch++}function be(){if(--I.inBatch==0){_o();for(var e=I.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation_=!1,n.observers_.size===0&&(n.isBeingObserved_&&(n.isBeingObserved_=!1,n.onBUO()),n instanceof wt&&n.suspend_())}I.pendingUnobservations=[]}}function yo(e){var t=I.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&I.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(e.observers_.size===0&&I.inBatch>0&&mo(e),!1)}function bo(e){e.lowestObserverState_!==F.STALE_&&(e.lowestObserverState_=F.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===F.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=F.STALE_}))}var Kt=function(){function e(n,r,i,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=F.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=fn.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=o}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,I.pendingReactions.push(this),_o())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){ye(),this.isScheduled_=!1;var n=I.trackingContext;if(I.trackingContext=this,or(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}I.trackingContext=n,be()}},t.track=function(n){if(!this.isDisposed_){ye(),this.isRunning_=!0;var r=I.trackingContext;I.trackingContext=this;var i=ho(this,n,void 0);I.trackingContext=r,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&sr(this),gn(i)&&this.reportExceptionInDerivation_(i.cause),be()}},t.reportExceptionInDerivation_=function(n){var r=this;if(this.errorHandler_)this.errorHandler_(n,this);else{if(I.disableErrorBoundaries)throw n;var i="[mobx] uncaught error in '"+this+"'";I.suppressReactionErrors||console.error(i,n),I.globalReactionErrorHandlers.forEach(function(o){return o(n,r)})}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(ye(),sr(this),be()))},t.getDisposer_=function(n){var r=this,i=function o(){r.dispose(),n==null||n.removeEventListener==null||n.removeEventListener("abort",o)};return n==null||n.addEventListener==null||n.addEventListener("abort",i),i[P]=this,i},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(n){},e}(),gu=100,ur=function(e){return e()};function _o(){I.inBatch>0||I.isRunningReactions||ur(mu)}function mu(){I.isRunningReactions=!0;for(var e=I.pendingReactions,t=0;e.length>0;){++t===gu&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}I.isRunningReactions=!1}var bn=rt("Reaction",Kt),wo="action",Io="autoAction",yu="<unnamed action>",lr=jt(wo),bu=jt("action.bound",{bound:!0}),cr=jt(Io,{autoAction:!0}),_u=jt("autoAction.bound",{autoAction:!0,bound:!0});function So(e){return function(t,n){return xe(t)?Ge(t.name||yu,t,e):xe(n)?Ge(t,n,e):Lt(n)?(e?cr:lr).decorate_20223_(t,n):nt(n)?yt(t,n,e?cr:lr):nt(t)?De(jt(e?Io:wo,{name:t,autoAction:e})):void 0}}var U=So(!1);Object.assign(U,lr);var Ft=So(!0);function xo(e){return uo(e.name,!1,e,this,void 0)}function _n(e){return xe(e)&&e.isMobxAction===!0}function st(e,t){var n,r,i,o,s;t===void 0&&(t=Zn);var a,u=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun";if(!t.scheduler&&!t.delay)a=new Kt(u,function(){this.track(p)},t.onError,t.requiresObservable);else{var l=Oo(t),d=!1;a=new Kt(u,function(){d||(d=!0,l(function(){d=!1,a.isDisposed_||a.track(p)}))},t.onError,t.requiresObservable)}function p(){e(a)}return(i=t)!=null&&(o=i.signal)!=null&&o.aborted||a.schedule_(),a.getDisposer_((s=t)==null?void 0:s.signal)}Object.assign(Ft,cr),U.bound=De(bu),Ft.bound=De(_u);var wu=function(e){return e()};function Oo(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:wu}function dr(e,t,n){var r,i,o,s;n===void 0&&(n=Zn);var a,u,l,d=(r=n.name)!=null?r:"Reaction",p=U(d,n.onError?(a=n.onError,u=t,function(){try{return u.apply(this,arguments)}catch(S){a.call(this,S)}}):t),f=!n.scheduler&&!n.delay,g=Oo(n),m=!0,b=!1,h=n.compareStructural?bt.structural:n.equals||bt.default,y=new Kt(d,function(){m||f?x():b||(b=!0,g(x))},n.onError,n.requiresObservable);function x(){if(b=!1,!y.isDisposed_){var S=!1,w=l;y.track(function(){var C=lo(!1,function(){return e(y)});S=m||!h(l,C),l=C}),(m&&n.fireImmediately||!m&&S)&&p(l,w,y),m=!1}}return(i=n)!=null&&(o=i.signal)!=null&&o.aborted||y.schedule_(),y.getDisposer_((s=n)==null?void 0:s.signal)}var Iu="onBO",Su="onBUO";function Eo(e,t,n){return Co(Su,e,t,n)}function Co(e,t,n,r){var i=qt(t),o=xe(r)?r:n,s=e+"L";return i[s]?i[s].add(o):i[s]=new Set([o]),function(){var a=i[s];a&&(a.delete(o),a.size===0&&delete i[s])}}var xu="never",wn="always",Ou="observed";function Eu(e){e.isolateGlobalState===!0&&function(){if((I.pendingReactions.length||I.inBatch||I.isRunningReactions)&&B(36),vo=!0,yn){var s=Yn();--s.__mx_isolated_mobxInstanceCount==0&&(s.__mx_isolated_mobxGlobals=void 0),I=new mn}}();var t,n,r=e.useProxies,i=e.enforceActions;if(r!==void 0&&(I.useProxies=r===wn||r!==xu&&typeof Proxy<"u"),r==="ifavailable"&&(I.verifyProxies=!0),i!==void 0){var o=i===wn?wn:i===Ou;I.enforceActions=o,I.allowStateChanges=o!==!0&&o!==wn}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(s){s in e&&(I[s]=!!e[s])}),I.allowStateReads=!I.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,n=ur,ur=function(s){return t(function(){return n(s)})})}function ko(e,t,n,r){var i=Ha(t);return Xe(function(){var o=ut(e,r)[P];gt(i).forEach(function(s){o.extend_(s,i[s],!n||!(s in n)||n[s])})}),e}function To(e){var t,n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(To)),n}var Cu=0;function Po(){this.message="FLOW_CANCELLED"}Po.prototype=Object.create(Error.prototype);var hr=Zi("flow"),ku=Zi("flow.bound",{bound:!0}),It=Object.assign(function(e,t){if(Lt(t))return hr.decorate_20223_(e,t);if(nt(t))return yt(e,t,hr);var n=e,r=n.name||"<unnamed flow>",i=function(){var o,s=arguments,a=++Cu,u=U(r+" - runid: "+a+" - init",n).apply(this,s),l=void 0,d=new Promise(function(p,f){var g=0;function m(y){var x;l=void 0;try{x=U(r+" - runid: "+a+" - yield "+g++,u.next).call(u,y)}catch(S){return f(S)}h(x)}function b(y){var x;l=void 0;try{x=U(r+" - runid: "+a+" - yield "+g++,u.throw).call(u,y)}catch(S){return f(S)}h(x)}function h(y){if(!xe(y?.then))return y.done?p(y.value):(l=Promise.resolve(y.value)).then(m,b);y.then(h,f)}o=f,m(void 0)});return d.cancel=U(r+" - runid: "+a+" - cancel",function(){try{l&&Ao(l);var p=u.return(void 0),f=Promise.resolve(p.value);f.then(pt,pt),Ao(f),o(new Po)}catch(g){o(g)}}),d};return i.isMobXFlow=!0,i},hr);function Ao(e){xe(e.cancel)&&e.cancel()}function Ht(e){return e?.isMobXFlow===!0}function Do(e){return function(t,n){return!!t&&(On(t)||!!t[P]||tr(t)||bn(t)||pn(t))}(e)}function He(e,t){t===void 0&&(t=void 0),ye();try{return e.apply(t)}finally{be()}}function Tu(e,t,n){return arguments.length===1||t&&typeof t=="object"?function(r,i){var o,s,a;if(i!=null&&(o=i.signal)!=null&&o.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var u=new Promise(function(l,d){var p,f=Ro(r,l,$e({},i,{onError:d}));s=function(){f(),d(new Error("WHEN_CANCELLED"))},a=function(){f(),d(new Error("WHEN_ABORTED"))},i==null||(p=i.signal)==null||p.addEventListener==null||p.addEventListener("abort",a)}).finally(function(){var l;return i==null||(l=i.signal)==null||l.removeEventListener==null?void 0:l.removeEventListener("abort",a)});return u.cancel=s,u}(e,t):Ro(e,t,{})}function Ro(e,t,n){var r;if(typeof n.timeout=="number"){var i=new Error("WHEN_TIMEOUT");r=setTimeout(function(){if(!s[P].isDisposed_){if(s(),!n.onError)throw i;n.onError(i)}},n.timeout)}n.name="When";var o=Ge("When-effect",t),s=st(function(a){lo(!1,e)&&(a.dispose(),r&&clearTimeout(r),o())},n);return s}function St(e){return e[P]}It.bound=De(ku);var Pu={has:function(e,t){return St(e).has_(t)},get:function(e,t){return St(e).get_(t)},set:function(e,t,n){var r;return!!nt(t)&&((r=St(e).set_(t,n,!0))==null||r)},deleteProperty:function(e,t){var n;return!!nt(t)&&((n=St(e).delete_(t,!0))==null||n)},defineProperty:function(e,t,n){var r;return(r=St(e).defineProperty_(t,n))==null||r},ownKeys:function(e){return St(e).ownKeys_()},preventExtensions:function(e){B(13)}};function _e(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Ut(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Hi(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function we(e,t){var n=ot();try{for(var r=[].concat(e.interceptors_||[]),i=0,o=r.length;i<o&&((t=r[i](t))&&!t.type&&B(14),t);i++);return t}finally{Fe(n)}}function Oe(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function zt(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Hi(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Ee(e,t){var n=ot(),r=e.changeListeners_;if(r){for(var i=0,o=(r=r.slice()).length;i<o;i++)r[i](t);Fe(n)}}function Ce(e,t,n){return Xe(function(){var r=ut(e,n)[P];t!=null||(t=function(i){return Ke(i,Ae)||Vt(i,Ae,$e({},i[Ae])),i[Ae]}(e)),gt(t).forEach(function(i){return r.make_(i,t[i])})}),e}var fr=Symbol("mobx-keys"),Vo="splice",Re="update",Au={get:function(e,t){var n=e[P];return t===P?n:t==="length"?n.getArrayLength_():typeof t!="string"||isNaN(t)?Ke(In,t)?In[t]:e[t]:n.get_(parseInt(t))},set:function(e,t,n){var r=e[P];return t==="length"&&r.setArrayLength_(n),typeof t=="symbol"||isNaN(t)?e[t]=n:r.set_(parseInt(t),n),!0},preventExtensions:function(){B(15)}},pr=function(){function e(n,r,i,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=o,this.atom_=new Nt(n),this.enhancer_=function(s,a){return r(s,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.dehanceValues_=function(n){return this.dehancer!==void 0&&n.length>0?n.map(this.dehancer):n},t.intercept_=function(n){return Ut(this,n)},t.observe_=function(n,r){return r===void 0&&(r=!1),r&&n({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),zt(this,n)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(n){(typeof n!="number"||isNaN(n)||n<0)&&B("Out of range: "+n);var r=this.values_.length;if(n!==r)if(n>r){for(var i=new Array(n-r),o=0;o<n-r;o++)i[o]=void 0;this.spliceWithArray_(r,0,i)}else this.spliceWithArray_(n,r-n)},t.updateArrayLength_=function(n,r){n!==this.lastKnownLength_&&B(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&Yo(n+r+1)},t.spliceWithArray_=function(n,r,i){var o=this;this.atom_;var s=this.values_.length;if(n===void 0?n=0:n>s?n=s:n<0&&(n=Math.max(0,s+n)),r=arguments.length===1?s-n:r==null?0:Math.max(0,Math.min(r,s-n)),i===void 0&&(i=Xn),_e(this)){var a=we(this,{object:this.proxy_,type:Vo,index:n,removedCount:r,added:i});if(!a)return Xn;r=a.removedCount,i=a.added}if(i=i.length===0?i:i.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var u=i.length-r;this.updateArrayLength_(s,u)}var l=this.spliceItemsIntoValues_(n,r,i);return r===0&&i.length===0||this.notifyArraySplice_(n,i,l),this.dehanceValues_(l)},t.spliceItemsIntoValues_=function(n,r,i){var o;if(i.length<1e4)return(o=this.values_).splice.apply(o,[n,r].concat(i));var s=this.values_.slice(n,n+r),a=this.values_.slice(n+r);this.values_.length+=i.length-r;for(var u=0;u<i.length;u++)this.values_[n+u]=i[u];for(var l=0;l<a.length;l++)this.values_[n+i.length+l]=a[l];return s},t.notifyArrayChildUpdate_=function(n,r,i){var o=!this.owned_&&!1,s=Oe(this),a=s||o?{observableKind:"array",object:this.proxy_,type:Re,debugObjectName:this.atom_.name_,index:n,newValue:r,oldValue:i}:null;this.atom_.reportChanged(),s&&Ee(this,a)},t.notifyArraySplice_=function(n,r,i){var o=!this.owned_&&!1,s=Oe(this),a=s||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Vo,index:n,removed:i,added:r,removedCount:i.length,addedCount:r.length}:null;this.atom_.reportChanged(),s&&Ee(this,a)},t.get_=function(n){if(!(this.legacyMode_&&n>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[n]);console.warn("[mobx] Out of bounds read: "+n)},t.set_=function(n,r){var i=this.values_;if(this.legacyMode_&&n>i.length&&B(17,n,i.length),n<i.length){this.atom_;var o=i[n];if(_e(this)){var s=we(this,{type:Re,object:this.proxy_,index:n,newValue:r});if(!s)return;r=s.newValue}(r=this.enhancer_(r,o))!==o&&(i[n]=r,this.notifyArrayChildUpdate_(n,r,o))}else{for(var a=new Array(n+1-i.length),u=0;u<a.length-1;u++)a[u]=void 0;a[a.length-1]=r,this.spliceWithArray_(i.length,0,a)}},e}();function Du(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),Fi(),Xe(function(){var i=new pr(n,t,r,!1);zi(i.values_,P,i);var o=new Proxy(i.values_,Au);return i.proxy_=o,e&&e.length&&i.spliceWithArray_(0,0,e),o})}var In={clear:function(){return this.splice(0)},replace:function(e){var t=this[P];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=this[P];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,n){return this[P].spliceWithArray_(e,t,n)},push:function(){for(var e=this[P],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,n),e.values_.length},pop:function(){return this.splice(Math.max(this[P].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[P],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.spliceWithArray_(0,0,n),e.values_.length},reverse:function(){return I.trackingDerivation&&B(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){I.trackingDerivation&&B(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[P],n=t.dehanceValues_(t.values_).indexOf(e);return n>-1&&(this.splice(n,1),!0)}};function Z(e,t){typeof Array.prototype[e]=="function"&&(In[e]=t(e))}function ge(e){return function(){var t=this[P];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ke(e){return function(t,n){var r=this,i=this[P];return i.atom_.reportObserved(),i.dehanceValues_(i.values_)[e](function(o,s){return t.call(n,o,s,r)})}}function Mo(e){return function(){var t=this,n=this[P];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(o,s,a){return i(o,s,a,t)},r[e].apply(r,arguments)}}Z("at",ge),Z("concat",ge),Z("flat",ge),Z("includes",ge),Z("indexOf",ge),Z("join",ge),Z("lastIndexOf",ge),Z("slice",ge),Z("toString",ge),Z("toLocaleString",ge),Z("toSorted",ge),Z("toSpliced",ge),Z("with",ge),Z("every",ke),Z("filter",ke),Z("find",ke),Z("findIndex",ke),Z("findLast",ke),Z("findLastIndex",ke),Z("flatMap",ke),Z("forEach",ke),Z("map",ke),Z("some",ke),Z("toReversed",ke),Z("reduce",Mo),Z("reduceRight",Mo);var Lo,No,Ru=rt("ObservableArrayAdministration",pr);function Sn(e){return on(e)&&Ru(e[P])}var Vu={},Ye="add",xn="delete";Lo=Symbol.iterator,No=Symbol.toStringTag;var jo,Bo,Ko=function(){function e(n,r,i){var o=this;r===void 0&&(r=_t),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[P]=Vu,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,xe(Map)||B(18),Xe(function(){o.keysAtom_=Yi("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=e.prototype;return t.has_=function(n){return this.data_.has(n)},t.has=function(n){var r=this;if(!I.trackingDerivation)return this.has_(n);var i=this.hasMap_.get(n);if(!i){var o=i=new it(this.has_(n),sn,"ObservableMap.key?",!1);this.hasMap_.set(n,o),Eo(o,function(){return r.hasMap_.delete(n)})}return i.get()},t.set=function(n,r){var i=this.has_(n);if(_e(this)){var o=we(this,{type:i?Re:Ye,object:this,newValue:r,name:n});if(!o)return this;r=o.newValue}return i?this.updateValue_(n,r):this.addValue_(n,r),this},t.delete=function(n){var r=this;if(this.keysAtom_,_e(this)&&!we(this,{type:xn,object:this,name:n}))return!1;if(this.has_(n)){var i=Oe(this),o=i?{observableKind:"map",debugObjectName:this.name_,type:xn,object:this,oldValue:this.data_.get(n).value_,name:n}:null;return He(function(){var s;r.keysAtom_.reportChanged(),(s=r.hasMap_.get(n))==null||s.setNewValue_(!1),r.data_.get(n).setNewValue_(void 0),r.data_.delete(n)}),i&&Ee(this,o),!0}return!1},t.updateValue_=function(n,r){var i=this.data_.get(n);if((r=i.prepareNewValue_(r))!==I.UNCHANGED){var o=Oe(this),s=o?{observableKind:"map",debugObjectName:this.name_,type:Re,object:this,oldValue:i.value_,name:n,newValue:r}:null;i.setNewValue_(r),o&&Ee(this,s)}},t.addValue_=function(n,r){var i=this;this.keysAtom_,He(function(){var a,u=new it(r,i.enhancer_,"ObservableMap.key",!1);i.data_.set(n,u),r=u.value_,(a=i.hasMap_.get(n))==null||a.setNewValue_(!0),i.keysAtom_.reportChanged()});var o=Oe(this),s=o?{observableKind:"map",debugObjectName:this.name_,type:Ye,object:this,name:n,newValue:r}:null;o&&Ee(this,s)},t.get=function(n){return this.has(n)?this.dehanceValue_(this.data_.get(n).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var n=this,r=this.keys();return $t({next:function(){var i=r.next(),o=i.done,s=i.value;return{done:o,value:o?void 0:n.get(s)}}})},t.entries=function(){var n=this,r=this.keys();return $t({next:function(){var i=r.next(),o=i.done,s=i.value;return{done:o,value:o?void 0:[s,n.get(s)]}}})},t[Lo]=function(){return this.entries()},t.forEach=function(n,r){for(var i,o=mt(this);!(i=o()).done;){var s=i.value,a=s[0],u=s[1];n.call(r,u,a,this)}},t.merge=function(n){var r=this;return at(n)&&(n=new Map(n)),He(function(){Be(n)?function(i){var o=Object.keys(i);if(!Wi)return o;var s=Object.getOwnPropertySymbols(i);return s.length?[].concat(o,s.filter(function(a){return rn.propertyIsEnumerable.call(i,a)})):o}(n).forEach(function(i){return r.set(i,n[i])}):Array.isArray(n)?n.forEach(function(i){var o=i[0],s=i[1];return r.set(o,s)}):vt(n)?(n.constructor!==Map&&B(19,n),n.forEach(function(i,o){return r.set(o,i)})):n!=null&&B(20,n)}),this},t.clear=function(){var n=this;He(function(){fo(function(){for(var r,i=mt(n.keys());!(r=i()).done;){var o=r.value;n.delete(o)}})})},t.replace=function(n){var r=this;return He(function(){for(var i,o=function(E){if(vt(E)||at(E))return E;if(Array.isArray(E))return new Map(E);if(Be(E)){var M=new Map;for(var L in E)M.set(L,E[L]);return M}return B(21,E)}(n),s=new Map,a=!1,u=mt(r.data_.keys());!(i=u()).done;){var l=i.value;if(!o.has(l))if(r.delete(l))a=!0;else{var d=r.data_.get(l);s.set(l,d)}}for(var p,f=mt(o.entries());!(p=f()).done;){var g=p.value,m=g[0],b=g[1],h=r.data_.has(m);if(r.set(m,b),r.data_.has(m)){var y=r.data_.get(m);s.set(m,y),h||(a=!0)}}if(!a)if(r.data_.size!==s.size)r.keysAtom_.reportChanged();else for(var x=r.data_.keys(),S=s.keys(),w=x.next(),C=S.next();!w.done;){if(w.value!==C.value){r.keysAtom_.reportChanged();break}w=x.next(),C=S.next()}r.data_=s}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(n,r){return zt(this,n)},t.intercept_=function(n){return Ut(this,n)},Jn(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:No,get:function(){return"Map"}}]),e}(),at=rt("ObservableMap",Ko),Mu={};jo=Symbol.iterator,Bo=Symbol.toStringTag;var Fo=function(){function e(n,r,i){var o=this;r===void 0&&(r=_t),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[P]=Mu,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,xe(Set)||B(22),this.enhancer_=function(s,a){return r(s,a,i)},Xe(function(){o.atom_=Yi(o.name_),n&&o.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(n){return this.dehancer!==void 0?this.dehancer(n):n},t.clear=function(){var n=this;He(function(){fo(function(){for(var r,i=mt(n.data_.values());!(r=i()).done;){var o=r.value;n.delete(o)}})})},t.forEach=function(n,r){for(var i,o=mt(this);!(i=o()).done;){var s=i.value;n.call(r,s,s,this)}},t.add=function(n){var r=this;if(this.atom_,_e(this)&&!we(this,{type:Ye,object:this,newValue:n}))return this;if(!this.has(n)){He(function(){r.data_.add(r.enhancer_(n,void 0)),r.atom_.reportChanged()});var i=Oe(this),o=i?{observableKind:"set",debugObjectName:this.name_,type:Ye,object:this,newValue:n}:null;i&&Ee(this,o)}return this},t.delete=function(n){var r=this;if(_e(this)&&!we(this,{type:xn,object:this,oldValue:n}))return!1;if(this.has(n)){var i=Oe(this),o=i?{observableKind:"set",debugObjectName:this.name_,type:xn,object:this,oldValue:n}:null;return He(function(){r.atom_.reportChanged(),r.data_.delete(n)}),i&&Ee(this,o),!0}return!1},t.has=function(n){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(n))},t.entries=function(){var n=0,r=Array.from(this.keys()),i=Array.from(this.values());return $t({next:function(){var o=n;return n+=1,o<i.length?{value:[r[o],i[o]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var n=this,r=0,i=Array.from(this.data_.values());return $t({next:function(){return r<i.length?{value:n.dehanceValue_(i[r++]),done:!1}:{done:!0}}})},t.replace=function(n){var r=this;return xt(n)&&(n=new Set(n)),He(function(){Array.isArray(n)||Mt(n)?(r.clear(),n.forEach(function(i){return r.add(i)})):n!=null&&B("Cannot initialize set from "+n)}),this},t.observe_=function(n,r){return zt(this,n)},t.intercept_=function(n){return Ut(this,n)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[jo]=function(){return this.values()},Jn(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Bo,get:function(){return"Set"}}]),e}(),xt=rt("ObservableSet",Fo),Ho=Object.create(null),Uo="remove",zo=function(){function e(n,r,i,o){r===void 0&&(r=new Map),o===void 0&&(o=iu),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=o,this.keysAtom_=new Nt("ObservableObject.keys"),this.isPlainObject_=Be(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(n){return this.values_.get(n).get()},t.setObservablePropValue_=function(n,r){var i=this.values_.get(n);if(i instanceof wt)return i.set(r),!0;if(_e(this)){var o=we(this,{type:Re,object:this.proxy_||this.target_,name:n,newValue:r});if(!o)return null;r=o.newValue}if((r=i.prepareNewValue_(r))!==I.UNCHANGED){var s=Oe(this),a=s?{type:Re,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:n,newValue:r}:null;i.setNewValue_(r),s&&Ee(this,a)}return!0},t.get_=function(n){return I.trackingDerivation&&!Ke(this.target_,n)&&this.has_(n),this.target_[n]},t.set_=function(n,r,i){return i===void 0&&(i=!1),Ke(this.target_,n)?this.values_.has(n)?this.setObservablePropValue_(n,r):i?Reflect.set(this.target_,n,r):(this.target_[n]=r,!0):this.extend_(n,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(n){if(!I.trackingDerivation)return n in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(n);return r||(r=new it(n in this.target_,sn,"ObservableObject.key?",!1),this.pendingKeys_.set(n,r)),r.get()},t.make_=function(n,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(!(n in this.target_)){var i;if((i=this.target_[Ae])!=null&&i[n])return;B(1,r.annotationType_,this.name_+"."+n.toString())}for(var o=this.target_;o&&o!==rn;){var s=nn(o,n);if(s){var a=r.make_(this,n,s,o);if(a===0)return;if(a===1)break}o=Object.getPrototypeOf(o)}qo(this,r,n)}},t.extend_=function(n,r,i,o){if(o===void 0&&(o=!1),i===!0&&(i=this.defaultAnnotation_),i===!1)return this.defineProperty_(n,r,o);var s=i.extend_(this,n,r,o);return s&&qo(this,i,n),s},t.defineProperty_=function(n,r,i){i===void 0&&(i=!1),this.keysAtom_;try{ye();var o=this.delete_(n);if(!o)return o;if(_e(this)){var s=we(this,{object:this.proxy_||this.target_,name:n,type:Ye,newValue:r.value});if(!s)return null;var a=s.newValue;r.value!==a&&(r=$e({},r,{value:a}))}if(i){if(!Reflect.defineProperty(this.target_,n,r))return!1}else Pe(this.target_,n,r);this.notifyPropertyAddition_(n,r.value)}finally{be()}return!0},t.defineObservableProperty_=function(n,r,i,o){o===void 0&&(o=!1),this.keysAtom_;try{ye();var s=this.delete_(n);if(!s)return s;if(_e(this)){var a=we(this,{object:this.proxy_||this.target_,name:n,type:Ye,newValue:r});if(!a)return null;r=a.newValue}var u=Wo(n),l={configurable:!I.safeDescriptors||this.isPlainObject_,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,n,l))return!1}else Pe(this.target_,n,l);var d=new it(r,i,"ObservableObject.key",!1);this.values_.set(n,d),this.notifyPropertyAddition_(n,d.value_)}finally{be()}return!0},t.defineComputedProperty_=function(n,r,i){i===void 0&&(i=!1),this.keysAtom_;try{ye();var o=this.delete_(n);if(!o)return o;if(_e(this)&&!we(this,{object:this.proxy_||this.target_,name:n,type:Ye,newValue:void 0}))return null;r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var s=Wo(n),a={configurable:!I.safeDescriptors||this.isPlainObject_,enumerable:!1,get:s.get,set:s.set};if(i){if(!Reflect.defineProperty(this.target_,n,a))return!1}else Pe(this.target_,n,a);this.values_.set(n,new wt(r)),this.notifyPropertyAddition_(n,void 0)}finally{be()}return!0},t.delete_=function(n,r){if(r===void 0&&(r=!1),this.keysAtom_,!Ke(this.target_,n))return!0;if(_e(this)&&!we(this,{object:this.proxy_||this.target_,name:n,type:Uo}))return null;try{var i,o;ye();var s,a=Oe(this),u=this.values_.get(n),l=void 0;if(!u&&a&&(l=(s=nn(this.target_,n))==null?void 0:s.value),r){if(!Reflect.deleteProperty(this.target_,n))return!1}else delete this.target_[n];if(u&&(this.values_.delete(n),u instanceof it&&(l=u.value_),bo(u)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(o=i.get(n))==null||o.set(n in this.target_),a){var d={type:Uo,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:l,name:n};a&&Ee(this,d)}}finally{be()}return!0},t.observe_=function(n,r){return zt(this,n)},t.intercept_=function(n){return Ut(this,n)},t.notifyPropertyAddition_=function(n,r){var i,o,s=Oe(this);if(s){var a=s?{type:Ye,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:n,newValue:r}:null;s&&Ee(this,a)}(i=this.pendingKeys_)==null||(o=i.get(n))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),gt(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function ut(e,t){var n;if(Ke(e,P))return e;var r=(n=t?.name)!=null?n:"ObservableObject",i=new zo(e,new Map,String(r),function(o){var s;return o?(s=o.defaultDecorator)!=null?s:Qi(o):void 0}(t));return Vt(e,P,i),e}var Lu=rt("ObservableObjectAdministration",zo);function Wo(e){return Ho[e]||(Ho[e]={get:function(){return this[P].getObservablePropValue_(e)},set:function(t){return this[P].setObservablePropValue_(e,t)}})}function On(e){return!!on(e)&&Lu(e[P])}function qo(e,t,n){var r;(r=e.target_[Ae])==null||delete r[n]}var Wt,En,Nu=Go(0),ju=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),vr=0,$o=function(){};Wt=$o,En=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Wt.prototype,En):Wt.prototype.__proto__!==void 0?Wt.prototype.__proto__=En:Wt.prototype=En;var gr=function(e,t,n){function r(o,s,a,u){var l;return a===void 0&&(a="ObservableArray"),u===void 0&&(u=!1),l=e.call(this)||this,Xe(function(){var d=new pr(a,s,u,!0);d.proxy_=er(l),zi(er(l),P,d),o&&o.length&&l.spliceWithArray(0,0,o),ju&&Object.defineProperty(er(l),"0",Nu)}),l}$i(r,e);var i=r.prototype;return i.concat=function(){this[P].atom_.reportObserved();for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),s.map(function(u){return Sn(u)?u.slice():u}))},i[n]=function(){var o=this,s=0;return $t({next:function(){return s<o.length?{value:o[s++],done:!1}:{done:!0,value:void 0}}})},Jn(r,[{key:"length",get:function(){return this[P].getArrayLength_()},set:function(o){this[P].setArrayLength_(o)}},{key:t,get:function(){return"Array"}}]),r}($o,Symbol.toStringTag,Symbol.iterator);function Go(e){return{enumerable:!1,configurable:!0,get:function(){return this[P].get_(e)},set:function(t){this[P].set_(e,t)}}}function Bu(e){Pe(gr.prototype,""+e,Go(e))}function Yo(e){if(e>vr){for(var t=vr;t<e+100;t++)Bu(t);vr=e}}function Ku(e,t,n){return new gr(e,t,n)}function qt(e,t){if(typeof e=="object"&&e!==null){if(Sn(e))return t!==void 0&&B(23),e[P].atom_;if(xt(e))return e.atom_;if(at(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||B(25,t,mr(e)),n}if(On(e)){if(!t)return B(26);var r=e[P].values_.get(t);return r||B(27,t,mr(e)),r}if(tr(e)||pn(e)||bn(e))return e}else if(xe(e)&&bn(e[P]))return e[P];B(28)}function Xo(e,t){return e||B(29),t!==void 0?Xo(qt(e,t)):tr(e)||pn(e)||bn(e)||at(e)||xt(e)?e:e[P]?e[P]:void B(24,e)}function mr(e,t){var n;if(t!==void 0)n=qt(e,t);else{if(_n(e))return e.name;n=On(e)||at(e)||xt(e)?Xo(e):qt(e)}return n.name_}function Xe(e){var t=ot(),n=dn(!0);ye();try{return e()}finally{be(),hn(n),Fe(t)}}Object.entries(In).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&Vt(gr.prototype,t,n)}),Yo(1e3);var Zo=rn.toString;function yr(e,t,n){return n===void 0&&(n=-1),br(e,t,n)}function br(e,t,n,r,i){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return!1;if(e!=e)return t!=t;var o=typeof e;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var s=Zo.call(e);if(s!==Zo.call(t))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=Jo(e),t=Jo(t);var a=s==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var u=e.constructor,l=t.constructor;if(u!==l&&!(xe(u)&&u instanceof u&&xe(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[];for(var d=(r=r||[]).length;d--;)if(r[d]===e)return i[d]===t;if(r.push(e),i.push(t),a){if((d=e.length)!==t.length)return!1;for(;d--;)if(!br(e[d],t[d],n-1,r,i))return!1}else{var p,f=Object.keys(e);if(d=f.length,Object.keys(t).length!==d)return!1;for(;d--;)if(!Ke(t,p=f[d])||!br(e[p],t[p],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function Jo(e){return Sn(e)?e.slice():vt(e)||at(e)||Mt(e)||xt(e)?Array.from(e.entries()):e}function $t(e){return e[Symbol.iterator]=Fu,e}function Fu(){return this}["Symbol","Map","Set"].forEach(function(e){Yn()[e]===void 0&&B("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:mr},$mobx:P});class Hu{constructor(t){_(this,"atom",void 0),this.atom=t,Ce(this,{props:H})}get props(){return this.atom.props}}class Uu{constructor(t){_(this,"props",void 0),this.props=t,Ce(this,{props:Y.ref,setProps:U})}setProps(t){this.props=t}}class _r{constructor(t){_(this,"atom",void 0),_(this,"gate",void 0),this.atom=new Uu(t),this.gate=new Hu(this.atom)}setProps(t){this.atom.setProps(t)}}function Cn(e){var t,n;return(n=(t=c.useRef(null)).current)!==null&&n!==void 0?n:t.current=typeof e=="function"?e():e}function Ze(e){const t=Cn(e);return c.useEffect(()=>t.setup(),[t]),t}if(!c.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Ce)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function zu(e){e()}function Wu(e){return To(qt(e,t));var t}var wr,Ir,qu=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=1e4),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var i=Date.now();n.registrations.forEach(function(o,s){i-o.registeredAt>=r&&(n.finalize(o.value),n.registrations.delete(s))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),Sr=new(typeof FinalizationRegistry<"u"?FinalizationRegistry:qu)(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null});function Qo(e){e.reaction=new Kt("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}var es=typeof Symbol=="function"&&Symbol.for,$u=(Ir=(wr=Object.getOwnPropertyDescriptor(function(){},"name"))===null||wr===void 0?void 0:wr.configurable)!==null&&Ir!==void 0&&Ir,ts=es?Symbol.for("react.forward_ref"):typeof c.forwardRef=="function"&&c.forwardRef(function(e){return null}).$$typeof,ns=es?Symbol.for("react.memo"):typeof c.memo=="function"&&c.memo(function(e){return null}).$$typeof;function Ue(e,t){var n;if(ns&&e.$$typeof===ns)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=void 0)!==null&&n!==void 0&&n,i=e,o=e.displayName||e.name;if(ts&&e.$$typeof===ts&&(r=!0,typeof(i=e.render)!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var s,a,u=function(l,d){return function(p,f){f===void 0&&(f="observed");var g=tt.useRef(null);if(!g.current){var m={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:f,subscribe:function(x){return Sr.unregister(m),m.onStoreChange=x,m.reaction||(Qo(m),m.stateVersion=Symbol()),function(){var S;m.onStoreChange=null,(S=m.reaction)===null||S===void 0||S.dispose(),m.reaction=null}},getSnapshot:function(){return m.stateVersion}};g.current=m}var b,h,y=g.current;if(y.reaction||(Qo(y),Sr.register(g,y,y)),tt.useDebugValue(y.reaction,Wu),tt.useSyncExternalStore(y.subscribe,y.getSnapshot,y.getSnapshot),y.reaction.track(function(){try{b=p()}catch(x){h=x}}),h)throw h;return b}(function(){return i(l,d)},o)};return u.displayName=e.displayName,$u&&Object.defineProperty(u,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(u.contextTypes=e.contextTypes),r&&(u=c.forwardRef(u)),u=c.memo(u),s=e,a=u,Object.keys(s).forEach(function(l){Gu[l]||Object.defineProperty(a,l,Object.getOwnPropertyDescriptor(s,l))}),u}var Gu={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function lt(){const e=new Set;return[t=>{t&&e.add(t)},()=>{for(const t of e)t();e.clear()}]}(function(e){e||(e=zu),Eu({reactionScheduler:e})})(Bi.unstable_batchedUpdates),Sr.finalizeAllImmediately;class Yu{constructor(t){_(this,"store",void 0),Ce(this,{value:H}),this.store=t.store}get value(){const t=[...this.store.selected];return this.toStorableValue(t)}fromStorableValue(t){if(t)return t.split(",")}toStorableValue(t){if(t.length>0)return t.join(",")}}class Xu{constructor(t){let{filterStore:n,parse:r,multiselect:i}=t;_(this,"filterStore",void 0),_(this,"parse",void 0),_(this,"multiselect",void 0),_(this,"handleResetValue",o=>{o?this.filterStore.reset():this.filterStore.clear()}),_(this,"handleSetValue",(o,s)=>{if(o)return void this.filterStore.reset();let a=Array.from(this.parse(s.stringValue));this.multiselect||(a=a.slice(0,1)),this.filterStore.setSelected(a)}),this.filterStore=n,this.parse=r,this.multiselect=i}}class Zu{constructor(t,n){_(this,"gate",void 0),_(this,"valueFn",void 0),this.gate=t,this.valueFn=n}setup(){return dr(this.valueFn,t=>{const{valueAttribute:n,onChange:r}=this.gate.props;n?.setValue(t),(i=>{i&&i.canExecute&&!i.isExecuting&&i.execute()})(r)})}}class rs{constructor(t){var n=this;let{gate:r,multiselect:i}=t;_(this,"actionHelper",void 0),_(this,"changeHelper",void 0),_(this,"defaultValue",void 0),_(this,"serializer",void 0),_(this,"filterStore",void 0),_(this,"multiselect",void 0),_(this,"parseDefaultValue",s=>{const a=this.serializer.fromStorableValue(s);if(!a)return;const u=Array.from(a);return this.multiselect?u:u.slice(0,1)}),_(this,"handleSetValue",function(){n.actionHelper.handleSetValue(...arguments)}),_(this,"handleResetValue",function(){n.actionHelper.handleResetValue(...arguments)});const o=r.props;this.filterStore=o.filterStore,this.multiselect=i,this.serializer=new Yu({store:this.filterStore}),this.defaultValue=this.parseDefaultValue(o.defaultValue),this.actionHelper=new Xu({filterStore:o.filterStore,parse:s=>{var a;return(a=this.serializer.fromStorableValue(s))!==null&&a!==void 0?a:[]},multiselect:o.multiselect}),this.changeHelper=new Zu(r,()=>this.serializer.value)}}class xr extends rs{constructor(t){let{gate:n,multiselect:r}=t;super({gate:n,multiselect:r}),_(this,"gate",void 0),_(this,"toStoreOption",i=>{var o,s;return{caption:"".concat((o=i.caption)===null||o===void 0?void 0:o.value),value:"".concat((s=i.value)===null||s===void 0?void 0:s.value)}}),this.gate=n,Ce(this,{filterOptions:H.struct})}get filterOptions(){return this.gate.props.filterOptions.map(this.toStoreOption)}setup(){const[t,n]=lt();return t(this.changeHelper.setup()),t(st(()=>{this.filterOptions.length>0&&this.filterStore.setCustomOptions(this.filterOptions)})),this.defaultValue&&this.filterStore.setDefaultSelected(this.defaultValue),n}}function Ve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(null,arguments)}function is(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var os,ss,as,us,ls,cs={exports:{}};function Ju(){return ss?os:(ss=1,os="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function Qu(){if(us)return as;us=1;var e=Ju();function t(){}function n(){}return n.resetWarningCache=t,as=function(){function r(s,a,u,l,d,p){if(p!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}}function el(){return ls||(ls=1,cs.exports=Qu()()),cs.exports}var ds,hs,T=is(el()),z={};hs||(hs=1,function(){if(ds)return z;ds=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function b(h){if(typeof h=="object"&&h!==null){var y=h.$$typeof;switch(y){case t:switch(h=h.type){case r:case o:case i:case d:case p:return h;default:switch(h=h&&h.$$typeof){case u:case a:case l:case g:case f:case s:return h;default:return y}}case n:return y}}}return e=Symbol.for("react.module.reference"),z.ContextConsumer=a,z.ContextProvider=s,z.Element=t,z.ForwardRef=l,z.Fragment=r,z.Lazy=g,z.Memo=f,z.Portal=n,z.Profiler=o,z.StrictMode=i,z.Suspense=d,z.SuspenseList=p,z.isAsyncMode=function(){return!1},z.isConcurrentMode=function(){return!1},z.isContextConsumer=function(h){return b(h)===a},z.isContextProvider=function(h){return b(h)===s},z.isElement=function(h){return typeof h=="object"&&h!==null&&h.$$typeof===t},z.isForwardRef=function(h){return b(h)===l},z.isFragment=function(h){return b(h)===r},z.isLazy=function(h){return b(h)===g},z.isMemo=function(h){return b(h)===f},z.isPortal=function(h){return b(h)===n},z.isProfiler=function(h){return b(h)===o},z.isStrictMode=function(h){return b(h)===i},z.isSuspense=function(h){return b(h)===d},z.isSuspenseList=function(h){return b(h)===p},z.isValidElementType=function(h){return typeof h=="string"||typeof h=="function"||h===r||h===o||h===i||h===d||h===p||h===m||typeof h=="object"&&h!==null&&(h.$$typeof===g||h.$$typeof===f||h.$$typeof===s||h.$$typeof===a||h.$$typeof===l||h.$$typeof===e||h.getModuleId!==void 0)},z.typeOf=b,z}());const fs=e=>typeof e=="object"&&e!=null&&e.nodeType===1,ps=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",Or=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return ps(n.overflowY,t)||ps(n.overflowX,t)||(r=>{const i=(o=>{if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)})(e)}return!1},kn=(e,t,n,r,i,o,s,a)=>o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-r:s>t&&a<n||o<e&&a>n?s-t+i:0,tl=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)};var Ot=function(){return Ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ot.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var nl=0;function vs(){}function gs(e,t,n){return e===t||t instanceof n.Node&&e.contains&&e.contains(t)}function Er(e,t){var n;function r(){n&&clearTimeout(n)}function i(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];r(),n=setTimeout(function(){n=null,e.apply(void 0,s)},t)}return i.cancel=r,i}function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return a&&a.apply(void 0,[r].concat(o)),r.preventDownshiftDefault||r.hasOwnProperty("nativeEvent")&&r.nativeEvent.preventDownshiftDefault})}}function ze(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){t.forEach(function(i){typeof i=="function"?i(r):i&&(i.current=r)})}}function Tn(e,t){return e&&t?Object.keys(e).reduce(function(n,r){return n[r]=ms(t,r)?t[r]:e[r],n},{}):e}function ms(e,t){return e[t]!==void 0}function Pn(e){var t=e.key,n=e.keyCode;return n>=37&&n<=40&&t.indexOf("Arrow")!==0?"Arrow"+t:t}function Je(e,t,n,r,i){i===void 0&&(i=!1);var o=n.length;if(o===0)return-1;var s=o-1;(typeof e!="number"||e<0||e>s)&&(e=t>0?-1:s+1);var a=e+t;a<0?a=i?s:0:a>s&&(a=i?0:s);var u=Et(a,t<0,n,r,i);return u===-1?e>=o?-1:e:u}function Et(e,t,n,r,i){i===void 0&&(i=!1);var o=n.length;if(t){for(var s=e;s>=0;s--)if(!r(n[s],s))return s}else for(var a=e;a<o;a++)if(!r(n[a],a))return a;return i?Et(t?o-1:0,t,n,r):-1}function ys(e,t,n,r){return r===void 0&&(r=!0),n&&t.some(function(i){return i&&(gs(i,e,n)||r&&gs(i,n.document.activeElement,n))})}var rl=Er(function(e){bs(e).textContent=""},500);function bs(e){var t=e.getElementById("a11y-status-message");return t||((t=e.createElement("div")).setAttribute("id","a11y-status-message"),t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-relevant","additions text"),Object.assign(t.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),e.body.appendChild(t),t)}var _s={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function il(e,t,n){var r=e.props,i=e.type,o={};Object.keys(t).forEach(function(s){(function(a,u,l,d){var p=u.props,f=u.type,g="on"+kr(a)+"Change";p[g]&&d[a]!==void 0&&d[a]!==l[a]&&p[g](j({type:f},d))})(s,e,t,n),n[s]!==t[s]&&(o[s]=n[s])}),r.onStateChange&&Object.keys(o).length&&r.onStateChange(j({type:i},o))}var ws=Er(function(e,t){(function(n,r){n&&r&&(bs(r).textContent=n,rl(r))})(e,t)},200),ol=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?c.useLayoutEffect:c.useEffect,Is="useId"in tt?function(e){var t=e.id,n=e.labelId,r=e.menuId,i=e.getItemId,o=e.toggleButtonId,s=e.inputId,a="downshift-"+tt.useId();t||(t=a);var u=c.useRef({labelId:n||t+"-label",menuId:r||t+"-menu",getItemId:i||function(l){return t+"-item-"+l},toggleButtonId:o||t+"-toggle-button",inputId:s||t+"-input"});return u.current}:function(e){var t=e.id,n=t===void 0?"downshift-"+String(nl++):t,r=e.labelId,i=e.menuId,o=e.getItemId,s=e.toggleButtonId,a=e.inputId,u=c.useRef({labelId:r||n+"-label",menuId:i||n+"-menu",getItemId:o||function(l){return n+"-item-"+l},toggleButtonId:s||n+"-toggle-button",inputId:a||n+"-input"});return u.current};function Cr(e,t,n,r){var i,o;if(e===void 0){if(t===void 0)throw new Error(r);i=n[t],o=t}else o=t===void 0?n.indexOf(e):t,i=e;return[i,o]}function kr(e){return""+e.slice(0,1).toUpperCase()+e.slice(1)}function An(e){var t=c.useRef(e);return t.current=e,t}function Ss(e,t,n,r){var i=c.useRef(),o=c.useRef(),s=c.useCallback(function(g,m){o.current=m,g=Tn(g,m.props);var b=e(g,m);return m.props.stateReducer(g,j({},m,{changes:b}))},[e]),a=c.useReducer(s,t,n),u=a[0],l=a[1],d=An(t),p=c.useCallback(function(g){return l(j({props:d.current},g))},[d]),f=o.current;return c.useEffect(function(){var g=Tn(i.current,f?.props);f&&i.current&&!r(g,u)&&il(f,g,u),i.current=u},[u,f,r]),[u,p]}function xs(e,t,n,r){var i=Ss(e,t,n,r),o=i[0],s=i[1];return[Tn(o,t),s]}var Gt={itemToString:function(e){return e?String(e):""},itemToKey:function(e){return e},stateReducer:function(e,t){return t.changes},scrollIntoView:function(e,t){if(e){var n=((r,i)=>{var o,s,a,u;if(typeof document>"u")return[];const{scrollMode:l,block:d,inline:p,boundary:f,skipOverflowHiddenElements:g}=i,m=typeof f=="function"?f:D=>D!==f;if(!fs(r))throw new TypeError("Invalid target");const b=document.scrollingElement||document.documentElement,h=[];let y=r;for(;fs(y)&&m(y);){if(y=tl(y),y===b){h.push(y);break}y!=null&&y===document.body&&Or(y)&&!Or(document.documentElement)||y!=null&&Or(y,g)&&h.push(y)}const x=(s=(o=window.visualViewport)==null?void 0:o.width)!=null?s:innerWidth,S=(u=(a=window.visualViewport)==null?void 0:a.height)!=null?u:innerHeight,{scrollX:w,scrollY:C}=window,{height:E,width:M,top:L,right:W,bottom:ae,left:V}=r.getBoundingClientRect(),{top:re,right:ie,bottom:te,left:J}=(D=>{const v=window.getComputedStyle(D);return{top:parseFloat(v.scrollMarginTop)||0,right:parseFloat(v.scrollMarginRight)||0,bottom:parseFloat(v.scrollMarginBottom)||0,left:parseFloat(v.scrollMarginLeft)||0}})(r);let q=d==="start"||d==="nearest"?L-re:d==="end"?ae+te:L+E/2-re+te,N=p==="center"?V+M/2-J+ie:p==="end"?W+ie:V-J;const k=[];for(let D=0;D<h.length;D++){const v=h[D],{height:O,width:A,top:R,right:X,bottom:G,left:K}=v.getBoundingClientRect();if(l==="if-needed"&&L>=0&&V>=0&&ae<=S&&W<=x&&L>=R&&ae<=G&&V>=K&&W<=X)return k;const $=getComputedStyle(v),Q=parseInt($.borderLeftWidth,10),ue=parseInt($.borderTopWidth,10),pe=parseInt($.borderRightWidth,10),ce=parseInt($.borderBottomWidth,10);let ee=0,oe=0;const le="offsetWidth"in v?v.offsetWidth-v.clientWidth-Q-pe:0,ve="offsetHeight"in v?v.offsetHeight-v.clientHeight-ue-ce:0,ne="offsetWidth"in v?v.offsetWidth===0?0:A/v.offsetWidth:0,de="offsetHeight"in v?v.offsetHeight===0?0:O/v.offsetHeight:0;if(b===v)ee=d==="start"?q:d==="end"?q-S:d==="nearest"?kn(C,C+S,S,ue,ce,C+q,C+q+E,E):q-S/2,oe=p==="start"?N:p==="center"?N-x/2:p==="end"?N-x:kn(w,w+x,x,Q,pe,w+N,w+N+M,M),ee=Math.max(0,ee+C),oe=Math.max(0,oe+w);else{ee=d==="start"?q-R-ue:d==="end"?q-G+ce+ve:d==="nearest"?kn(R,G,O,ue,ce+ve,q,q+E,E):q-(R+O/2)+ve/2,oe=p==="start"?N-K-Q:p==="center"?N-(K+A/2)+le/2:p==="end"?N-X+pe+le:kn(K,X,A,Q,pe+le,N,N+M,M);const{scrollLeft:je,scrollTop:he}=v;ee=de===0?0:Math.max(0,Math.min(he+ee/de,v.scrollHeight-O/de+ve)),oe=ne===0?0:Math.max(0,Math.min(je+oe/ne,v.scrollWidth-A/ne+le)),q+=he-ee,N+=je-oe}k.push({el:v,top:ee,left:oe})}return k})(e,{boundary:t,block:"nearest",scrollMode:"if-needed"});n.forEach(function(r){var i=r.el,o=r.top,s=r.left;i.scrollTop=o,i.scrollLeft=s})}},environment:typeof window>"u"?void 0:window};function Me(e,t,n){n===void 0&&(n=_s);var r=e["default"+kr(t)];return r!==void 0?r:n[t]}function ct(e,t,n){n===void 0&&(n=_s);var r=e[t];if(r!==void 0)return r;var i=e["initial"+kr(t)];return i!==void 0?i:Me(e,t,n)}function Os(e){var t=ct(e,"selectedItem"),n=ct(e,"isOpen"),r=function(o){var s=ct(o,"highlightedIndex");return s>-1&&o.isItemDisabled(o.items[s],s)?-1:s}(e),i=ct(e,"inputValue");return{highlightedIndex:r<0&&t&&n?e.items.findIndex(function(o){return e.itemToKey(o)===e.itemToKey(t)}):r,isOpen:n,selectedItem:t,inputValue:i}}function dt(e,t,n){var r=e.items,i=e.initialHighlightedIndex,o=e.defaultHighlightedIndex,s=e.isItemDisabled,a=e.itemToKey,u=t.selectedItem,l=t.highlightedIndex;return r.length===0?-1:i===void 0||l!==i||s(r[i],i)?o===void 0||s(r[o],o)?u?r.findIndex(function(d){return a(u)===a(d)}):n<0&&!s(r[r.length-1],r.length-1)?r.length-1:n>0&&!s(r[0],0)?0:-1:o:i}function Es(e,t,n){var r=c.useRef({isMouseDown:!1,isTouchMove:!1,isTouchEnd:!1});return c.useEffect(function(){if(!e)return vs;var i=n.map(function(d){return d.current});function o(){r.current.isTouchEnd=!1,r.current.isMouseDown=!0}function s(d){r.current.isMouseDown=!1,ys(d.target,i,e)||t()}function a(){r.current.isTouchEnd=!1,r.current.isTouchMove=!1}function u(){r.current.isTouchMove=!0}function l(d){r.current.isTouchEnd=!0,r.current.isTouchMove||ys(d.target,i,e,!1)||t()}return e.addEventListener("mousedown",o),e.addEventListener("mouseup",s),e.addEventListener("touchstart",a),e.addEventListener("touchmove",u),e.addEventListener("touchend",l),function(){e.removeEventListener("mousedown",o),e.removeEventListener("mouseup",s),e.removeEventListener("touchstart",a),e.removeEventListener("touchmove",u),e.removeEventListener("touchend",l)}},[n,e,t]),r.current}var Tr=function(){return vs};function Pr(e,t,n,r){r===void 0&&(r={});var i=r.document,o=Rn();c.useEffect(function(){if(e&&!o&&i){var s=e(t);ws(s,i)}},n),c.useEffect(function(){return function(){var s,a;ws.cancel(),(a=(s=i)==null?void 0:s.getElementById("a11y-status-message"))&&a.remove()}},[i])}function Cs(e){var t=e.highlightedIndex,n=e.isOpen,r=e.itemRefs,i=e.getItemNodeFromIndex,o=e.menuElement,s=e.scrollIntoView,a=c.useRef(!0);return ol(function(){t<0||!n||!Object.keys(r.current).length||(a.current===!1?a.current=!0:s(i(t),o))},[t]),a}function Dn(e,t,n){var r;return n===void 0&&(n=!0),j({isOpen:!1,highlightedIndex:-1},((r=e.items)==null?void 0:r.length)&&t>=0&&j({selectedItem:e.items[t],isOpen:Me(e,"isOpen"),highlightedIndex:Me(e,"highlightedIndex")},n&&{inputValue:e.itemToString(e.items[t])}))}function ks(e,t){return e.isOpen===t.isOpen&&e.inputValue===t.inputValue&&e.highlightedIndex===t.highlightedIndex&&e.selectedItem===t.selectedItem}function Rn(){var e=tt.useRef(!0);return tt.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]),e.current}function Vn(e){var t=Me(e,"highlightedIndex");return t>-1&&e.isItemDisabled(e.items[t],t)?-1:t}var sl={environment:T.shape({addEventListener:T.func.isRequired,removeEventListener:T.func.isRequired,document:T.shape({createElement:T.func.isRequired,getElementById:T.func.isRequired,activeElement:T.any.isRequired,body:T.any.isRequired}).isRequired,Node:T.func.isRequired}),itemToString:T.func,itemToKey:T.func,stateReducer:T.func},Ts=j({},sl,{getA11yStatusMessage:T.func,highlightedIndex:T.number,defaultHighlightedIndex:T.number,initialHighlightedIndex:T.number,isOpen:T.bool,defaultIsOpen:T.bool,initialIsOpen:T.bool,selectedItem:T.any,initialSelectedItem:T.any,defaultSelectedItem:T.any,id:T.string,labelId:T.string,menuId:T.string,getItemId:T.func,toggleButtonId:T.string,onSelectedItemChange:T.func,onHighlightedIndexChange:T.func,onStateChange:T.func,onIsOpenChange:T.func,scrollIntoView:T.func});function Ps(e,t,n){var r,i=t.type,o=t.props;switch(i){case n.ItemMouseMove:r={highlightedIndex:t.disabled?-1:t.index};break;case n.MenuMouseLeave:r={highlightedIndex:-1};break;case n.ToggleButtonClick:case n.FunctionToggleMenu:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:dt(o,e,0)};break;case n.FunctionOpenMenu:r={isOpen:!0,highlightedIndex:dt(o,e,0)};break;case n.FunctionCloseMenu:r={isOpen:!1};break;case n.FunctionSetHighlightedIndex:r={highlightedIndex:o.isItemDisabled(o.items[t.highlightedIndex],t.highlightedIndex)?-1:t.highlightedIndex};break;case n.FunctionSetInputValue:r={inputValue:t.inputValue};break;case n.FunctionReset:r={highlightedIndex:Vn(o),isOpen:Me(o,"isOpen"),selectedItem:Me(o,"selectedItem"),inputValue:Me(o,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return j({},e,r)}Ot(Ot({},Ts),{items:T.array.isRequired,isItemDisabled:T.func});var al=Ot(Ot({},Gt),{isItemDisabled:function(){return!1}}),Mn=0,Ar=1,Dr=2,Ln=3,Rr=4,Vr=5,Mr=6,Lr=7,Nr=8,jr=9,Br=10,Nn=11,As=12,Ds=13,Kr=14,Rs=15,Vs=16,Ms=17,Ls=18,Fr=19,Hr=20,Ns=21,js=Object.freeze({__proto__:null,FunctionCloseMenu:Ms,FunctionOpenMenu:Vs,FunctionReset:Ns,FunctionSelectItem:Fr,FunctionSetHighlightedIndex:Ls,FunctionSetInputValue:Hr,FunctionToggleMenu:Rs,ItemClick:Kr,ItemMouseMove:Ds,MenuMouseLeave:As,ToggleButtonBlur:Nn,ToggleButtonClick:Mn,ToggleButtonKeyDownArrowDown:Ar,ToggleButtonKeyDownArrowUp:Dr,ToggleButtonKeyDownCharacter:Ln,ToggleButtonKeyDownEnd:Mr,ToggleButtonKeyDownEnter:Lr,ToggleButtonKeyDownEscape:Rr,ToggleButtonKeyDownHome:Vr,ToggleButtonKeyDownPageDown:Br,ToggleButtonKeyDownPageUp:jr,ToggleButtonKeyDownSpaceButton:Nr});function ul(e,t){var n,r,i=t.type,o=t.props,s=t.altKey;switch(i){case Kr:r={isOpen:Me(o,"isOpen"),highlightedIndex:Vn(o),selectedItem:o.items[t.index]};break;case Ln:var a=t.key,u=""+e.inputValue+a,l=function(d){for(var p=d.keysSoFar,f=d.highlightedIndex,g=d.items,m=d.itemToString,b=d.isItemDisabled,h=p.toLowerCase(),y=0;y<g.length;y++){var x=(y+f+(p.length<2?1:0))%g.length,S=g[x];if(S!==void 0&&m(S).toLowerCase().startsWith(h)&&!b(S,x))return x}return f}({keysSoFar:u,highlightedIndex:!e.isOpen&&e.selectedItem?o.items.findIndex(function(d){return o.itemToKey(d)===o.itemToKey(e.selectedItem)}):e.highlightedIndex,items:o.items,itemToString:o.itemToString,isItemDisabled:o.isItemDisabled});r={inputValue:u,highlightedIndex:l,isOpen:!0};break;case Ar:r={highlightedIndex:e.isOpen?Je(e.highlightedIndex,1,o.items,o.isItemDisabled):s&&e.selectedItem==null?-1:dt(o,e,1),isOpen:!0};break;case Dr:e.isOpen&&s?r=Dn(o,e.highlightedIndex,!1):r={highlightedIndex:e.isOpen?Je(e.highlightedIndex,-1,o.items,o.isItemDisabled):dt(o,e,-1),isOpen:!0};break;case Lr:case Nr:r=Dn(o,e.highlightedIndex,!1);break;case Vr:r={highlightedIndex:Et(0,!1,o.items,o.isItemDisabled),isOpen:!0};break;case Mr:r={highlightedIndex:Et(o.items.length-1,!0,o.items,o.isItemDisabled),isOpen:!0};break;case jr:r={highlightedIndex:Je(e.highlightedIndex,-10,o.items,o.isItemDisabled)};break;case Br:r={highlightedIndex:Je(e.highlightedIndex,10,o.items,o.isItemDisabled)};break;case Rr:r={isOpen:!1,highlightedIndex:-1};break;case Nn:r=j({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=o.items)==null?void 0:n.length)&&{selectedItem:o.items[e.highlightedIndex]});break;case Fr:r={selectedItem:t.selectedItem};break;default:return Ps(e,t,js)}return j({},e,r)}var ll=["onClick"],cl=["onMouseLeave","refKey","ref"],dl=["onBlur","onClick","onPress","onKeyDown","refKey","ref"],hl=["item","index","onMouseMove","onClick","onMouseDown","onPress","refKey","disabled","ref"];function Ct(e){e===void 0&&(e={});var t=j({},al,e),n=t.scrollIntoView,r=t.environment,i=t.getA11yStatusMessage,o=xs(ul,t,Os,ks),s=o[0],a=o[1],u=s.isOpen,l=s.highlightedIndex,d=s.selectedItem,p=s.inputValue,f=c.useRef(null),g=c.useRef(null),m=c.useRef({}),b=c.useRef(null),h=Is(t),y=An({state:s,props:t}),x=c.useCallback(function(k){return m.current[h.getItemId(k)]},[h]);Pr(i,s,[u,l,d,p],r);var S=Cs({menuElement:g.current,highlightedIndex:l,isOpen:u,itemRefs:m,scrollIntoView:n,getItemNodeFromIndex:x});c.useEffect(function(){return b.current=Er(function(k){k({type:Hr,inputValue:""})},500),function(){b.current.cancel()}},[]),c.useEffect(function(){p&&b.current(a)},[a,p]),c.useEffect(function(){ct(t,"isOpen")&&f.current&&f.current.focus()},[]);var w=Es(r,c.useCallback(function(){y.current.state.isOpen&&a({type:Nn})},[a,y]),c.useMemo(function(){return[g,f]},[g.current,f.current])),C=Tr();c.useEffect(function(){u||(m.current={})},[u]);var E=c.useMemo(function(){return{ArrowDown:function(k){k.preventDefault(),a({type:Ar,altKey:k.altKey})},ArrowUp:function(k){k.preventDefault(),a({type:Dr,altKey:k.altKey})},Home:function(k){k.preventDefault(),a({type:Vr})},End:function(k){k.preventDefault(),a({type:Mr})},Escape:function(){y.current.state.isOpen&&a({type:Rr})},Enter:function(k){k.preventDefault(),a({type:y.current.state.isOpen?Lr:Mn})},PageUp:function(k){y.current.state.isOpen&&(k.preventDefault(),a({type:jr}))},PageDown:function(k){y.current.state.isOpen&&(k.preventDefault(),a({type:Br}))}," ":function(k){k.preventDefault();var D=y.current.state;D.isOpen?D.inputValue?a({type:Ln,key:" "}):a({type:Nr}):a({type:Mn})}}},[a,y]),M=c.useCallback(function(){a({type:Rs})},[a]),L=c.useCallback(function(){a({type:Ms})},[a]),W=c.useCallback(function(){a({type:Vs})},[a]),ae=c.useCallback(function(k){a({type:Ls,highlightedIndex:k})},[a]),V=c.useCallback(function(k){a({type:Fr,selectedItem:k})},[a]),re=c.useCallback(function(){a({type:Ns})},[a]),ie=c.useCallback(function(k){a({type:Hr,inputValue:k})},[a]),te=c.useCallback(function(k){var D=k===void 0?{}:k,v=D.onClick,O=Ve(D,ll);return j({id:h.labelId,htmlFor:h.toggleButtonId,onClick:se(v,function(){var A;(A=f.current)==null||A.focus()})},O)},[h]),J=c.useCallback(function(k,D){var v,O=k===void 0?{}:k,A=O.onMouseLeave,R=O.refKey,X=R===void 0?"ref":R,G=O.ref,K=Ve(O,cl);return(D===void 0?{}:D).suppressRefError,j(((v={})[X]=ze(G,function($){g.current=$}),v.id=h.menuId,v.role="listbox",v["aria-labelledby"]=K&&K["aria-label"]?void 0:""+h.labelId,v.onMouseLeave=se(A,function(){a({type:As})}),v),K)},[a,C,h]),q=c.useCallback(function(k,D){var v,O=k===void 0?{}:k,A=O.onBlur,R=O.onClick;O.onPress;var X=O.onKeyDown,G=O.refKey,K=G===void 0?"ref":G,$=O.ref,Q=Ve(O,dl);(D===void 0?{}:D).suppressRefError;var ue=y.current.state,pe=j(((v={})[K]=ze($,function(ce){f.current=ce}),v["aria-activedescendant"]=ue.isOpen&&ue.highlightedIndex>-1?h.getItemId(ue.highlightedIndex):"",v["aria-controls"]=h.menuId,v["aria-expanded"]=y.current.state.isOpen,v["aria-haspopup"]="listbox",v["aria-labelledby"]=Q&&Q["aria-label"]?void 0:""+h.labelId,v.id=h.toggleButtonId,v.role="combobox",v.tabIndex=0,v.onBlur=se(A,function(){ue.isOpen&&!w.isMouseDown&&a({type:Nn})}),v),Q);return Q.disabled||(pe.onClick=se(R,function(){a({type:Mn})}),pe.onKeyDown=se(X,function(ce){var ee=Pn(ce);ee&&E[ee]?E[ee](ce):function(oe){return/^\S{1}$/.test(oe)}(ee)&&a({type:Ln,key:ee})})),pe},[a,h,y,w,C,E]),N=c.useCallback(function(k){var D,v=k===void 0?{}:k,O=v.item,A=v.index,R=v.onMouseMove,X=v.onClick,G=v.onMouseDown;v.onPress;var K=v.refKey,$=K===void 0?"ref":K,Q=v.disabled,ue=v.ref,pe=Ve(v,hl);Q!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useSelect.');var ce=y.current,ee=ce.state,oe=ce.props,le=Cr(O,A,oe.items,"Pass either item or index to getItemProps!"),ve=le[0],ne=le[1],de=oe.isItemDisabled(ve,ne),je=j(((D={})[$]=ze(ue,function(he){he&&(m.current[h.getItemId(ne)]=he)}),D["aria-disabled"]=de,D["aria-selected"]=ve===ee.selectedItem,D.id=h.getItemId(ne),D.role="option",D),pe);return de||(je.onClick=se(X,function(){a({type:Kr,index:ne})})),je.onMouseMove=se(R,function(){w.isTouchEnd||ne===ee.highlightedIndex||(S.current=!1,a({type:Ds,index:ne,disabled:de}))}),je.onMouseDown=se(G,function(he){return he.preventDefault()}),je},[y,h,w,S,a]);return{getToggleButtonProps:q,getLabelProps:te,getMenuProps:J,getItemProps:N,toggleMenu:M,openMenu:W,closeMenu:L,setHighlightedIndex:ae,selectItem:V,reset:re,setInputValue:ie,highlightedIndex:l,isOpen:u,selectedItem:d,inputValue:p}}Ct.stateChangeTypes=js;var Ur=0,zr=1,Wr=2,qr=3,$r=4,Gr=5,Yr=6,Xr=7,Zr=8,jn=9,Jr=10,Bs=11,Ks=12,Qr=13,Fs=14,Hs=15,Us=16,zs=17,Ws=18,ei=19,qs=20,$s=21,ti=22,Gs=Object.freeze({__proto__:null,ControlledPropUpdatedSelectedItem:ti,FunctionCloseMenu:zs,FunctionOpenMenu:Us,FunctionReset:$s,FunctionSelectItem:ei,FunctionSetHighlightedIndex:Ws,FunctionSetInputValue:qs,FunctionToggleMenu:Hs,InputBlur:jn,InputChange:Zr,InputClick:Jr,InputKeyDownArrowDown:Ur,InputKeyDownArrowUp:zr,InputKeyDownEnd:$r,InputKeyDownEnter:Xr,InputKeyDownEscape:Wr,InputKeyDownHome:qr,InputKeyDownPageDown:Yr,InputKeyDownPageUp:Gr,ItemClick:Qr,ItemMouseMove:Ks,MenuMouseLeave:Bs,ToggleButtonClick:Fs});function fl(e){var t=Os(e),n=t.selectedItem,r=t.inputValue;return r===""&&n&&e.defaultInputValue===void 0&&e.initialInputValue===void 0&&e.inputValue===void 0&&(r=e.itemToString(n)),j({},t,{inputValue:r})}j({},Ts,{items:T.array.isRequired,isItemDisabled:T.func,inputValue:T.string,defaultInputValue:T.string,initialInputValue:T.string,inputId:T.string,onInputValueChange:T.func});var pl=j({},Gt,{isItemDisabled:function(){return!1}});function vl(e,t){var n,r,i=t.type,o=t.props,s=t.altKey;switch(i){case Qr:r={isOpen:Me(o,"isOpen"),highlightedIndex:Vn(o),selectedItem:o.items[t.index],inputValue:o.itemToString(o.items[t.index])};break;case Ur:r=e.isOpen?{highlightedIndex:Je(e.highlightedIndex,1,o.items,o.isItemDisabled,!0)}:{highlightedIndex:s&&e.selectedItem==null?-1:dt(o,e,1),isOpen:o.items.length>=0};break;case zr:r=e.isOpen?s?Dn(o,e.highlightedIndex):{highlightedIndex:Je(e.highlightedIndex,-1,o.items,o.isItemDisabled,!0)}:{highlightedIndex:dt(o,e,-1),isOpen:o.items.length>=0};break;case Xr:r=Dn(o,e.highlightedIndex);break;case Wr:r=j({isOpen:!1,highlightedIndex:-1},!e.isOpen&&{selectedItem:null,inputValue:""});break;case Gr:r={highlightedIndex:Je(e.highlightedIndex,-10,o.items,o.isItemDisabled,!0)};break;case Yr:r={highlightedIndex:Je(e.highlightedIndex,10,o.items,o.isItemDisabled,!0)};break;case qr:r={highlightedIndex:Et(0,!1,o.items,o.isItemDisabled)};break;case $r:r={highlightedIndex:Et(o.items.length-1,!0,o.items,o.isItemDisabled)};break;case jn:r=j({isOpen:!1,highlightedIndex:-1},e.highlightedIndex>=0&&((n=o.items)==null?void 0:n.length)&&t.selectItem&&{selectedItem:o.items[e.highlightedIndex],inputValue:o.itemToString(o.items[e.highlightedIndex])});break;case Zr:r={isOpen:!0,highlightedIndex:Vn(o),inputValue:t.inputValue};break;case Jr:r={isOpen:!e.isOpen,highlightedIndex:e.isOpen?-1:dt(o,e,0)};break;case ei:r={selectedItem:t.selectedItem,inputValue:o.itemToString(t.selectedItem)};break;case ti:r={inputValue:t.inputValue};break;default:return Ps(e,t,Gs)}return j({},e,r)}var gl=["onMouseLeave","refKey","ref"],ml=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],yl=["onClick","onPress","refKey","ref"],bl=["onKeyDown","onChange","onInput","onBlur","onChangeText","onClick","refKey","ref"];function fe(e){e===void 0&&(e={});var t=j({},pl,e),n=t.items,r=t.scrollIntoView,i=t.environment,o=t.getA11yStatusMessage,s=function(v,O,A,R){var X=c.useRef(),G=Ss(v,O,A,R),K=G[0],$=G[1],Q=Rn();return c.useEffect(function(){ms(O,"selectedItem")&&(Q||O.itemToKey(O.selectedItem)!==O.itemToKey(X.current)&&$({type:ti,inputValue:O.itemToString(O.selectedItem)}),X.current=K.selectedItem===X.current?O.selectedItem:K.selectedItem)},[K.selectedItem,O.selectedItem]),[Tn(K,O),$]}(vl,t,fl,ks),a=s[0],u=s[1],l=a.isOpen,d=a.highlightedIndex,p=a.selectedItem,f=a.inputValue,g=c.useRef(null),m=c.useRef({}),b=c.useRef(null),h=c.useRef(null),y=Rn(),x=Is(t),S=c.useRef(),w=An({state:a,props:t}),C=c.useCallback(function(v){return m.current[x.getItemId(v)]},[x]);Pr(o,a,[l,d,p,f],i);var E=Cs({menuElement:g.current,highlightedIndex:d,isOpen:l,itemRefs:m,scrollIntoView:r,getItemNodeFromIndex:C});c.useEffect(function(){ct(t,"isOpen")&&b.current&&b.current.focus()},[]),c.useEffect(function(){y||(S.current=n.length)});var M=Es(i,c.useCallback(function(){w.current.state.isOpen&&u({type:jn,selectItem:!1})},[u,w]),c.useMemo(function(){return[g,h,b]},[g.current,h.current,b.current])),L=Tr();c.useEffect(function(){l||(m.current={})},[l]),c.useEffect(function(){var v;l&&i!=null&&i.document&&b!=null&&(v=b.current)!=null&&v.focus&&i.document.activeElement!==b.current&&b.current.focus()},[l,i]);var W=c.useMemo(function(){return{ArrowDown:function(v){v.preventDefault(),u({type:Ur,altKey:v.altKey})},ArrowUp:function(v){v.preventDefault(),u({type:zr,altKey:v.altKey})},Home:function(v){w.current.state.isOpen&&(v.preventDefault(),u({type:qr}))},End:function(v){w.current.state.isOpen&&(v.preventDefault(),u({type:$r}))},Escape:function(v){var O=w.current.state;(O.isOpen||O.inputValue||O.selectedItem||O.highlightedIndex>-1)&&(v.preventDefault(),u({type:Wr}))},Enter:function(v){w.current.state.isOpen&&v.which!==229&&(v.preventDefault(),u({type:Xr}))},PageUp:function(v){w.current.state.isOpen&&(v.preventDefault(),u({type:Gr}))},PageDown:function(v){w.current.state.isOpen&&(v.preventDefault(),u({type:Yr}))}}},[u,w]),ae=c.useCallback(function(v){return j({id:x.labelId,htmlFor:x.inputId},v)},[x]),V=c.useCallback(function(v,O){var A,R=v===void 0?{}:v,X=R.onMouseLeave,G=R.refKey,K=G===void 0?"ref":G,$=R.ref,Q=Ve(R,gl);return(O===void 0?{}:O).suppressRefError,j(((A={})[K]=ze($,function(ue){g.current=ue}),A.id=x.menuId,A.role="listbox",A["aria-labelledby"]=Q&&Q["aria-label"]?void 0:""+x.labelId,A.onMouseLeave=se(X,function(){u({type:Bs})}),A),Q)},[u,L,x]),re=c.useCallback(function(v){var O,A,R=v===void 0?{}:v,X=R.item,G=R.index,K=R.refKey,$=K===void 0?"ref":K,Q=R.ref,ue=R.onMouseMove,pe=R.onMouseDown,ce=R.onClick;R.onPress;var ee=R.disabled,oe=Ve(R,ml);ee!==void 0&&console.warn('Passing "disabled" as an argument to getItemProps is not supported anymore. Please use the isItemDisabled prop from useCombobox.');var le=w.current,ve=le.props,ne=le.state,de=Cr(X,G,ve.items,"Pass either item or index to getItemProps!"),je=de[0],he=de[1],$n=ve.isItemDisabled(je,he),ja=ce;return j(((O={})[$]=ze(Q,function(en){en&&(m.current[x.getItemId(he)]=en)}),O["aria-disabled"]=$n,O["aria-selected"]=he===ne.highlightedIndex,O.id=x.getItemId(he),O.role="option",O),!$n&&((A={}).onClick=se(ja,function(){u({type:Qr,index:he})}),A),{onMouseMove:se(ue,function(){M.isTouchEnd||he===ne.highlightedIndex||(E.current=!1,u({type:Ks,index:he,disabled:$n}))}),onMouseDown:se(pe,function(en){return en.preventDefault()})},oe)},[u,x,w,M,E]),ie=c.useCallback(function(v){var O,A=v===void 0?{}:v,R=A.onClick;A.onPress;var X=A.refKey,G=X===void 0?"ref":X,K=A.ref,$=Ve(A,yl),Q=w.current.state;return j(((O={})[G]=ze(K,function(ue){h.current=ue}),O["aria-controls"]=x.menuId,O["aria-expanded"]=Q.isOpen,O.id=x.toggleButtonId,O.tabIndex=-1,O),!$.disabled&&j({},{onClick:se(R,function(){u({type:Fs})})}),$)},[u,w,x]),te=c.useCallback(function(v,O){var A,R=v===void 0?{}:v,X=R.onKeyDown,G=R.onChange,K=R.onInput,$=R.onBlur;R.onChangeText;var Q=R.onClick,ue=R.refKey,pe=ue===void 0?"ref":ue,ce=R.ref,ee=Ve(R,bl);(O===void 0?{}:O).suppressRefError;var oe,le=w.current.state,ve={};return ee.disabled||((oe={}).onChange=se(G,K,function(ne){u({type:Zr,inputValue:ne.target.value})}),oe.onKeyDown=se(X,function(ne){var de=Pn(ne);de&&W[de]&&W[de](ne)}),oe.onBlur=se($,function(ne){if(i!=null&&i.document&&le.isOpen&&!M.isMouseDown){var de=ne.relatedTarget===null&&i.document.activeElement!==i.document.body;u({type:jn,selectItem:!de})}}),oe.onClick=se(Q,function(){u({type:Jr})}),ve=oe),j(((A={})[pe]=ze(ce,function(ne){b.current=ne}),A["aria-activedescendant"]=le.isOpen&&le.highlightedIndex>-1?x.getItemId(le.highlightedIndex):"",A["aria-autocomplete"]="list",A["aria-controls"]=x.menuId,A["aria-expanded"]=le.isOpen,A["aria-labelledby"]=ee&&ee["aria-label"]?void 0:x.labelId,A.autoComplete="off",A.id=x.inputId,A.role="combobox",A.value=le.inputValue,A),ve,ee)},[u,x,i,W,w,M,L]),J=c.useCallback(function(){u({type:Hs})},[u]),q=c.useCallback(function(){u({type:zs})},[u]),N=c.useCallback(function(){u({type:Us})},[u]),k=c.useCallback(function(v){u({type:Ws,highlightedIndex:v})},[u]),D=c.useCallback(function(v){u({type:ei,selectedItem:v})},[u]);return{getItemProps:re,getLabelProps:ae,getMenuProps:V,getInputProps:te,getToggleButtonProps:ie,toggleMenu:J,openMenu:N,closeMenu:q,setHighlightedIndex:k,setInputValue:c.useCallback(function(v){u({type:qs,inputValue:v})},[u]),selectItem:D,reset:c.useCallback(function(){u({type:$s})},[u]),highlightedIndex:d,isOpen:l,selectedItem:p,inputValue:f}}fe.stateChangeTypes=Gs;var Ys={activeIndex:-1,selectedItems:[]};function Xs(e,t){return ct(e,t,Ys)}function Zs(e,t){return Me(e,t,Ys)}function _l(e){return{activeIndex:Xs(e,"activeIndex"),selectedItems:Xs(e,"selectedItems")}}function Js(e){if(e.shiftKey||e.metaKey||e.ctrlKey||e.altKey)return!1;var t=e.target;return!(t instanceof HTMLInputElement&&t.value!=="")||t.selectionStart===0&&t.selectionEnd===0}function wl(e,t){return e.selectedItems===t.selectedItems&&e.activeIndex===t.activeIndex}T.array,T.array,T.array,T.func,T.number,T.number,T.number,T.func,T.func,T.string,T.string;var Il={itemToKey:Gt.itemToKey,stateReducer:Gt.stateReducer,environment:Gt.environment,keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},ni=0,ri=1,ii=2,oi=3,si=4,ai=5,ui=6,li=7,ci=8,di=9,hi=10,fi=11,pi=12,Sl=Object.freeze({__proto__:null,DropdownClick:li,DropdownKeyDownBackspace:ui,DropdownKeyDownNavigationPrevious:ai,FunctionAddSelectedItem:ci,FunctionRemoveSelectedItem:di,FunctionReset:pi,FunctionSetActiveIndex:fi,FunctionSetSelectedItems:hi,SelectedItemClick:ni,SelectedItemKeyDownBackspace:ii,SelectedItemKeyDownDelete:ri,SelectedItemKeyDownNavigationNext:oi,SelectedItemKeyDownNavigationPrevious:si});function xl(e,t){var n,r=t.type,i=t.index,o=t.props,s=t.selectedItem,a=e.activeIndex,u=e.selectedItems;switch(r){case ni:n={activeIndex:i};break;case si:n={activeIndex:a-1<0?0:a-1};break;case oi:n={activeIndex:a+1>=u.length?-1:a+1};break;case ii:case ri:if(a<0)break;var l=a;u.length===1?l=-1:a===u.length-1&&(l=u.length-2),n=j({selectedItems:[].concat(u.slice(0,a),u.slice(a+1))},{activeIndex:l});break;case ai:n={activeIndex:u.length-1};break;case ui:n={selectedItems:u.slice(0,u.length-1)};break;case ci:n={selectedItems:[].concat(u,[s])};break;case li:n={activeIndex:-1};break;case di:var d=a,p=u.findIndex(function(f){return o.itemToKey(f)===o.itemToKey(s)});if(p<0)break;u.length===1?d=-1:p===u.length-1&&(d=u.length-2),n={selectedItems:[].concat(u.slice(0,p),u.slice(p+1)),activeIndex:d};break;case hi:n={selectedItems:t.selectedItems};break;case fi:n={activeIndex:t.activeIndex};break;case pi:n={activeIndex:Zs(o,"activeIndex"),selectedItems:Zs(o,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return j({},e,n)}var Ol=["refKey","ref","onClick","onKeyDown","selectedItem","index"],El=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function kt(e){e===void 0&&(e={});var t=j({},Il,e),n=t.getA11yStatusMessage,r=t.environment,i=t.keyNavigationNext,o=t.keyNavigationPrevious,s=xs(xl,t,_l,wl),a=s[0],u=s[1],l=a.activeIndex,d=a.selectedItems,p=Rn(),f=c.useRef(null),g=c.useRef();g.current=[];var m=An({state:a,props:t});Pr(n,a,[l,d],r),c.useEffect(function(){p||(l===-1&&f.current?f.current.focus():g.current[l]&&g.current[l].focus())},[l]);var b=Tr(),h=c.useMemo(function(){var S;return(S={})[o]=function(){u({type:si})},S[i]=function(){u({type:oi})},S.Delete=function(){u({type:ri})},S.Backspace=function(){u({type:ii})},S},[u,i,o]),y=c.useMemo(function(){var S;return(S={})[o]=function(w){Js(w)&&u({type:ai})},S.Backspace=function(w){Js(w)&&u({type:ui})},S},[u,o]),x=c.useCallback(function(S){var w,C=S===void 0?{}:S,E=C.refKey,M=E===void 0?"ref":E,L=C.ref,W=C.onClick,ae=C.onKeyDown,V=C.selectedItem,re=C.index,ie=Ve(C,Ol),te=m.current.state,J=Cr(V,re,te.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],q=J>-1&&J===te.activeIndex;return j(((w={})[M]=ze(L,function(N){N&&g.current.push(N)}),w.tabIndex=q?0:-1,w.onClick=se(W,function(){u({type:ni,index:J})}),w.onKeyDown=se(ae,function(N){var k=Pn(N);k&&h[k]&&h[k](N)}),w),ie)},[u,m,h]);return{getSelectedItemProps:x,getDropdownProps:c.useCallback(function(S,w){var C,E=S===void 0?{}:S,M=E.refKey,L=M===void 0?"ref":M,W=E.ref,ae=E.onKeyDown,V=E.onClick,re=E.preventKeyAction,ie=re!==void 0&&re,te=Ve(E,El);return(w===void 0?{}:w).suppressRefError,j(((C={})[L]=ze(W,function(J){J&&(f.current=J)}),C),!ie&&{onKeyDown:se(ae,function(J){var q=Pn(J);q&&y[q]&&y[q](J)}),onClick:se(V,function(){u({type:li})})},te)},[u,y,b]),addSelectedItem:c.useCallback(function(S){u({type:ci,selectedItem:S})},[u]),removeSelectedItem:c.useCallback(function(S){u({type:di,selectedItem:S})},[u]),setSelectedItems:c.useCallback(function(S){u({type:hi,selectedItems:S})},[u]),setActiveIndex:c.useCallback(function(S){u({type:fi,activeIndex:S})},[u]),reset:c.useCallback(function(){u({type:pi})},[u]),selectedItems:d,activeIndex:l}}function Qs(e){return class extends e{constructor(){super(...arguments),_(this,"touched",!1),_(this,"inputValue",""),_(this,"inputPlaceholder",""),_(this,"emptyCaption",""),_(this,"ariaLabel",""),_(this,"handleBlur",()=>{var t,n;this.setTouched(!1),this.setInputValue((t=(n=this.selectedOption)===null||n===void 0?void 0:n.caption)!==null&&t!==void 0?t:""),this.filterStore.search.clear()}),_(this,"handleClear",()=>{this.setTouched(!1),this.setInputValue(""),this.filterStore.clear()}),_(this,"useComboboxProps",()=>({items:this.filterStore.options,itemToKey:t=>t?.value,itemToString:t=>{var n;return(n=t?.caption)!==null&&n!==void 0?n:""},inputValue:this.inputValue,defaultHighlightedIndex:this.selectedIndex,onInputValueChange:t=>{t.type!==fe.stateChangeTypes.InputBlur&&(t.type!==fe.stateChangeTypes.InputKeyDownEscape?(t.type===fe.stateChangeTypes.InputChange&&this.setTouched(!0),this.setInputValue(t.inputValue)):this.handleClear())},onSelectedItemChange:t=>{let{selectedItem:n,type:r}=t;r!==fe.stateChangeTypes.InputBlur&&r!==fe.stateChangeTypes.InputKeyDownEscape&&(this.setTouched(!1),this.filterStore.setSelected(n?[n.value]:[]))},stateReducer(t,n){let{changes:r}=n;return{...r,highlightedIndex:r.inputValue!==t.inputValue?0:r.highlightedIndex}}})),Ce(this,{inputValue:Y,setInputValue:U,touched:Y,setTouched:U,selectedIndex:H,selectedOption:H,isEmpty:H,options:H,handleBlur:U,handleClear:U})}setup(){const[t,n]=lt();return t(st(...this.searchSyncFx())),t(dr(...this.storeSyncFx())),t(super.setup()),this.setInputValue(this.inputInitValue),n}searchSyncFx(){return[()=>{const{touched:t,inputValue:n}=this;t?this.filterStore.search.setBuffer(n):this.filterStore.search.clear()}]}storeSyncFx(){return[()=>{var t,n;return(t=(n=this.selectedOption)===null||n===void 0?void 0:n.caption)!==null&&t!==void 0?t:""},t=>{this.touched||this.setInputValue(t)}]}get options(){return this.filterStore.options}get isEmpty(){return this.filterStore.selected.size===0}get selectedIndex(){const t=this.filterStore.options.findIndex(n=>n.selected);return Math.max(t,0)}get selectedOption(){var t;return(t=this.filterStore.selectedOptions.at(0))!==null&&t!==void 0?t:null}get inputInitValue(){return this.selectedOption?this.selectedOption.caption:this.filterStore.selected.size===0?"":"1 item selected (but not applied)"}setTouched(t){this.touched=t}setInputValue(t){this.inputValue=t}handleFocus(t){t.target.select()}}}kt.stateChangeTypes=Sl;class Cl extends Qs(xr){constructor(t){let{gate:n}=t;super({gate:n,multiselect:!1}),this.inputPlaceholder=n.props.placeholder,this.emptyCaption=n.props.emptySelectionCaption,this.ariaLabel=n.props.ariaLabel}}const ea="[[__none__]]";function ta(e){return class extends e{constructor(){super(...arguments),_(this,"emptyCaption",""),_(this,"ariaLabel",""),_(this,"emptyOption",{value:ea,caption:"",selected:!1}),_(this,"handleClear",()=>{this.filterStore.clear()}),_(this,"useSelectProps",()=>{const t={items:this.options,itemToKey:n=>n?.value,itemToString:n=>{var r;return(r=n?.caption)!==null&&r!==void 0?r:""},onSelectedItemChange:n=>{let{selectedItem:r}=n;r&&(r.value===ea?this.filterStore.clear():this.multiselect?this.filterStore.toggle(r.value):this.filterStore.setSelected([r.value]))}};return this.multiselect&&(t.stateReducer=(n,r)=>{let{changes:i,type:o}=r;switch(o){case Ct.stateChangeTypes.ToggleButtonKeyDownEnter:case Ct.stateChangeTypes.ToggleButtonKeyDownSpaceButton:case Ct.stateChangeTypes.ItemClick:return{...i,isOpen:!0,highlightedIndex:n.highlightedIndex};case Ct.stateChangeTypes.ToggleButtonBlur:return{...i,selectedItem:null};default:return i}}),t}),Ce(this,{options:H,isEmpty:H,value:H,handleClear:U})}get options(){return this.multiselect?this.filterStore.options:[this.emptyOption,...this.filterStore.options]}get isEmpty(){return this.filterStore.selected.size===0}get value(){const t=this.filterStore.selectedOptions;return t.length<1?this.emptyCaption:t.map(n=>n.caption).join(", ")}}}class kl extends ta(xr){constructor(t){let{gate:n}=t;super({gate:n,multiselect:n.props.multiselect}),this.emptyOption.caption=n.props.emptyOptionCaption,this.emptyCaption=n.props.emptySelectionCaption,this.ariaLabel=n.props.ariaLabel}}function na(e){return class extends e{constructor(){super(...arguments),_(this,"touched",!1),_(this,"inputValue",""),_(this,"inputPlaceholder",""),_(this,"emptyCaption",""),_(this,"ariaLabel",""),_(this,"filterSelectedOptions",!1),_(this,"handleBlur",()=>{this.setTouched(!1),this.setInputValue(""),this.filterStore.search.clear()}),_(this,"handleClear",()=>{this.setTouched(!1),this.setInputValue(""),this.filterStore.clear()}),_(this,"useComboboxProps",()=>({items:this.options,itemToKey:t=>t?.value,itemToString:t=>{var n;return(n=t?.caption)!==null&&n!==void 0?n:""},inputValue:this.inputValue,defaultHighlightedIndex:this.selectedIndex,onInputValueChange:t=>{t.type!==fe.stateChangeTypes.InputBlur&&(t.type===fe.stateChangeTypes.InputChange&&this.setTouched(!0),this.setInputValue(t.inputValue))},onSelectedItemChange:t=>{let{selectedItem:n,type:r}=t;r!==fe.stateChangeTypes.InputBlur&&r!==fe.stateChangeTypes.InputKeyDownEscape&&n&&(this.filterStore.toggle(n.value),this.setInputValue(""))},stateReducer(t,n){let{changes:r,type:i}=n;switch(i){case fe.stateChangeTypes.InputKeyDownEnter:case fe.stateChangeTypes.ItemClick:return{...r,isOpen:!0,highlightedIndex:t.highlightedIndex,inputValue:t.inputValue};case fe.stateChangeTypes.InputClick:return t.isOpen?{...r,isOpen:!0,highlightedIndex:t.highlightedIndex}:r;default:return{...r,highlightedIndex:r.inputValue!==t.inputValue?0:r.highlightedIndex}}}})),_(this,"useMultipleSelectionProps",()=>({selectedItems:this.selectedOptions,onStateChange:t=>{let{selectedItems:n,type:r}=t;switch(n!=null||(n=[]),r){case kt.stateChangeTypes.SelectedItemKeyDownBackspace:case kt.stateChangeTypes.SelectedItemKeyDownDelete:case kt.stateChangeTypes.DropdownKeyDownBackspace:case kt.stateChangeTypes.FunctionRemoveSelectedItem:this.filterStore.setSelected(n.map(i=>i.value))}}})),Ce(this,{inputValue:Y,setInputValue:U,touched:Y,setTouched:U,selectedIndex:H,selectedOptions:H,handleBlur:U,handleClear:U,isEmpty:H,options:H})}setup(){const[t,n]=lt();return t(st(...this.searchSyncFx())),t(super.setup()),n}searchSyncFx(){return[()=>{const{touched:t,inputValue:n}=this;t?this.filterStore.search.setBuffer(n):this.filterStore.search.clear()}]}get options(){const t=this.filterStore.options;return this.filterSelectedOptions?t.filter(n=>!n.selected):t}get isEmpty(){return this.filterStore.selected.size===0}get selectedIndex(){const t=this.filterStore.options.findIndex(n=>n.selected);return Math.max(t,0)}get selectedOptions(){return this.filterStore.selectedOptions}setTouched(t){this.touched=t}setInputValue(t){this.inputValue=t}}}class Tl extends na(xr){constructor(t){let{gate:n}=t;super({gate:n,multiselect:n.props.multiselect}),_(this,"selectionMethod",void 0),_(this,"selectedStyle",void 0),this.inputPlaceholder=n.props.placeholder,this.emptyCaption=n.props.emptySelectionCaption,this.ariaLabel=n.props.ariaLabel,this.filterSelectedOptions=n.props.selectionMethod==="rowClick",this.selectedStyle=n.props.selectedItemsStyle,this.selectionMethod=this.selectedStyle==="boxes"?n.props.selectionMethod:"checkbox"}}var ra,ia={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var vi,Pl=(ra||(ra=1,vi=ia,function(){var e={}.hasOwnProperty;function t(){for(var i="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(i=r(i,n(s)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return t.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var s in i)e.call(i,s)&&i[s]&&(o=r(o,s));return o}function r(i,o){return o?i?i+" "+o:i+o:i}vi.exports?(t.default=t,vi.exports=t):window.classNames=t}()),ia.exports),Yt=is(Pl);function gi(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"widget-dropdown-filter";return{root:e,input:"".concat(e,"-input"),clear:"".concat(e,"-clear"),toggle:"".concat(e,"-toggle"),menu:"".concat(e,"-menu"),menuSlot:"".concat(e,"-menu-slot"),menuItem:"".concat(e,"-menu-item"),menuItemText:"".concat(e,"-menu-item-text"),menuCheckbox:"".concat(e,"-menu-checkbox"),checkboxSlot:"".concat(e,"-checkbox-slot"),popover:"".concat(e,"-popover"),stateIcon:"".concat(e,"-state-icon"),clearIcon:"".concat(e,"-clear-icon"),inputContainer:"".concat(e,"-input-container"),selectedItem:"".concat(e,"-selected-item"),removeIcon:"".concat(e,"-remove-icon"),separator:"".concat(e,"-separator"),checkbox:"".concat(e,"-checkbox")}}function mi(e){return c.createElement("svg",{width:"16",height:"16",viewBox:"0 0 32 32",...e},c.createElement("path",{d:"M16 23.41L4.29004 11.71L5.71004 10.29L16 20.59L26.29 10.29L27.71 11.71L16 23.41Z"}))}function oa(e){return c.createElement("svg",{width:"14",height:"14",viewBox:"0 0 32 32",...e},c.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor",d:"M27.71 5.71004L26.29 4.29004L16 14.59L5.71004 4.29004L4.29004 5.71004L14.59 16L4.29004 26.29L5.71004 27.71L16 17.41L26.29 27.71L27.71 26.29L17.41 16L27.71 5.71004Z"}))}const Al=e=>{e.key!=="Enter"&&e.key!==" "||e.stopPropagation()};function yi(e){const{cls:t,onClick:n,visible:r}=e,i=c.useCallback(o=>{o.stopPropagation(),o.preventDefault(),n&&n()},[n]);return r?c.createElement("button",{className:t.clear,"aria-label":"Clear selection",onClick:i,onKeyDown:Al},c.createElement(oa,{className:t.clearIcon})):null}const Dl=()=>{},bi=c.forwardRef((e,t)=>{const{cls:n,style:r,onMenuScroll:i,isOpen:o,highlightedIndex:s,showCheckboxes:a,getMenuProps:u,getItemProps:l,label:d,options:p}=e;return c.createElement("div",{className:n.popover,hidden:!o,ref:t,style:r},c.createElement("div",{className:n.menuSlot},c.createElement("ul",{...u({className:n.menu,"aria-label":d}),onScroll:i},o&&p.map((f,g)=>c.createElement("li",{"data-selected":f.selected||void 0,"data-highlighted":s===g||void 0,key:f.value||g,className:n.menuItem,title:f.caption,...l({item:f,index:g,"aria-selected":f.selected,onClick:m=>{m.stopPropagation()}})},a&&c.createElement("span",{className:n.checkboxSlot},c.createElement("input",{className:n.checkbox,role:"presentation",type:"checkbox",checked:f.selected,value:f.caption,onChange:Dl,tabIndex:-1})),c.createElement("span",{className:n.menuItemText},f.caption||"\xA0"))))))}),Xt=Math.min,Ie=Math.max,Bn=Math.round,Kn=Math.floor,Qe=e=>({x:e,y:e});function sa(e,t){return typeof e=="function"?e(t):e}function _i(e){return e.split("-")[0]}function aa(e){return e.split("-")[1]}function wi(e){return["top","bottom"].includes(_i(e))?"y":"x"}function Fn(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function ua(e,t,n){let{reference:r,floating:i}=e;const o=wi(t),s=function(m){return wi(m)==="x"?"y":"x"}(t),a=s==="y"?"height":"width",u=_i(t),l=o==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let g;switch(u){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-i.width,y:p};break;default:g={x:r.x,y:r.y}}switch(aa(t)){case"start":g[s]-=f*(n&&l?-1:1);break;case"end":g[s]+=f*(n&&l?-1:1)}return g}function Hn(){return typeof window<"u"}function et(e){return la(e)?(e.nodeName||"").toLowerCase():"#document"}function me(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function We(e){var t;return(t=(la(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function la(e){return!!Hn()&&(e instanceof Node||e instanceof me(e).Node)}function Le(e){return!!Hn()&&(e instanceof Element||e instanceof me(e).Element)}function Ne(e){return!!Hn()&&(e instanceof HTMLElement||e instanceof me(e).HTMLElement)}function ca(e){return!(!Hn()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof me(e).ShadowRoot)}function Zt(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Se(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Rl(e){return["table","td","th"].includes(et(e))}function Vl(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ii(e){const t=Si(),n=Le(e)?Se(e):e;return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Si(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Un(e){return["html","body","#document"].includes(et(e))}function Se(e){return me(e).getComputedStyle(e)}function zn(e){return Le(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tt(e){if(et(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ca(e)&&e.host||We(e);return ca(t)?t.host:t}function da(e){const t=Tt(e);return Un(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ne(t)&&Zt(t)?t:da(t)}function Jt(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=da(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=me(i);if(o){const a=function(u){return u.parent&&Object.getPrototypeOf(u.parent)?u.frameElement:null}(s);return t.concat(s,s.visualViewport||[],Zt(i)?i:[],a&&n?Jt(a):[])}return t.concat(i,Jt(i,[],n))}function ha(e){const t=Se(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ne(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Bn(n)!==o||Bn(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function xi(e){return Le(e)?e:e.contextElement}function Pt(e){const t=xi(e);if(!Ne(t))return Qe(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=ha(t);let s=(o?Bn(n.width):n.width)/r,a=(o?Bn(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const Ml=Qe(0);function fa(e){const t=me(e);return Si()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Ml}function ht(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=xi(e);let s=Qe(1);t&&(r?Le(r)&&(s=Pt(r)):s=Pt(e));const a=function(f,g,m){return g===void 0&&(g=!1),!(!m||g&&m!==me(f))&&g}(o,n,r)?fa(o):Qe(0);let u=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,d=i.width/s.x,p=i.height/s.y;if(o){const f=me(o),g=r&&Le(r)?me(r):r;let m=f,b=m.frameElement;for(;b&&r&&g!==m;){const h=Pt(b),y=b.getBoundingClientRect(),x=Se(b),S=y.left+(b.clientLeft+parseFloat(x.paddingLeft))*h.x,w=y.top+(b.clientTop+parseFloat(x.paddingTop))*h.y;u*=h.x,l*=h.y,d*=h.x,p*=h.y,u+=S,l+=w,m=me(b),b=m.frameElement}}return Fn({width:d,height:p,x:u,y:l})}const Ll=[":popover-open",":modal"];function pa(e){return Ll.some(t=>{try{return e.matches(t)}catch{return!1}})}function va(e){return ht(We(e)).left+zn(e).scrollLeft}function ga(e,t,n){let r;if(t==="viewport")r=function(i,o){const s=me(i),a=We(i),u=s.visualViewport;let l=a.clientWidth,d=a.clientHeight,p=0,f=0;if(u){l=u.width,d=u.height;const g=Si();(!g||g&&o==="fixed")&&(p=u.offsetLeft,f=u.offsetTop)}return{width:l,height:d,x:p,y:f}}(e,n);else if(t==="document")r=function(i){const o=We(i),s=zn(i),a=i.ownerDocument.body,u=Ie(o.scrollWidth,o.clientWidth,a.scrollWidth,a.clientWidth),l=Ie(o.scrollHeight,o.clientHeight,a.scrollHeight,a.clientHeight);let d=-s.scrollLeft+va(i);const p=-s.scrollTop;return Se(a).direction==="rtl"&&(d+=Ie(o.clientWidth,a.clientWidth)-u),{width:u,height:l,x:d,y:p}}(We(e));else if(Le(t))r=function(i,o){const s=ht(i,!0,o==="fixed"),a=s.top+i.clientTop,u=s.left+i.clientLeft,l=Ne(i)?Pt(i):Qe(1);return{width:i.clientWidth*l.x,height:i.clientHeight*l.y,x:u*l.x,y:a*l.y}}(t,n);else{const i=fa(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Fn(r)}function ma(e,t){const n=Tt(e);return!(n===t||!Le(n)||Un(n))&&(Se(n).position==="fixed"||ma(n,t))}function Nl(e,t,n){const r=Ne(t),i=We(t),o=n==="fixed",s=ht(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const u=Qe(0);if(r||!r&&!o)if((et(t)!=="body"||Zt(i))&&(a=zn(t)),r){const l=ht(t,!0,o,t);u.x=l.x+t.clientLeft,u.y=l.y+t.clientTop}else i&&(u.x=va(i));return{x:s.left+a.scrollLeft-u.x,y:s.top+a.scrollTop-u.y,width:s.width,height:s.height}}function ya(e,t){return Ne(e)&&Se(e).position!=="fixed"?t?t(e):e.offsetParent:null}function ba(e,t){const n=me(e);if(!Ne(e)||pa(e))return n;let r=ya(e,t);for(;r&&Rl(r)&&Se(r).position==="static";)r=ya(r,t);return r&&(et(r)==="html"||et(r)==="body"&&Se(r).position==="static"&&!Ii(r))?n:r||function(i){let o=Tt(i);for(;Ne(o)&&!Un(o);){if(Ii(o))return o;if(Vl(o))return null;o=Tt(o)}return null}(e)||n}const jl={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=We(r),a=!!t&&pa(t.floating);if(r===s||a&&o)return n;let u={scrollLeft:0,scrollTop:0},l=Qe(1);const d=Qe(0),p=Ne(r);if((p||!p&&!o)&&((et(r)!=="body"||Zt(s))&&(u=zn(r)),Ne(r))){const f=ht(r);l=Pt(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+d.x,y:n.y*l.y-u.scrollTop*l.y+d.y}},getDocumentElement:We,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?function(u,l){const d=l.get(u);if(d)return d;let p=Jt(u,[],!1).filter(b=>Le(b)&&et(b)!=="body"),f=null;const g=Se(u).position==="fixed";let m=g?Tt(u):u;for(;Le(m)&&!Un(m);){const b=Se(m),h=Ii(m);h||b.position!=="fixed"||(f=null),(g?!h&&!f:!h&&b.position==="static"&&f&&["absolute","fixed"].includes(f.position)||Zt(m)&&!h&&ma(u,m))?p=p.filter(y=>y!==m):f=b,m=Tt(m)}return l.set(u,p),p}(t,this._c):[].concat(n),r],s=o[0],a=o.reduce((u,l)=>{const d=ga(t,l,i);return u.top=Ie(d.top,u.top),u.right=Xt(d.right,u.right),u.bottom=Xt(d.bottom,u.bottom),u.left=Ie(d.left,u.left),u},ga(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:ba,getElementRects:async function(e){const t=this.getOffsetParent||ba,n=this.getDimensions;return{reference:Nl(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=ha(e);return{width:t,height:n}},getScale:Pt,isElement:Le,isRTL:function(e){return Se(e).direction==="rtl"}};function Bl(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=xi(e),d=i||o?[...l?Jt(l):[],...Jt(t)]:[];d.forEach(h=>{i&&h.addEventListener("scroll",n,{passive:!0}),o&&h.addEventListener("resize",n)});const p=l&&a?function(h,y){let x,S=null;const w=We(h);function C(){var E;clearTimeout(x),(E=S)==null||E.disconnect(),S=null}return function E(M,L){M===void 0&&(M=!1),L===void 0&&(L=1),C();const{left:W,top:ae,width:V,height:re}=h.getBoundingClientRect();if(M||y(),!V||!re)return;const ie={rootMargin:-Kn(ae)+"px "+-Kn(w.clientWidth-(W+V))+"px "+-Kn(w.clientHeight-(ae+re))+"px "+-Kn(W)+"px",threshold:Ie(0,Xt(1,L))||1};let te=!0;function J(q){const N=q[0].intersectionRatio;if(N!==L){if(!te)return E();N?E(!1,N):x=setTimeout(()=>{E(!1,1e-7)},100)}te=!1}try{S=new IntersectionObserver(J,{...ie,root:w.ownerDocument})}catch{S=new IntersectionObserver(J,ie)}S.observe(h)}(!0),C}(l,n):null;let f,g=-1,m=null;s&&(m=new ResizeObserver(h=>{let[y]=h;y&&y.target===l&&m&&(m.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=m)==null||x.observe(t)})),n()}),l&&!u&&m.observe(l),m.observe(t));let b=u?ht(e):null;return u&&function h(){const y=ht(e);!b||y.x===b.x&&y.y===b.y&&y.width===b.width&&y.height===b.height||n(),b=y,f=requestAnimationFrame(h)}(),n(),()=>{var h;d.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),p?.(),(h=m)==null||h.disconnect(),m=null,u&&cancelAnimationFrame(f)}}const Kl=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=sa(e,t),u=await async function(E,M){var L;M===void 0&&(M={});const{x:W,y:ae,platform:V,rects:re,elements:ie,strategy:te}=E,{boundary:J="clippingAncestors",rootBoundary:q="viewport",elementContext:N="floating",altBoundary:k=!1,padding:D=0}=sa(M,E),v=function($){return typeof $!="number"?function(Q){return{top:0,right:0,bottom:0,left:0,...Q}}($):{top:$,right:$,bottom:$,left:$}}(D),O=ie[k?N==="floating"?"reference":"floating":N],A=Fn(await V.getClippingRect({element:(L=await(V.isElement==null?void 0:V.isElement(O)))==null||L?O:O.contextElement||await(V.getDocumentElement==null?void 0:V.getDocumentElement(ie.floating)),boundary:J,rootBoundary:q,strategy:te})),R=N==="floating"?{...re.floating,x:W,y:ae}:re.reference,X=await(V.getOffsetParent==null?void 0:V.getOffsetParent(ie.floating)),G=await(V.isElement==null?void 0:V.isElement(X))&&await(V.getScale==null?void 0:V.getScale(X))||{x:1,y:1},K=Fn(V.convertOffsetParentRelativeRectToViewportRelativeRect?await V.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ie,rect:R,offsetParent:X,strategy:te}):R);return{top:(A.top-K.top+v.top)/G.y,bottom:(K.bottom-A.bottom+v.bottom)/G.y,left:(A.left-K.left+v.left)/G.x,right:(K.right-A.right+v.right)/G.x}}(t,a),l=_i(n),d=aa(n),p=wi(n)==="y",{width:f,height:g}=r.floating;let m,b;l==="top"||l==="bottom"?(m=l,b=d===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(b=l,m=d==="end"?"top":"bottom");const h=g-u[m],y=f-u[b],x=!t.middlewareData.shift;let S=h,w=y;if(p){const E=f-u.left-u.right;w=d||x?Xt(y,E):E}else{const E=g-u.top-u.bottom;S=d||x?Xt(h,E):E}if(x&&!d){const E=Ie(u.left,0),M=Ie(u.right,0),L=Ie(u.top,0),W=Ie(u.bottom,0);p?w=f-2*(E!==0||M!==0?E+M:Ie(u.left,u.right)):S=g-2*(L!==0||W!==0?L+W:Ie(u.top,u.bottom))}await s({...t,availableWidth:w,availableHeight:S});const C=await i.getDimensions(o.floating);return f!==C.width||g!==C.height?{reset:{rects:!0}}:{}}}},Fl=(e,t,n)=>{const r=new Map,i={platform:jl,...n},o={...i.platform,_c:r};return(async(s,a,u)=>{const{placement:l="bottom",strategy:d="absolute",middleware:p=[],platform:f}=u,g=p.filter(Boolean),m=await(f.isRTL==null?void 0:f.isRTL(a));let b=await f.getElementRects({reference:s,floating:a,strategy:d}),{x:h,y}=ua(b,l,m),x=l,S={},w=0;for(let C=0;C<g.length;C++){const{name:E,fn:M}=g[C],{x:L,y:W,data:ae,reset:V}=await M({x:h,y,initialPlacement:l,placement:x,strategy:d,middlewareData:S,rects:b,platform:f,elements:{reference:s,floating:a}});h=L??h,y=W??y,S={...S,[E]:{...S[E],...ae}},V&&w<=50&&(w++,typeof V=="object"&&(V.placement&&(x=V.placement),V.rects&&(b=V.rects===!0?await f.getElementRects({reference:s,floating:a,strategy:d}):V.rects),{x:h,y}=ua(b,x,m)),C=-1)}return{x:h,y,placement:x,strategy:d,middlewareData:S}})(e,t,{...i,platform:o})};var Wn=typeof document<"u"?c.useLayoutEffect:c.useEffect;function qn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!=0;)if(!qn(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!=0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!=0;){const o=i[r];if((o!=="_owner"||!e.$$typeof)&&!qn(e[o],t[o]))return!1}return!0}return e!=e&&t!=t}function _a(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function wa(e,t){const n=_a(e);return Math.round(t*n)/n}function Oi(e){const t=c.useRef(e);return Wn(()=>{t.current=e}),t}function Ei(e){return function(t){t===void 0&&(t={});const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:s,floating:a}={},transform:u=!0,whileElementsMounted:l,open:d}=t,[p,f]=c.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[g,m]=c.useState(i);qn(g,i)||m(i);const[b,h]=c.useState(null),[y,x]=c.useState(null),S=c.useCallback(D=>{D!==M.current&&(M.current=D,h(D))},[]),w=c.useCallback(D=>{D!==L.current&&(L.current=D,x(D))},[]),C=s||b,E=a||y,M=c.useRef(null),L=c.useRef(null),W=c.useRef(p),ae=l!=null,V=Oi(l),re=Oi(o),ie=Oi(d),te=c.useCallback(()=>{if(!M.current||!L.current)return;const D={placement:n,strategy:r,middleware:g};re.current&&(D.platform=re.current),Fl(M.current,L.current,D).then(v=>{const O={...v,isPositioned:ie.current!==!1};J.current&&!qn(W.current,O)&&(W.current=O,Bi.flushSync(()=>{f(O)}))})},[g,n,r,re,ie]);Wn(()=>{d===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[d]);const J=c.useRef(!1);Wn(()=>(J.current=!0,()=>{J.current=!1}),[]),Wn(()=>{if(C&&(M.current=C),E&&(L.current=E),C&&E){if(V.current)return V.current(C,E,te);te()}},[C,E,te,V,ae]);const q=c.useMemo(()=>({reference:M,floating:L,setReference:S,setFloating:w}),[S,w]),N=c.useMemo(()=>({reference:C,floating:E}),[C,E]),k=c.useMemo(()=>{const D={position:r,left:0,top:0};if(!N.floating)return D;const v=wa(N.floating,p.x),O=wa(N.floating,p.y);return u?{...D,transform:"translate("+v+"px, "+O+"px)",..._a(N.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:v,top:O}},[r,u,N.floating,p.x,p.y]);return c.useMemo(()=>({...p,update:te,refs:q,elements:N,floatingStyles:k}),[p,te,q,N,k])}({open:e,placement:"bottom-start",strategy:"fixed",middleware:c.useMemo(()=>{return[(t={apply(r){let{rects:i,elements:o}=r;Object.assign(o.floating.style,{width:"".concat(i.reference.width,"px")})}},{...Kl(t),options:[t,n]})];var t,n},[]),whileElementsMounted:Bl})}const At=gi(),Ia=Ue(function(e){const t=c.useRef(null),{isOpen:n,highlightedIndex:r,getInputProps:i,getToggleButtonProps:o,getMenuProps:s,getItemProps:a}=fe(e.useComboboxProps()),{refs:u,floatingStyles:l}=Ei(n);return c.createElement("div",{className:Yt(At.root,"form-control","variant-combobox",e.className),ref:u.setReference,"data-expanded":n,"data-empty":!!e.empty||void 0,style:e.style},c.createElement("input",{className:At.input,...i({"aria-label":e.ariaLabel,ref:t,onBlur:e.onBlur,onFocus:e.onFocus,placeholder:e.empty?n?e.inputPlaceholder:e.emptyCaption:void 0})}),c.createElement(yi,{cls:At,onClick:()=>{var d;e.onClear(),(d=t.current)===null||d===void 0||d.focus()},visible:!e.empty}),c.createElement("button",{className:At.toggle,...o({"aria-label":"Show options"})},c.createElement(mi,{className:At.stateIcon})),c.createElement(bi,{cls:At,label:e.ariaLabel,ref:u.setFloating,style:l,onMenuScroll:e.onMenuScroll,isOpen:n,options:e.options,highlightedIndex:r,showCheckboxes:!1,getMenuProps:s,getItemProps:a}))}),ft=gi(),Sa=Ue(function(e){const{empty:t,showCheckboxes:n,clearable:r}=e,{getToggleButtonProps:i,getMenuProps:o,getItemProps:s,isOpen:a,highlightedIndex:u}=Ct(e.useSelectProps()),l=r&&!t,{refs:d,floatingStyles:p}=Ei(a);return c.createElement("div",{className:Yt(ft.root,"form-control","variant-select",e.className),"data-expanded":a,"data-empty":!!t||void 0,style:e.style,...i({"aria-label":e.ariaLabel,ref:d.setReference,onFocus:e.onFocus})},c.createElement("div",{className:ft.inputContainer},c.createElement("span",{className:ft.toggle},e.value),c.createElement("div",{className:"".concat(ft.root,"-controls")},c.createElement(yi,{cls:ft,onClick:()=>{var f;e.onClear(),(f=d.reference.current)===null||f===void 0||f.focus()},visible:l}),c.createElement(mi,{className:ft.stateIcon}))),c.createElement(bi,{cls:ft,label:e.ariaLabel,ref:d.setFloating,style:p,onMenuScroll:e.onMenuScroll,isOpen:a,options:e.options,highlightedIndex:u,showCheckboxes:n,getMenuProps:o,getItemProps:s}))}),Te=gi(),xa=Ue(function(e){const[t,n]=[c.useId(),c.useId()],{showCheckboxes:r,selectedStyle:i="boxes",ariaLabel:o="Search"}=e,s=c.useRef(null),{getSelectedItemProps:a,getDropdownProps:u,removeSelectedItem:l}=kt(e.useMultipleSelectionProps()),{inputValue:d,isOpen:p,highlightedIndex:f,getInputProps:g,getToggleButtonProps:m,getMenuProps:b,getItemProps:h,openMenu:y}=fe(e.useComboboxProps()),{refs:x,floatingStyles:S}=Ei(p);return c.createElement("div",{className:Yt(Te.root,"form-control",{"variant-tag-picker-text":i==="text","variant-tag-picker":i==="boxes"},e.className),ref:x.setReference,"data-expanded":p,"data-empty":!!e.empty||void 0,style:e.style,onClick:w=>{var C;w.target!==w.currentTarget&&w.target!==s.current||(p?(C=s.current)===null||C===void 0||(C=C.querySelector("input"))===null||C===void 0||C.focus():y())}},c.createElement("span",{id:n,className:"sr-only"},"Current filter values:"),c.createElement("div",{id:t,className:Te.inputContainer,ref:s},i==="boxes"&&e.selected.map((w,C)=>c.createElement("div",{className:Te.selectedItem,key:C,...a({selectedItem:w,index:C})},w.caption,c.createElement("span",{className:Te.removeIcon,onClick:E=>{E.stopPropagation(),l(w)}},c.createElement(oa,{width:"10",height:"10"})))),c.createElement("input",{className:Te.input,...g({"aria-label":o,onBlur:e.onBlur,onFocus:e.onFocus,placeholder:e.empty?p?e.inputPlaceholder:e.emptyCaption:void 0,...u(),"aria-describedby":e.empty?void 0:"".concat(n," ").concat(t)})}),i==="text"&&e.selected.length>0&&c.createElement("div",{className:Yt(Te.selectedItem,d&&"".concat(Te.selectedItem,"-hidden"))},e.selected.map(w=>w.caption).join(", "))),c.createElement(yi,{cls:Te,onClick:()=>{var w;e.onClear(),(w=s.current)===null||w===void 0||(w=w.querySelector("input"))===null||w===void 0||w.focus()},visible:!e.empty}),c.createElement("button",{className:Te.toggle,...m({"aria-label":"Show options"})},c.createElement(mi,{className:Te.stateIcon})),c.createElement(bi,{cls:Te,label:o,ref:x.setFloating,style:S,onMenuScroll:e.onMenuScroll,isOpen:p,options:e.options,highlightedIndex:f,showCheckboxes:r,getMenuProps:b,getItemProps:h}))});function Oa(e){return e.filterable?e.multiselect?"tagPicker":"combobox":"select"}const Ci=Object.freeze({reset:{value:"reset.value",filters:"reset.filters"},set:{value:"set.value"}});let Hl=()=>({emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let i=0,o=this.events[e]||[],s=o.length;i<s;i++)o[i](...n)},events:{},on(e,t){var n;return((n=this.events)[e]||(n[e]=[])).push(t),()=>{var r;this.events[e]=(r=this.events[e])===null||r===void 0?void 0:r.filter(i=>t!==i)}}});const ki="com.mendix.widgets.web.plugin.externalEvents";class Ul{constructor(){_(this,"channels",void 0),_(this,"id",Math.random().toString().slice(2)),this.channels=new Map}disposeChannel(t){const n=this.channels.get(t);return n&&(n.events={}),this.channels.delete(t)}getChannel(t){let n=this.channels.get(t);return n||(n=Hl(),this.channels.set(t,n),n)}emit(t,n){for(var r,i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];(r=this.channels.get(t))===null||r===void 0||r.emit(n,...o)}subscribe(t,n,r){return this.getChannel(t).on(n,r),()=>this.unsubscribe(t,n,r)}unsubscribe(t,n,r){const i=this.channels.get(t);if(!i)return;const o=i.events[n];o&&(i.events[n]=o.filter(s=>s!==r)),Object.values(i.events).flat().reduce((s,a)=>a?s+1:s,0)===0&&this.disposeChannel(t)}}function zl(){var e,t;return(t=(e=window)[ki])!==null&&t!==void 0?t:e[ki]=function(){if(Object.prototype.hasOwnProperty.call(window,ki))throw new Error("Widget plugin external events: plugin already initialized!");return new Ul}()}function Ti(e,t,n){c.useEffect(()=>{if(e!==void 0)return zl().subscribe(e,t,n)},[e,t])}function Dt(e,t){(function(n){let{widgetName:r,parentChannelName:i,listener:o}=n;const{current:s}=c.useRef(o);Ti(r,Ci.reset.value,s),Ti(i,Ci.reset.value,s)})({widgetName:t.name,parentChannelName:t.parentChannelName,listener:e.handleResetValue}),function(n){let{widgetName:r,listener:i}=n;const{current:o}=c.useRef(i);Ti(r,Ci.set.value,o)}({widgetName:t.name,listener:e.handleSetValue})}const Rt=e=>{let{className:t,bootstrapStyle:n,children:r,role:i}=e;return c.Children.count(r)>0?c.createElement("div",{className:Yt("alert alert-".concat(n),t),role:i},r):null};Rt.displayName="Alert";const Wl=Ue(function(e){const t=Pi(e),n=Ze(()=>new kl({gate:t}));return Dt(n,e),c.createElement(Sa,{value:n.value,useSelectProps:n.useSelectProps,options:n.options,onClear:n.handleClear,clearable:e.clearable,empty:n.isEmpty,showCheckboxes:n.multiselect,className:e.className,style:e.styles,ariaLabel:e.ariaLabel})}),ql=Ue(function(e){const t=Pi(e),n=Ze(()=>new Cl({gate:t}));return Dt(n,e),c.createElement(Ia,{options:n.options,inputPlaceholder:n.inputPlaceholder,emptyCaption:n.emptyCaption,ariaLabel:e.ariaLabel,useComboboxProps:n.useComboboxProps,onClear:n.handleClear,onFocus:n.handleFocus,onBlur:n.handleBlur,empty:n.isEmpty,className:e.className,style:e.styles})}),$l=Ue(function(e){const t=Pi(e),n=Ze(()=>new Tl({gate:t}));return Dt(n,e),c.createElement(xa,{options:n.options,selected:n.selectedOptions,useMultipleSelectionProps:n.useMultipleSelectionProps,useComboboxProps:n.useComboboxProps,onClear:n.handleClear,onBlur:n.handleBlur,inputPlaceholder:n.inputPlaceholder,emptyCaption:n.emptyCaption,ariaLabel:e.ariaLabel,empty:n.isEmpty,showCheckboxes:e.selectionMethod==="checkbox",selectedStyle:e.selectedItemsStyle,className:e.className,style:e.styles})}),Gl=(Ea=function(e){const t=Oa(e);switch(t){case"select":return c.createElement(Wl,{...e});case"combobox":return c.createElement(ql,{...e});case"tagPicker":return c.createElement($l,{...e});default:return c.createElement("div",null,"Unknown frontend type: ",t)}},function(e){const[t]=c.useState(()=>{for(const r of e.filterOptions){var n;const i="".concat((n=r.value)===null||n===void 0?void 0:n.value);if(!e.filterStore.isValidValue(i))return new Error("Invalid option value: '".concat(i,"'"))}return null});return t?c.createElement(Rt,{bootstrapStyle:"danger"},t.message):c.createElement(Ea,{...e})});var Ea,qe;function Pi(e){const t=Cn(()=>new _r(e));return c.useEffect(()=>t.setProps(e)),t.gate}(function(e){e[e.EMISSINGSTORE=2]="EMISSINGSTORE",e[e.ENOCONTEXT=1]="ENOCONTEXT",e[e.ESTORETYPE=3]="ESTORETYPE",e[e.EKEYMISSING=7]="EKEYMISSING",e[e.OPTIONS_NOT_FILTERABLE=8]="OPTIONS_NOT_FILTERABLE",e[e.NOT_FILTERABLE=9]="NOT_FILTERABLE",e[e.UNSUPPORTED_ATTRIBUTE_TYPE=10]="UNSUPPORTED_ATTRIBUTE_TYPE"})(qe||(qe={}));const Yl=Object.freeze({code:qe.ENOCONTEXT,message:"The filter widget must be placed inside the column or header of the Data grid 2.0 or inside header of the Gallery widget."}),Xl=Object.freeze({code:qe.EMISSINGSTORE,message:"Unable to get filter store. Check parent widget configuration."}),Zl=(e,t)=>Object.freeze({code:qe.ESTORETYPE,message:"The ".concat(e," is not compatible with ").concat(t," data type.")});function Qt(e){return{hasError:!0,error:e}}function Ca(e){return{hasError:!1,value:e}}Object.freeze({code:qe.EKEYMISSING,message:"The key for filter is missing."}),Object.freeze({code:qe.OPTIONS_NOT_FILTERABLE,message:"Drop-down options can't be filtered with current column configuration. To enable filtering, change 'Option caption type'  to 'Attribute' in column settings."}),Object.freeze({code:qe.NOT_FILTERABLE,message:"The attribute is not filterable. Please choose a different attribute."}),Object.freeze({code:qe.UNSUPPORTED_ATTRIBUTE_TYPE,message:"Unsupported attribute type for filtering. Please choose a different attribute."});const ka="com.mendix.widgets.web.filterable.filterContext.v2";function Ai(){const e=(n=(t=window)[ka])!==null&&n!==void 0?n:t[ka]=c.createContext(null);var t,n;const r=c.useContext(e);return r==null?Qt(Yl):Ca(r)}function Ta(e){return function(t){return("attr"in t?t.attr:t.refEntity).filterable?c.createElement(e,{...t}):c.createElement(Rt,{bootstrapStyle:"danger"},"The attribute in the current widget configuration is"," ",c.createElement("a",{href:"https://docs.mendix.com/refguide/attributes/#limitations"},"not filterable"),". Please change the widget configuration.")}}const Pa=(e,t)=>Object.hasOwn(e,t);function Jl(e,t){return Pa(n=e,"arg1")&&Pa(n,"arg2")?e.arg2.type!=="literal"?null:t(e.arg2):null;var n}function Aa(e,t){const n=(r,i)=>{if(i.name==="or")return i.args.reduce(n,r);if(i.name==="="||i.name==="contains"){const o=Jl(i,t);o!=null&&r.push(o)}return r};return[e].reduce(n,[])}function Da(e){return[e].flatMap(t=>t.name==="or"?t.args.flatMap(Da):t.name==="="||t.name==="contains"?[t]:[])}class Ra{constructor(){_(this,"defaultSelected",[]),_(this,"blockSetDefaults",!1),_(this,"selected",new Set),Ce(this,{selected:Y.struct,clear:U,reset:U,toggle:U,setSelected:U,fromJSON:U})}setSelected(t){this.selected=new Set(t)}clear(){this.setSelected([])}reset(){this.setSelected(this.defaultSelected)}toggle(t){const n=new Set(this.selected);this.setSelected(n.delete(t)?n:n.add(t))}toJSON(){return[...this.selected]}fromJSON(t){t==null||function(n){if(Array.isArray(n)){const[r]=n;return Ql.has(r)}return!1}(t)||(this.setSelected(t),this.blockSetDefaults=!0)}}const Ql=new Set(["empty","notEmpty","equal","notEqual","greater","greaterEqual","smaller","smallerEqual","between","contains","startsWith","endsWith"]);class Va{constructor(){let{defaultValue:t="",delay:n=0}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var r,i,o;_(this,"delay",void 0),_(this,"disposers",[]),_(this,"defaultValue",void 0),_(this,"value",void 0),_(this,"buffer",void 0),this.defaultValue=t,this.buffer=this.value=this.defaultValue,this.delay=n,i={setBuffer:U,clear:U,reset:U},Be(r=this)?ko(r,r,i,o):Xe(function(){var s=ut(r,o)[P];if(!r[fr]){var a=Object.getPrototypeOf(r),u=new Set([].concat(gt(r),gt(a)));u.delete("constructor"),u.delete(P),Vt(a,fr,u)}r[fr].forEach(function(l){return s.make_(l,!i||!(l in i)||i[l])})})}setBuffer(t){this.buffer=t}reset(){this.buffer=this.value=this.defaultValue}clear(){this.buffer=this.value=""}setup(){return this.disposers.push(st(()=>{const t=this.buffer;xo(()=>this.value=t)},{delay:this.delay})),()=>this.disposers.forEach(t=>t())}}class ec extends Ra{constructor(t,n){super(),_(this,"storeType","select"),_(this,"_attributes",[]),_(this,"_customOptions",[]),_(this,"search",void 0),this.search=new Va,this._attributes=t,Ce(this,{_attributes:Y.struct,_customOptions:Y.struct,allOptions:H,options:H,selectedOptions:H,universe:H,condition:H,setCustomOptions:U,setDefaultSelected:U,fromViewState:U}),n&&this.fromViewState(n)}get allOptions(){const t=this.selected;return this._customOptions.length>0?this._customOptions.map(r=>({...r,selected:t.has(r.value)})):this._attributes.flatMap(r=>{var i;return Array.from((i=r.universe)!==null&&i!==void 0?i:[],o=>{const s="".concat(o);return{caption:r.formatter?r.formatter.format(o):s,value:s,selected:t.has(s)}})})}get options(){return this.search.value?this.allOptions.filter(t=>t.caption.toLowerCase().includes(this.search.value.toLowerCase())):this.allOptions}get selectedOptions(){return[...this.selected].flatMap(t=>{const n=this.allOptions.find(r=>r.value===t);return n?[n]:[]})}get universe(){return new Set(this._attributes.flatMap(t=>{var n;return Array.from((n=t.universe)!==null&&n!==void 0?n:[],r=>"".concat(r))}))}get condition(){const t=this.selected,n=this._attributes.flatMap(r=>{const i=function(o,s){if(!o||s.size<1)return;const a=Mi(o.id),u=Array.from(s,l=>Li(a,tn(function(d,p){return d==="Boolean"?p==="true":p}(o.type,l))));return u.length>1?Gn(...u):u[0]}(r,t);return i?[i]:[]});return n.length>1?Gn(...n):n[0]}setup(){const[t,n]=lt();return t(this.search.setup()),n}setCustomOptions(t){this._customOptions=t}setDefaultSelected(t){!this.blockSetDefaults&&t&&(this.defaultSelected=t,this.setSelected(t),this.blockSetDefaults=!0)}checkAttrs(){return this._attributes.every(t=>/Enum|Boolean/.test(t.type))?null:new TypeError("StaticSelectFilterStore: invalid attribute found. Check widget configuration.")}isValidValue(t){return this.universe.has(t)}fromViewState(t){const n=Aa(t,r=>r.valueType==="string"?r.value:r.valueType==="boolean"?r.value?"true":"false":void 0);n.length<1||(this.setSelected(n),this.blockSetDefaults=!0)}}class Ma{setup(){var t,n;const[r,i]=lt();return this.filterAPI.filterObserver.observe(this.dataKey,this._store),r(()=>this.filterAPI.filterObserver.unobserve(this.dataKey)),r((t=(n=this._store).setup)===null||t===void 0?void 0:t.call(n)),i}}class tc extends Ma{constructor(t,n){super(),_(this,"_store",void 0),_(this,"filterAPI",void 0),_(this,"dataKey",void 0),this.filterAPI=t,this.dataKey=n.dataKey,this._store=new ec(n.attributes,null)}get store(){return this._store}}function nc(e){return e.attrChoice==="auto"?c.createElement(rc,{...e}):c.createElement(ic,{...e})}const rc=function(e){return function(t){const n=function(){var r;const i=Ai(),o=c.useRef();if(i.hasError)return Qt(i.error);const s=i.value;if(s.provider.hasError)return Qt(s.provider.error);const a=s.provider.value.type==="direct"?s.provider.value.store:null;return a===null?Qt(Xl):a.storeType!=="select"?Qt(Zl("dropdown filter",a.arg1.type)):Ca((r=o.current)!==null&&r!==void 0?r:o.current={filterStore:a,parentChannelName:s.parentChannelName})}();return n.hasError?c.createElement(Rt,{bootstrapStyle:"danger"},n.error.message):c.createElement(e,{...t,filterStore:n.value.filterStore,parentChannelName:n.value.parentChannelName})}}(La),ic=Ta(function(e){return function(t){const n=Ai();return n.hasError?c.createElement(Rt,{bootstrapStyle:"danger"},n.error.message):c.createElement(e,{...t,filterAPI:n.value})}}(function(e){return function(t){const{store:n}=Ze(()=>new tc(t.filterAPI,{attributes:[t.attr],dataKey:t.name}));return c.createElement(e,{...t,filterStore:n,parentChannelName:t.filterAPI.parentChannelName})}}(La)));function La(e){var t,n,r,i,o,s,a,u,l;return c.createElement(Gl,{...e,multiselect:e.multiSelect,ariaLabel:(t=(n=e.ariaLabel)===null||n===void 0?void 0:n.value)!==null&&t!==void 0?t:"",className:e.class,styles:e.style,emptyOptionCaption:(r=(i=e.emptyOptionCaption)===null||i===void 0?void 0:i.value)!==null&&r!==void 0?r:"",emptySelectionCaption:(o=(s=e.emptySelectionCaption)===null||s===void 0?void 0:s.value)!==null&&o!==void 0?o:"",placeholder:(a=(u=e.filterInputPlaceholderCaption)===null||u===void 0?void 0:u.value)!==null&&a!==void 0?a:"",defaultValue:(l=e.defaultValue)===null||l===void 0?void 0:l.value,parentChannelName:e.parentChannelName})}class Di extends rs{constructor(t){let{gate:n,multiselect:r}=t;super({gate:n,multiselect:r})}setup(){const[t,n]=lt();return t(this.changeHelper.setup()),this.defaultValue&&this.filterStore.setDefaultSelected(this.defaultValue),n}}class oc extends ta(Di){constructor(t){let{gate:n}=t;super({gate:n,multiselect:n.props.multiselect}),_(this,"handleFocus",()=>{this.filterStore.setFetchReady(!0)}),_(this,"handleMenuScrollEnd",()=>{this.filterStore.loadMore()}),this.emptyOption.caption=n.props.emptyOptionCaption,this.emptyCaption=n.props.emptySelectionCaption,this.ariaLabel=n.props.ariaLabel}}class sc extends Qs(Di){constructor(t){let{gate:n}=t;super({gate:n,multiselect:!1}),_(this,"handleFocus",r=>{super.handleFocus(r),this.filterStore.setFetchReady(!0)}),_(this,"handleMenuScrollEnd",()=>{this.filterStore.loadMore()}),this.inputPlaceholder=n.props.placeholder,this.emptyCaption=n.props.emptySelectionCaption,this.ariaLabel=n.props.ariaLabel}}class ac extends na(Di){constructor(t){let{gate:n}=t;super({gate:n,multiselect:n.props.multiselect}),_(this,"selectionMethod",void 0),_(this,"selectedStyle",void 0),_(this,"handleFocus",()=>{this.filterStore.setFetchReady(!0)}),_(this,"handleMenuScrollEnd",()=>{this.filterStore.loadMore()}),this.inputPlaceholder=n.props.placeholder,this.emptyCaption=n.props.emptySelectionCaption,this.ariaLabel=n.props.ariaLabel,this.filterSelectedOptions=n.props.selectionMethod==="rowClick",this.selectedStyle=n.props.selectedItemsStyle,this.selectionMethod=this.selectedStyle==="boxes"?n.props.selectionMethod:"checkbox"}}function Ri(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{triggerZoneHeight:n=0}=t,r=c.useRef({callback:e,offset:Math.max(n,0),isInDeadZone:!1});return r.current.callback=e,c.useCallback(i=>{const{current:{isInDeadZone:o,callback:s,offset:a}}=r,u=i.currentTarget.scrollHeight-a,l=Math.floor(u-i.currentTarget.scrollTop)<=Math.floor(i.currentTarget.clientHeight),d=!o&&l;r.current.isInDeadZone=l,d&&s(i)},[])}const uc=Ue(function(e){const t=Vi(e),n=Ze(()=>new oc({gate:t})),r=Ri(n.handleMenuScrollEnd,{triggerZoneHeight:100});return Dt(n,e),c.createElement(Sa,{value:n.value,useSelectProps:n.useSelectProps,options:n.options,onClear:n.handleClear,clearable:e.clearable,empty:n.isEmpty,onFocus:n.handleFocus,onMenuScroll:r,showCheckboxes:n.multiselect,className:e.className,style:e.styles,ariaLabel:e.ariaLabel})}),lc=Ue(function(e){const t=Vi(e),n=Ze(()=>new sc({gate:t})),r=Ri(n.handleMenuScrollEnd,{triggerZoneHeight:100});return Dt(n,e),c.createElement(Ia,{options:n.options,inputPlaceholder:n.inputPlaceholder,emptyCaption:n.emptyCaption,ariaLabel:e.ariaLabel,useComboboxProps:n.useComboboxProps,onClear:n.handleClear,onFocus:n.handleFocus,onBlur:n.handleBlur,onMenuScroll:r,empty:n.isEmpty,className:e.className,style:e.styles})}),cc=Ue(function(e){const t=Vi(e),n=Ze(()=>new ac({gate:t})),r=Ri(n.handleMenuScrollEnd,{triggerZoneHeight:100});return Dt(n,e),c.createElement(xa,{options:n.options,selected:n.selectedOptions,useMultipleSelectionProps:n.useMultipleSelectionProps,useComboboxProps:n.useComboboxProps,onClear:n.handleClear,onBlur:n.handleBlur,onFocus:n.handleFocus,onMenuScroll:r,inputPlaceholder:n.inputPlaceholder,emptyCaption:n.emptyCaption,ariaLabel:e.ariaLabel,empty:n.isEmpty,showCheckboxes:e.selectionMethod==="checkbox",selectedStyle:e.selectedItemsStyle,className:e.className,style:e.styles})}),dc=function(e){const t=Oa(e);switch(t){case"select":return c.createElement(uc,{...e});case"combobox":return c.createElement(lc,{...e});case"tagPicker":return c.createElement(cc,{...e});default:return c.createElement("div",null,"Unknown frontend type: ",t)}};function Vi(e){const t=Cn(()=>new _r(e));return c.useEffect(()=>t.setProps(e)),t.gate}class hc extends Ra{constructor(t){var n;let{gate:r,initCond:i}=t;super(),_(this,"storeType","refselect"),_(this,"optionsFilterable",void 0),_(this,"gate",void 0),_(this,"searchAttrId",void 0),_(this,"initCondArray",void 0),_(this,"pageSize",20),_(this,"searchSize",100),_(this,"fetchReady",!1),_(this,"selectedItems",[]),_(this,"lazyMode",void 0),_(this,"search",void 0);const{props:o}=r;this.gate=r,this.lazyMode=(n=o.fetchOptionsLazy)===null||n===void 0||n,this.searchAttrId=o.searchAttrId,this.initCondArray=i?Da(i):[],this.search=new Va,this.optionsFilterable=!!this.searchAttrId,this.lazyMode&&this.datasource.setLimit(0),Ce(this,{datasource:H,refEntity:H,caption:H,options:H,hasMore:H,isLoading:H,condition:H,fromViewState:U,fetchReady:Y,setFetchReady:U,setDefaultSelected:U,selectedItems:Y.struct,selectedOptions:H}),i&&this.fromViewState(i)}get datasource(){return this.gate.props.refOptions}get refEntity(){return this.gate.props.refEntity}get caption(){return this.gate.props.refCaption}get hasMore(){var t;return(t=this.datasource.hasMoreItems)!==null&&t!==void 0&&t}get isLoading(){return this.datasource.status==="loading"}get options(){var t;return((t=this.datasource.items)!==null&&t!==void 0?t:[]).map(n=>this.toOption(n))}get selectedOptions(){return this.selectedItems.map(t=>this.toOption(t))}toOption(t){return{caption:"".concat(this.caption.get(t).value),value:"".concat(t.id),selected:this.selected.has(t.id)}}get condition(){if(this.selected.size<1)return;const t=[...this.selected].flatMap(n=>{const r=this.selectedItems.find(o=>o.id===n);if(r)try{return[Ni(ji(this.refEntity.id),tn(r))]}catch{return[Li(ji(this.refEntity.id),tn(r))]}const i=this.initCondArray.find(o=>o.arg2.type==="literal"&&o.arg2.valueType==="ReferenceSet"&&o.arg2.value.at(0)===n);return i?[i]:[]});return t.length>1?Gn(...t):t[0]}setup(){const[t,n]=lt();return t(this.search.setup()),t(dr(...this.searchChangeFx())),t(st(...this.computeSelectedItemsFx())),this.lazyMode?t(Tu(()=>this.fetchReady,()=>this.loadMore())):(this.setFetchReady(!0),this.loadMore()),n}searchChangeFx(){return[()=>this.search.value,t=>{if(!this.searchAttrId)return;const n=typeof t=="string"&&t!==""?Ni(Mi(this.searchAttrId),tn(t)):void 0;this.datasource.setFilter(n),this.datasource.setLimit(this.searchSize)},{delay:300}]}computeSelectedItemsFx(){return[()=>{var t;const n=[...this.selectedItems,...(t=this.datasource.items)!==null&&t!==void 0?t:[]],r=new Map(n.map(o=>[o.id,o])),i=[...this.selected].flatMap(o=>{var s;return(s=r.get(o))!==null&&s!==void 0?s:[]});xo(()=>this.selectedItems=i)}]}setFetchReady(t){this.fetchReady||(this.fetchReady=t)}setDefaultSelected(t){!this.blockSetDefaults&&t&&(this.defaultSelected=t,this.blockSetDefaults=!0,this.setSelected(t))}loadMore(){this.datasource.setLimit(this.datasource.limit+this.pageSize)}fromViewState(t){const n=Aa(t,r=>{switch(r.valueType){case"Reference":return r.value;case"ReferenceSet":return r.value.at(0);default:return}});n.length>0&&(this.setSelected(n),this.blockSetDefaults=!0)}}function Na(e){if(!e.refEntity)throw new Error("RefFilterStoreProvider: refEntity is required");if(!e.refOptions)throw new Error("RefFilterStoreProvider: refOptions is required");if(e.refCaptionSource==="attr"){if(!e.refCaption)throw new Error("RefFilterStoreProvider: 'Caption' settings is required");return{name:e.name,refEntity:e.refEntity,refOptions:e.refOptions,refCaption:e.refCaption,searchAttrId:e.refCaption.id,fetchOptionsLazy:e.fetchOptionsLazy}}var t;if(!e.refCaptionExp)throw new Error("RefFilterStoreProvider: 'Caption' settings is required");return{name:e.name,refEntity:e.refEntity,refOptions:e.refOptions,refCaption:e.refCaptionExp,searchAttrId:(t=e.refSearchAttr)===null||t===void 0?void 0:t.id,fetchOptionsLazy:e.fetchOptionsLazy}}class fc extends Ma{constructor(t,n){super(),_(this,"_store",void 0),_(this,"filterAPI",void 0),_(this,"dataKey",void 0),this.filterAPI=t,this.dataKey=n.props.name,this._store=new hc({gate:n,initCond:null})}get store(){return this._store}}const pc=Ta(function(e){function t(n){const r=function(o){const s=Cn(()=>new _r(Na(o)));return c.useEffect(()=>{s.setProps(Na(o))}),s.gate}(n),i=Ze(()=>new fc(n.filterAPI,r));return c.createElement(e,{...n,filterStore:i.store,parentChannelName:n.filterAPI.parentChannelName})}return function(n){const r=Ai();return r.hasError?c.createElement(Rt,{bootstrapStyle:"danger"},r.error.message):c.createElement(t,{...n,filterAPI:r.value})}}(function(e){var t,n,r,i,o,s,a,u,l;return c.createElement(dc,{...e,multiselect:e.multiSelect,ariaLabel:(t=(n=e.ariaLabel)===null||n===void 0?void 0:n.value)!==null&&t!==void 0?t:"",className:e.class,styles:e.style,emptyOptionCaption:(r=(i=e.emptyOptionCaption)===null||i===void 0?void 0:i.value)!==null&&r!==void 0?r:"",emptySelectionCaption:(o=(s=e.emptySelectionCaption)===null||s===void 0?void 0:s.value)!==null&&o!==void 0?o:"",placeholder:(a=(u=e.filterInputPlaceholderCaption)===null||u===void 0?void 0:u.value)!==null&&a!==void 0?a:"",defaultValue:(l=e.defaultValue)===null||l===void 0?void 0:l.value,parentChannelName:e.parentChannelName})})),vc=function(e,t){return function(n){var r;return(r=c.useRef(!1)).current||(r.current=!t(n))?c.createElement(e,{...n}):c.createElement(c.Fragment,null)}}(function(e){return e.baseType==="attr"?c.createElement(nc,{...e}):c.createElement(pc,{...e})},e=>{var t;return((t=e.defaultValue)===null||t===void 0?void 0:t.status)==="loading"});var gc=Object.freeze({__proto__:null,default:vc});export{gc as y};
