import{r as s,ba as Le,cI as vn,cJ as fn,cK as yn,cL as bn}from"./DTxgj959.js";const pe=n=>{n&&n.canExecute&&!n.isExecuting&&n.execute()};class dt{constructor(){this.limit=0}updateProps(e){this.limit=e.limit,this.ds=e}setLimit(e){var t,o;e!==((t=this.ds)===null||t===void 0?void 0:t.limit)&&((o=this.ds)===null||o===void 0||o.setLimit(e))}getLimit(e,t,o,i){return o!=="available"||t===!0?0:i?e<this.limit?this.limit:(e>this.limit&&(this.limit=e),e):void 0}}var Ee={exports:{}},pt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u1EA4:"A",\u1EAE:"A",\u1EB2:"A",\u1EB4:"A",\u1EB6:"A",\u00C6:"AE",\u1EA6:"A",\u1EB0:"A",\u0202:"A",\u1EA2:"A",\u1EA0:"A",\u1EA8:"A",\u1EAA:"A",\u1EAC:"A",\u00C7:"C",\u1E08:"C",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u1EBE:"E",\u1E16:"E",\u1EC0:"E",\u1E14:"E",\u1E1C:"E",\u0206:"E",\u1EBA:"E",\u1EBC:"E",\u1EB8:"E",\u1EC2:"E",\u1EC4:"E",\u1EC6:"E",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u020A:"I",\u1EC8:"I",\u1ECA:"I",\u00D0:"D",\u00D1:"N",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u1ED0:"O",\u1E4C:"O",\u1E52:"O",\u020E:"O",\u1ECE:"O",\u1ECC:"O",\u1ED4:"O",\u1ED6:"O",\u1ED8:"O",\u1EDC:"O",\u1EDE:"O",\u1EE0:"O",\u1EDA:"O",\u1EE2:"O",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u1EE6:"U",\u1EE4:"U",\u1EEC:"U",\u1EEE:"U",\u1EF0:"U",\u00DD:"Y",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u1EA5:"a",\u1EAF:"a",\u1EB3:"a",\u1EB5:"a",\u1EB7:"a",\u00E6:"ae",\u1EA7:"a",\u1EB1:"a",\u0203:"a",\u1EA3:"a",\u1EA1:"a",\u1EA9:"a",\u1EAB:"a",\u1EAD:"a",\u00E7:"c",\u1E09:"c",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u1EBF:"e",\u1E17:"e",\u1EC1:"e",\u1E15:"e",\u1E1D:"e",\u0207:"e",\u1EBB:"e",\u1EBD:"e",\u1EB9:"e",\u1EC3:"e",\u1EC5:"e",\u1EC7:"e",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u020B:"i",\u1EC9:"i",\u1ECB:"i",\u00F0:"d",\u00F1:"n",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u1ED1:"o",\u1E4D:"o",\u1E53:"o",\u020F:"o",\u1ECF:"o",\u1ECD:"o",\u1ED5:"o",\u1ED7:"o",\u1ED9:"o",\u1EDD:"o",\u1EDF:"o",\u1EE1:"o",\u1EDB:"o",\u1EE3:"o",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u1EE7:"u",\u1EE5:"u",\u1EED:"u",\u1EEF:"u",\u1EF1:"u",\u00FD:"y",\u00FF:"y",\u0100:"A",\u0101:"a",\u0102:"A",\u0103:"a",\u0104:"A",\u0105:"a",\u0106:"C",\u0107:"c",\u0108:"C",\u0109:"c",\u010A:"C",\u010B:"c",\u010C:"C",\u010D:"c",C\u0306:"C",c\u0306:"c",\u010E:"D",\u010F:"d",\u0110:"D",\u0111:"d",\u0112:"E",\u0113:"e",\u0114:"E",\u0115:"e",\u0116:"E",\u0117:"e",\u0118:"E",\u0119:"e",\u011A:"E",\u011B:"e",\u011C:"G",\u01F4:"G",\u011D:"g",\u01F5:"g",\u011E:"G",\u011F:"g",\u0120:"G",\u0121:"g",\u0122:"G",\u0123:"g",\u0124:"H",\u0125:"h",\u0126:"H",\u0127:"h",\u1E2A:"H",\u1E2B:"h",\u0128:"I",\u0129:"i",\u012A:"I",\u012B:"i",\u012C:"I",\u012D:"i",\u012E:"I",\u012F:"i",\u0130:"I",\u0131:"i",\u0132:"IJ",\u0133:"ij",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u1E30:"K",\u1E31:"k",K\u0306:"K",k\u0306:"k",\u0139:"L",\u013A:"l",\u013B:"L",\u013C:"l",\u013D:"L",\u013E:"l",\u013F:"L",\u0140:"l",\u0141:"l",\u0142:"l",\u1E3E:"M",\u1E3F:"m",M\u0306:"M",m\u0306:"m",\u0143:"N",\u0144:"n",\u0145:"N",\u0146:"n",\u0147:"N",\u0148:"n",\u0149:"n",N\u0306:"N",n\u0306:"n",\u014C:"O",\u014D:"o",\u014E:"O",\u014F:"o",\u0150:"O",\u0151:"o",\u0152:"OE",\u0153:"oe",P\u0306:"P",p\u0306:"p",\u0154:"R",\u0155:"r",\u0156:"R",\u0157:"r",\u0158:"R",\u0159:"r",R\u0306:"R",r\u0306:"r",\u0212:"R",\u0213:"r",\u015A:"S",\u015B:"s",\u015C:"S",\u015D:"s",\u015E:"S",\u0218:"S",\u0219:"s",\u015F:"s",\u0160:"S",\u0161:"s",\u0162:"T",\u0163:"t",\u021B:"t",\u021A:"T",\u0164:"T",\u0165:"t",\u0166:"T",\u0167:"t",T\u0306:"T",t\u0306:"t",\u0168:"U",\u0169:"u",\u016A:"U",\u016B:"u",\u016C:"U",\u016D:"u",\u016E:"U",\u016F:"u",\u0170:"U",\u0171:"u",\u0172:"U",\u0173:"u",\u0216:"U",\u0217:"u",V\u0306:"V",v\u0306:"v",\u0174:"W",\u0175:"w",\u1E82:"W",\u1E83:"w",X\u0306:"X",x\u0306:"x",\u0176:"Y",\u0177:"y",\u0178:"Y",Y\u0306:"Y",y\u0306:"y",\u0179:"Z",\u017A:"z",\u017B:"Z",\u017C:"z",\u017D:"Z",\u017E:"z",\u017F:"s",\u0192:"f",\u01A0:"O",\u01A1:"o",\u01AF:"U",\u01B0:"u",\u01CD:"A",\u01CE:"a",\u01CF:"I",\u01D0:"i",\u01D1:"O",\u01D2:"o",\u01D3:"U",\u01D4:"u",\u01D5:"U",\u01D6:"u",\u01D7:"U",\u01D8:"u",\u01D9:"U",\u01DA:"u",\u01DB:"U",\u01DC:"u",\u1EE8:"U",\u1EE9:"u",\u1E78:"U",\u1E79:"u",\u01FA:"A",\u01FB:"a",\u01FC:"AE",\u01FD:"ae",\u01FE:"O",\u01FF:"o",\u00DE:"TH",\u00FE:"th",\u1E54:"P",\u1E55:"p",\u1E64:"S",\u1E65:"s",X\u0301:"X",x\u0301:"x",\u0403:"\u0413",\u0453:"\u0433",\u040C:"\u041A",\u045C:"\u043A",A\u030B:"A",a\u030B:"a",E\u030B:"E",e\u030B:"e",I\u030B:"I",i\u030B:"i",\u01F8:"N",\u01F9:"n",\u1ED2:"O",\u1ED3:"o",\u1E50:"O",\u1E51:"o",\u1EEA:"U",\u1EEB:"u",\u1E80:"W",\u1E81:"w",\u1EF2:"Y",\u1EF3:"y",\u0200:"A",\u0201:"a",\u0204:"E",\u0205:"e",\u0208:"I",\u0209:"i",\u020C:"O",\u020D:"o",\u0210:"R",\u0211:"r",\u0214:"U",\u0215:"u",B\u030C:"B",b\u030C:"b",\u010C\u0323:"C",\u010D\u0323:"c",\u00CA\u030C:"E",\u00EA\u030C:"e",F\u030C:"F",f\u030C:"f",\u01E6:"G",\u01E7:"g",\u021E:"H",\u021F:"h",J\u030C:"J",\u01F0:"j",\u01E8:"K",\u01E9:"k",M\u030C:"M",m\u030C:"m",P\u030C:"P",p\u030C:"p",Q\u030C:"Q",q\u030C:"q",\u0158\u0329:"R",\u0159\u0329:"r",\u1E66:"S",\u1E67:"s",V\u030C:"V",v\u030C:"v",W\u030C:"W",w\u030C:"w",X\u030C:"X",x\u030C:"x",Y\u030C:"Y",y\u030C:"y",A\u0327:"A",a\u0327:"a",B\u0327:"B",b\u0327:"b",\u1E10:"D",\u1E11:"d",\u0228:"E",\u0229:"e",\u0190\u0327:"E",\u025B\u0327:"e",\u1E28:"H",\u1E29:"h",I\u0327:"I",i\u0327:"i",\u0197\u0327:"I",\u0268\u0327:"i",M\u0327:"M",m\u0327:"m",O\u0327:"O",o\u0327:"o",Q\u0327:"Q",q\u0327:"q",U\u0327:"U",u\u0327:"u",X\u0327:"X",x\u0327:"x",Z\u0327:"Z",z\u0327:"z",\u0439:"\u0438",\u0419:"\u0418",\u0451:"\u0435",\u0401:"\u0415"},ht=Object.keys(pt).join("|"),In=new RegExp(ht,"g"),xn=new RegExp(ht,"");function Cn(n){return pt[n]}var mt=function(n){return n.replace(In,Cn)};Ee.exports=mt,Ee.exports.has=function(n){return!!n.match(xn)},Ee.exports.remove=mt;/**
 * @name match-sorter
 * @license MIT license.
 * @copyright (c) 2020 Kent C. Dodds
 * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)
 */const Q={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},wn=(n,e)=>String(n.rankedValue).localeCompare(String(e.rankedValue));function le(n,e,t){t===void 0&&(t={});const{keys:o,threshold:i=Q.MATCHES,baseSort:r=wn,sorter:a=d=>d.sort((u,m)=>En(u,m,r))}=t,l=n.reduce(function(d,u,m){const h=function(C,P,k,S){return P?function(I,x){const y=[];for(let b=0,w=x.length;b<w;b++){const E=x[b],V=On(E),R=Tn(I,E);for(let F=0,D=R.length;F<D;F++)y.push({itemValue:R[F],attributes:V})}return y}(C,P).reduce((I,x,y)=>{let{rank:b,rankedValue:w,keyIndex:E,keyThreshold:V}=I,{itemValue:R,attributes:F}=x,D=gt(R,k,S),p=w;const{minRanking:v,maxRanking:M,threshold:A}=F;return D<v&&D>=Q.MATCHES?D=v:D>M&&(D=M),D>b&&(b=D,E=y,V=A,p=R),{rankedValue:p,rank:b,keyIndex:E,keyThreshold:V}},{rankedValue:C,rank:Q.NO_MATCH,keyIndex:-1,keyThreshold:S.threshold}):{rankedValue:C,rank:gt(C,k,S),keyIndex:-1,keyThreshold:S.threshold}}(u,o,e,t),{rank:c,keyThreshold:f=i}=h;return c>=f&&d.push({...h,item:u,index:m}),d},[]);return a(l).map(d=>{let{item:u}=d;return u})}function gt(n,e,t){return n=vt(n,t),(e=vt(e,t)).length>n.length?Q.NO_MATCH:n===e?Q.CASE_SENSITIVE_EQUAL:(n=n.toLowerCase())===(e=e.toLowerCase())?Q.EQUAL:n.startsWith(e)?Q.STARTS_WITH:n.includes(" ".concat(e))?Q.WORD_STARTS_WITH:n.includes(e)?Q.CONTAINS:e.length===1?Q.NO_MATCH:function(o){let i="";return o.split(" ").forEach(r=>{r.split("-").forEach(a=>{i+=a.substr(0,1)})}),i}(n).includes(e)?Q.ACRONYM:function(o,i){let r=0,a=0;function l(m,h,c){for(let f=c,C=h.length;f<C;f++)if(h[f]===m)return r+=1,f+1;return-1}function d(m){const h=1/m,c=r/i.length;return Q.MATCHES+c*h}const u=l(i[0],o,0);if(u<0)return Q.NO_MATCH;a=u;for(let m=1,h=i.length;m<h;m++)if(a=l(i[m],o,a),!(a>-1))return Q.NO_MATCH;return d(a-u)}(n,e)}function En(n,e,t){const{rank:o,keyIndex:i}=n,{rank:r,keyIndex:a}=e;return o===r?i===a?t(n,e):i<a?-1:1:o>r?-1:1}function vt(n,e){let{keepDiacritics:t}=e;return n="".concat(n),t||(n=Ee.exports(n)),n}function Tn(n,e){let t;if(typeof e=="object"&&(e=e.key),typeof e=="function")t=e(n);else if(n==null)t=null;else if(Object.hasOwnProperty.call(n,e))t=n[e];else{if(e.includes("."))return function(o,i){const r=o.split(".");let a=[i];for(let l=0,d=r.length;l<d;l++){const u=r[l];let m=[];for(let h=0,c=a.length;h<c;h++){const f=a[h];if(f!=null)if(Object.hasOwnProperty.call(f,u)){const C=f[u];C!=null&&m.push(C)}else u==="*"&&(m=m.concat(f))}a=m}return Array.isArray(a[0])?[].concat(...a):a}(e,n);t=null}return t==null?[]:Array.isArray(t)?t:[String(t)]}le.rankings=Q;const ft={maxRanking:1/0,minRanking:-1/0};function On(n){return typeof n=="string"?ft:{...ft,...n}}const yt=100;function fe(n){const{htmlFor:e,children:t,onClick:o}=n;return s.createElement(e==null?"span":"label",{children:t,className:"widget-combobox-caption-text",htmlFor:e,onClick:o||(e?i=>{i.preventDefault()}:void 0)})}function Sn(n){switch(n){case"contains":return{};case"startsWith":return{threshold:le.rankings.WORD_STARTS_WITH};case"none":return{threshold:le.rankings.NO_MATCH}}}function Te(n,e){return n===void 0||e===void 0?n===e:n instanceof Le&&e instanceof Le?n.eq(e):n instanceof Date&&e instanceof Date?n.getTime()===e.getTime():n===e}class Pe{constructor(e){this.options=[],this.filterType="contains",this.searchTerm="",this.lazyLoading=!1,this.caption=e}get hasMore(){return!1}get isLoading(){return!1}get status(){return"available"}getAll(){return this.getAllWithMatchSorter()}getAllWithMatchSorter(){const e={keys:[t=>this.caption.get(t)],...Sn(this.filterType)};return this.searchTerm===""&&(e.sorter=t=>t),le(this.options,this.searchTerm||"",e)}setSearchTerm(e){var t;this.searchTerm=e,(t=this.trigger)===null||t===void 0||t.call(this)}onAfterSearchTermChange(e){this.trigger=e}loadMore(){}_updateProps(e){throw new Error("_updateProps not implemented")}_optionToValue(e){throw new Error("_optionToValue not implemented")}_valueToOption(e){throw new Error("_valueToOption not implemented")}}class bt extends Pe{constructor(e,t){super(e),this.valuesMap=t,this.loading=!1}get sortOrder(){var e;let t="asc";return this.ds&&(t=((e=this.ds.sortOrder[0])!==null&&e!==void 0?e:[])[1]),t}get status(){var e,t;return(t=(e=this.ds)===null||e===void 0?void 0:e.status)!==null&&t!==void 0?t:"unavailable"}get hasMore(){var e,t;return(t=(e=this.ds)===null||e===void 0?void 0:e.hasMoreItems)!==null&&t!==void 0&&t}get isLoading(){return this.loading}getAll(){var e,t;if(this.lazyLoading&&this.attributeId){if(this.searchTerm==="")(e=this.ds)===null||e===void 0||e.setFilter(void 0);else{const o=function(i,r,a){if(!(i==="none"||!r))return{contains:vn,startsWith:fn}[i](yn(a),bn(r))}(this.filterType,this.searchTerm,this.attributeId);(t=this.ds)===null||t===void 0||t.setFilter(o)}return this.options}return this.getAllWithMatchSorter()}loadMore(){this.ds&&this.hasMore&&(this.ds.setLimit(this.ds.limit+yt),this.lazyLoading&&(this.loading=!0))}_optionToValue(e){if(e!==null)return this.valuesMap.get(e)}_valueToOption(e){var t;return(t=e?.id)!==null&&t!==void 0?t:null}_updateProps(e){var t;this.attributeId=e.attributeId,this.ds=e.ds,this.filterType=e.filterType,this.lazyLoading=e.lazyLoading,this.lazyLoading&&(e.ds.status==="loading"?this.loading=!0:this.loading=!1);const o=(t=this.ds.items)!==null&&t!==void 0?t:[];this.valuesMap.clear(),o.forEach(i=>this.valuesMap.set(i.id,i)),this.options=Array.from(this.valuesMap.keys())}}class kn extends bt{_updateProps(e){super._updateProps(e),e.attr.value&&(Array.isArray(e.attr.value)?e.attr.value:[e.attr.value]).forEach(t=>{this.valuesMap.has(t.id)||this.valuesMap.set(t.id,t)})}}class Mn{constructor(e){this.optionsMap=e,this.unavailableCaption="<...>",this.customContentType="no",this.emptyCaption=""}updateProps(e){e.emptyOptionText&&e.emptyOptionText.status!=="unavailable"?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption="",this.formatter=e.formattingAttributeOrExpression,this.customContent=e.customContent,this.customContentType=e.customContentType}get(e){var t;if(e===null)return this.emptyCaption;if(!this.formatter)throw new Error("AssociationSimpleCaptionRenderer: no formatter available.");const o=this.optionsMap.get(e);if(!o)return this.unavailableCaption;const i=this.formatter.get(o);return i.status==="unavailable"?this.unavailableCaption:(t=i.value)!==null&&t!==void 0?t:""}getCustomContent(e){var t;if(e===null)return null;const o=this.optionsMap.get(e);return o?(t=this.customContent)===null||t===void 0?void 0:t.get(o):null}render(e,t,o){const{customContentType:i}=this;return i==="no"||t==="label"&&i==="listItem"||e===null?s.createElement(fe,{htmlFor:o},this.get(e)):s.createElement("div",{className:"widget-combobox-caption-custom"},this.getCustomContent(e))}}class It{constructor(){this.status="unavailable",this.clearable=!1,this.currentId=null,this.readOnly=!1,this.lazyLoading=!1,this.customContentType="no",this.validation=void 0,this._valuesMap=new Map,this.lazyLoader=new dt,this.caption=new Mn(this._valuesMap),this.options=new kn(this.caption,this._valuesMap)}updateProps(e){const[t,o,i,r,a,l,d,u,m,h,c,f]=function(C){var P;const k=C.attributeAssociation,S=C.filterType,L=C.onChangeEvent;if(!k)throw new Error("'optionsSourceType' type is 'association' but 'attributeAssociation' is not defined.");const I=C.optionsSourceAssociationDataSource;if(!I)throw new Error("'optionsSourceType' type is 'association' but 'optionsSourceAssociationDataSource' is not defined.");const x=C.optionsSourceAssociationCaptionType,y=C.optionsSourceAssociationCaptionAttribute,b=C.optionsSourceAssociationCaptionExpression;if(x==="attribute"&&!y)throw new Error("'optionsSourceAssociationCaptionType' type is 'attribute' but 'optionsSourceAssociationCaptionAttribute' is not defined.");if(x==="expression"&&!b)throw new Error("'optionsSourceAssociationCaptionType' type is 'expression' but 'optionsSourceAssociationCaptionExpression' is not defined.");return[k,I,x==="attribute"?y:b,x,C.emptyOptionText,C.clearable,S,L,C.optionsSourceAssociationCustomContent,C.optionsSourceAssociationCustomContentType,(P=C.lazyLoading)!==null&&P!==void 0&&P,C.loadingType]}(e);if(this.lazyLoader.updateProps(o),this.lazyLoader.setLimit(this.lazyLoader.getLimit(o.limit,t.readOnly,t.status,c)),this._attr=t,this.caption.updateProps({emptyOptionText:a,formattingAttributeOrExpression:i,customContent:m,customContentType:h}),this.options._updateProps({attr:t,ds:o,filterType:d,lazyLoading:c,attributeId:r==="attribute"?i.id:void 0}),!(t&&t.status!=="unavailable"&&o&&o.status!=="unavailable"&&i&&a&&a.status!=="unavailable"))return this.status="unavailable",this.currentId=null,void(this.clearable=!1);this.clearable=l,this.status=t.status,this.readOnly=t.readOnly,this.onChangeEvent=u,this.customContentType=h,this.validation=t.validation,this.lazyLoading=c,this.loadingType=f}setValue(e){pe(this.onChangeEvent)}}class An extends It{constructor(){super(...arguments),this.type="multi",this.selectedItemsStyle="text",this.selectionMethod="checkbox",this.selectAllButton=!1}updateProps(e){var t,o,i;super.updateProps(e),this.selectedItemsStyle=e.selectedItemsStyle,this.selectionMethod=e.selectionMethod,this.selectAllButton=e.selectAllButton,this.currentId=(i=(o=(t=this._attr)===null||t===void 0?void 0:t.value)===null||o===void 0?void 0:o.map(r=>r.id))!==null&&i!==void 0?i:null,this.selectionMethod!=="rowclick"&&this.customContentType!=="yes"||(this.selectedItemsStyle="boxes")}setValue(e){var t;const o=e?.map(i=>this.options._optionToValue(i));(t=this._attr)===null||t===void 0||t.setValue(o),super.setValue(e)}getOptions(){return this.selectionMethod==="rowclick"?this.options.getAll().filter(e=>{var t;return!(!((t=this.currentId)===null||t===void 0)&&t.includes(e))}):this.options.getAll()}isOptionsSelected(){const e=this.options.getAll(),t=e.filter(o=>{var i;return!(!((i=this.currentId)===null||i===void 0)&&i.includes(o))});return this.currentId&&this.currentId.length>0?t.length===0?"all":"some":e.length===0?"some":"none"}}class Ln extends It{constructor(){super(...arguments),this.type="single"}updateProps(e){var t,o,i;super.updateProps(e),this.currentId=(i=(o=(t=this._attr)===null||t===void 0?void 0:t.value)===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null}setValue(e){var t;(t=this._attr)===null||t===void 0||t.setValue(this.options._optionToValue(e)),super.setValue(e)}}class Pn{constructor(e){this.optionsMap=e,this.unavailableCaption="<...>",this.customContentType="no",this.emptyCaption="",this.overrideCaption=void 0}updateProps(e){e.emptyOptionText&&e.emptyOptionText.status!=="unavailable"?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption="",this.formatter=e.formattingAttributeOrExpression,this.customContent=e.customContent,this.customContentType=e.customContentType,this.attribute=e.attribute,this.overrideCaption=e.caption}get(e){var t,o;if(e===null)return this.overrideCaption?this.overrideCaption:this.emptyCaption;if(!this.formatter&&this.attribute){const a=this.optionsMap.get(e);if(a)return this.attribute.get(a).displayValue}const i=this.optionsMap.get(e);if(!i)return this.unavailableCaption;const r=(t=this.formatter)===null||t===void 0?void 0:t.get(i);return r?.status==="unavailable"?this.unavailableCaption:(o=r?.value)!==null&&o!==void 0?o:""}getCustomContent(e){var t;if(e===null)return null;const o=this.optionsMap.get(e);return o?(t=this.customContent)===null||t===void 0?void 0:t.get(o):null}render(e,t,o){const{customContentType:i}=this;return i==="no"||t==="label"&&i==="listItem"||e===null?s.createElement(fe,{htmlFor:o},this.get(e)):s.createElement("div",{className:"widget-combobox-caption-custom"},this.getCustomContent(e))}}class Vn extends bt{}class Dn{constructor(e){this.optionsMap=e}updateProps(e){this.emptyValue=e.emptyValue,this.attribute=e.valueAttribute}get(e){var t,o,i;if(e===null)return(t=this.emptyValue)===null||t===void 0?void 0:t.value;if(!this.attribute)throw new Error("DatabaseValuesProvider: no formatter available.");const r=this.optionsMap.get(e);if(!r)return(o=this.emptyValue)===null||o===void 0?void 0:o.value;const a=this.attribute.get(r);return a.status==="unavailable"?(i=this.emptyValue)===null||i===void 0?void 0:i.value:a.value}getEmptyValue(){var e;return(e=this.emptyValue)===null||e===void 0?void 0:e.value}}class Nn{constructor(){this.type="single",this.status="unavailable",this.clearable=!1,this.currentId=null,this.lastSetValue=null,this.readOnly=!1,this.lazyLoading=!1,this.customContentType="no",this.validation=void 0,this._objectsMap=new Map,this.lazyLoader=new dt,this.caption=new Pn(this._objectsMap),this.options=new Vn(this.caption,this._objectsMap),this.values=new Dn(this._objectsMap)}updateProps(e){const[t,o,i,r,a,l,d,u,m,h,c,f,C,P]=function(k){var S;const L=k.databaseAttributeString,I=k.filterType,x=k.onChangeEvent;if(!L)throw new Error("'optionsSourceType' type is 'Database' but 'databaseAttributeString' is not defined.");const y=k.optionsSourceDatabaseDataSource;if(!y)throw new Error("'optionsSourceType' type is 'database' but 'optionsSourceDatabaseDataSource' is not defined.");const b=k.optionsSourceDatabaseCaptionType,w=k.optionsSourceDatabaseCaptionAttribute,E=k.optionsSourceDatabaseCaptionExpression,V=k.emptyOptionText,R=k.optionsSourceDatabaseDefaultValue,F=k.clearable,D=k.optionsSourceAssociationCustomContent,p=k.optionsSourceAssociationCustomContentType,v=k.optionsSourceDatabaseValueAttribute,M=(S=k.lazyLoading)!==null&&S!==void 0&&S,A=k.loadingType;if(L.value instanceof Le&&v?.type!=="Integer"&&v?.type!=="Enum")throw new Error("Atrribute is type of Integer while Value has type ".concat(v?.type));if(typeof L.value=="string"&&v?.type!=="String"&&v?.type!=="Enum")throw new Error("Atrribute is type of String while Value has type ".concat(v?.type));if(!v)throw new Error("'valueExpression' is not defined");return[L,y,b==="attribute"?w:E,b,V,F,I,x,D,p,v,R,M,A]}(e);if(this.lazyLoader.updateProps(o),this.lazyLoader.setLimit(this.lazyLoader.getLimit(o.limit,t.readOnly,t.status,C)),this._attr=t,this.caption.updateProps({emptyOptionText:a,formattingAttributeOrExpression:i,customContent:m,customContentType:h,attribute:c,caption:this._attr.displayValue}),this.options._updateProps({ds:o,filterType:d,lazyLoading:C,attributeId:r==="attribute"?i.id:void 0}),this.values.updateProps({valueAttribute:c,emptyValue:f}),!t||t.status==="unavailable"||!o||o.status==="unavailable"||!a||a.status==="unavailable")return this.status="unavailable",this.currentId=null,void(this.clearable=!1);if(t.status==="available"&&!(this.lastSetValue!==null&&Te(this.lastSetValue,t.value)||o.status!=="available"||(this.lastSetValue=this._attr.value,Te(this.values.getEmptyValue(),t.value)))){const k=this.options.getAll().find(S=>Te(t.value,this.values.get(S)));this.currentId=k||null}this.clearable=l,this.status=t.status,this.readOnly=t.readOnly,this.onChangeEvent=u,this.customContentType=h,this.validation=t.validation,this.lazyLoading=C,this.loadingType=P}setValue(e){var t;const o=this.values.get(e);this.lastSetValue=o,(t=this._attr)===null||t===void 0||t.setValue(o),this.currentId=e,pe(this.onChangeEvent)}}class _n{constructor(){this.emptyCaption=""}updateProps(e){this.attr=e.attribute,e.emptyOptionText&&e.emptyOptionText.status!=="unavailable"?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption=""}get(e){var t,o;return e===null?this.emptyCaption:(o=(t=this.attr)===null||t===void 0?void 0:t.formatter.format(e))!==null&&o!==void 0?o:""}render(e){return s.createElement("span",{className:"widget-combobox-caption-text"},this.get(e))}}class Rn extends Pe{constructor(){super(...arguments),this.isBoolean=!1}_updateProps(e){var t,o;e.attribute.status==="unavailable"&&(this.options=[]),this.filterType=e.filterType,this.options=((t=e.attribute.universe)!==null&&t!==void 0?t:[]).map(i=>i.toString()),this.isBoolean=typeof((o=e.attribute.universe)===null||o===void 0?void 0:o[0])=="boolean"}_optionToValue(e){return this.isBoolean?e==="true":e??void 0}_valueToOption(e){var t;return(t=e?.toString())!==null&&t!==void 0?t:null}}class Fn{constructor(){this.status="unavailable",this.type="single",this.validation=void 0,this.isBoolean=!1,this.currentId=null,this.customContentType="no",this.clearable=!0,this.readOnly=!1,this.caption=new _n,this.options=new Rn(this.caption)}updateProps(e){var t,o,i;const[r,a,l,d]=function(u){var m;const h=(m=u.attributeEnumeration)!==null&&m!==void 0?m:u.attributeBoolean,c=u.emptyOptionText,f=u.clearable,C=u.filterType;if(!h)throw new Error("'optionsSourceType' type is 'enumeration' or 'boolean' but 'attributeEnumeration' or 'attributeBoolean' is not defined.");return[h,c,f,C]}(e);if(this._attr=r,this.caption.updateProps({attribute:r,emptyOptionText:a}),this.options._updateProps({attribute:r,filterType:d}),!r||r.status==="unavailable"||!a||a.status==="unavailable")return this.status="unavailable",this.currentId=null,void(this.clearable=!0);this.onChangeEvent=e.onChangeEvent,this.status=r.status,this.isBoolean=typeof((t=r.universe)===null||t===void 0?void 0:t[0])=="boolean",this.clearable=!this.isBoolean&&l,this.currentId=(i=(o=r.value)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:null,this.readOnly=r.readOnly,this.validation=r.validation}setValue(e){var t;(t=this._attr)===null||t===void 0||t.setValue(this.options._optionToValue(e)),pe(this.onChangeEvent)}}class Hn extends Pe{constructor(e,t){super(e),this.valuesMap=t,this.options=[],this.searchTerm="",this.filterType="contains"}get status(){return this.ds?"available":"unavailable"}getAll(){switch(this.filterType){case"contains":return le(this.options,this.searchTerm||"",{keys:[e=>{var t;return(t=this.valuesMap.get(e))===null||t===void 0?void 0:t.staticDataSourceCaption.value}],sorter:e=>e});case"startsWith":return le(this.options,this.searchTerm||"",{threshold:le.rankings.WORD_STARTS_WITH,keys:[e=>{var t;return(t=this.valuesMap.get(e))===null||t===void 0?void 0:t.staticDataSourceCaption.value}],sorter:e=>e});case"none":return le(this.options,this.searchTerm||"",{threshold:le.rankings.NO_MATCH,keys:[e=>{var t;return(t=this.valuesMap.get(e))===null||t===void 0?void 0:t.staticDataSourceCaption.value}],sorter:e=>e})}}_optionToValue(e){var t;if(e!==null)return(t=this.valuesMap.get(e.toString()))===null||t===void 0?void 0:t.staticDataSourceValue.value}_valueToOption(e){var t;return(t=this.options.findIndex(i=>{var r;return((r=this.valuesMap.get(i))===null||r===void 0?void 0:r.staticDataSourceValue)===e}).toString())!==null&&t!==void 0?t:null}_updateProps(e){this.ds=e.ds,this.filterType=e.filterType,this.valuesMap.clear(),this.ds.forEach((t,o)=>this.valuesMap.set(o.toString(),t)),this.options=this.ds.map((t,o)=>o.toString())}}class Kn{constructor(e){this.optionsMap=e,this.unavailableCaption="<...>",this.customContentType="no",this.emptyCaption="",this.overrideCaption=void 0}updateProps(e){e.emptyOptionText&&e.emptyOptionText.status!=="unavailable"?this.emptyCaption=e.emptyOptionText.value:this.emptyCaption="",this.customContent=e.customContent,this.customContentType=e.customContentType,this.attribute=e.attribute,this.overrideCaption=e.caption}get(e){if(e===null)return this.overrideCaption?this.overrideCaption:this.emptyCaption;const t=this.optionsMap.get(e);if(!t)return this.unavailableCaption;const o=t.staticDataSourceCaption;return o.status&&o.status!=="unavailable"&&o.value?o.value:this.unavailableCaption}getCustomContent(e){if(e===null)return null;const t=this.optionsMap.get(e);return t?t.staticDataSourceCustomContent:null}render(e,t,o){var i;const{customContentType:r}=this;return r==="no"||t==="label"&&r==="listItem"||e===null?s.createElement(fe,{htmlFor:o},(i=this.get(e))!==null&&i!==void 0?i:null):s.createElement("div",{className:"widget-combobox-caption-custom"},this.getCustomContent(e))}}class Bn{constructor(){this.type="single",this.attributeType="string",this.selectorType="static",this.status="unavailable",this.clearable=!1,this.currentId=null,this.readOnly=!1,this.customContentType="no",this.validation=void 0,this._objectsMap=new Map,this.caption=new Kn(this._objectsMap),this.options=new Hn(this.caption,this._objectsMap)}updateProps(e){var t,o;const[i,r,a,l,d,u,m]=function(h){const c=h.staticAttribute,f=h.filterType,C=h.onChangeEvent;if(!c)throw new Error("'optionsSourceType' type is 'Database' but 'databaseAttributeString' is not defined.");const P=h.optionsSourceStaticDataSource;if(!P)throw new Error("'optionsSourceType' type is 'database' but 'optionsSourceStaticDataSource' is not defined.");return[c,P,h.emptyOptionText,typeof h.staticAttribute.value!="boolean"&&h.clearable,f,C,h.staticDataSourceCustomContentType]}(e);if(this._attr=i,this.caption.updateProps({emptyOptionText:a,customContentType:m,caption:this._attr.displayValue}),this.options._updateProps({ds:r,filterType:d}),!i||i.status==="unavailable"||!r||r[0].staticDataSourceValue.status==="unavailable"||r[0].staticDataSourceCaption.status==="unavailable"||!a||a.status==="unavailable")return this.status="unavailable",this.currentId=null,void(this.clearable=!1);if(r.length>0&&r[0].staticDataSourceValue.status==="available"){const h=r.findIndex(c=>Te(c.staticDataSourceValue.value,i.value));h!==-1&&(this.currentId=h.toString())}this.clearable=l,this.status=i.status,this.readOnly=i.readOnly,this.onChangeEvent=u,this.customContentType=m,this.validation=i.validation,this.attributeType=typeof((t=i.universe)===null||t===void 0?void 0:t[0])=="boolean"?"boolean":((o=i.formatter)===null||o===void 0?void 0:o.type)==="datetime"?"date":"string"}setValue(e){var t;const o=this._objectsMap.get(e||"");(t=this._attr)===null||t===void 0||t.setValue(o?.staticDataSourceValue.value),this.currentId=e,pe(this.onChangeEvent)}}function zn(n){const e=s.useRef(void 0),[,t]=s.useState({});return e.current||(e.current=function(o){if(o.source==="context"){if(["enumeration","boolean"].includes(o.optionsSourceType))return new Fn;if(o.optionsSourceType==="association")return o.attributeAssociation.type==="Reference"?new Ln:new An;throw new Error("'optionsSourceType' of type '".concat(o.optionsSourceType,"' is not supported"))}if(o.source==="database")return new Nn;if(o.source==="static")return new Bn;throw new Error("Source of type '".concat(o.source,"' is not supported"))}(n),e.current.options.onAfterSearchTermChange(()=>t({}))),e.current.updateProps(n),e.current}var Ve,xt={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/Ve=xt,function(){var n={}.hasOwnProperty;function e(){for(var t=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var r=typeof i;if(r==="string"||r==="number")t.push(i);else if(Array.isArray(i)){if(i.length){var a=e.apply(null,i);a&&t.push(a)}}else if(r==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){t.push(i.toString());continue}for(var l in i)n.call(i,l)&&i[l]&&t.push(l)}}}return t.join(" ")}Ve.exports?(e.default=e,Ve.exports=e):window.classNames=e}();var Z=xt.exports;function De(n){let{size:e=14}=n;return s.createElement("span",{className:"widget-combobox-icon-container"},s.createElement("svg",{width:e,height:e,viewBox:"0 0 32 32",className:"widget-combobox-clear-button-icon"},s.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",fill:"currentColor",d:"M27.71 5.71004L26.29 4.29004L16 14.59L5.71004 4.29004L4.29004 5.71004L14.59 16L4.29004 26.29L5.71004 27.71L16 17.41L26.29 27.71L27.71 26.29L17.41 16L27.71 5.71004Z"})))}function Ct(n){let{isOpen:e}=n;return s.createElement("span",{className:"widget-combobox-icon-container"},s.createElement("svg",{className:Z("widget-combobox-down-arrow-icon","mx-icon-lined","mx-icon-chevron-down",{active:e}),width:"16",height:"16",viewBox:"0 0 32 32"},s.createElement("path",{d:"M16 23.41L4.29004 11.71L5.71004 10.29L16 20.59L26.29 10.29L27.71 11.71L16 23.41Z"})))}function jn(n){let{checked:e,id:t,focusable:o,onClick:i,ariaLabel:r}=n;return s.createElement(s.Fragment,null,s.createElement("span",{className:"widget-combobox-icon-container"},s.createElement("input",{type:"checkbox",tabIndex:o?0:-1,checked:e,id:t,role:"presentation",onClick:i||(a=>{a.preventDefault()}),onChange:()=>{}})),r?s.createElement(fe,{htmlFor:t},r):void 0)}function Un(){return s.createElement("div",{className:"form-control widget-combobox-placeholder"},s.createElement("div",{className:"widget-combobox-placeholder-down-arrow"},s.createElement(Ct,null)))}function Wn(n){return s.createElement("li",{className:"widget-combobox-item widget-combobox-no-options",role:"option"},n.children)}function wt(n){var e;return s.createElement("div",{className:Z("widget-combobox-placeholder-".concat((e=n.type)!==null&&e!==void 0?e:"text"),{"widget-combobox-placeholder-empty":n.isEmpty})},n.children)}function ue(n,e){if(n==null)return{};var t,o,i={},r=Object.keys(n);for(o=0;o<r.length;o++)t=r[o],e.indexOf(t)>=0||(i[t]=n[t]);return i}function H(){return H=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},H.apply(this,arguments)}var Et,Tt,Ot,St,g={exports:{}};g.exports=function(){if(St)return Ot;St=1;var n=Tt?Et:(Tt=1,Et="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function e(){}function t(){}return t.resetWarningCache=e,Ot=function(){function o(a,l,d,u,m,h){if(h!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function i(){return o}o.isRequired=o;var r={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return r.PropTypes=r,r}}()();var kt,B={};(function(){if(kt)return B;kt=1;var n=60103,e=60106,t=60107,o=60108,i=60114,r=60109,a=60110,l=60112,d=60113,u=60120,m=60115,h=60116,c=60121,f=60122,C=60117,P=60129,k=60131;if(typeof Symbol=="function"&&Symbol.for){var S=Symbol.for;n=S("react.element"),e=S("react.portal"),t=S("react.fragment"),o=S("react.strict_mode"),i=S("react.profiler"),r=S("react.provider"),a=S("react.context"),l=S("react.forward_ref"),d=S("react.suspense"),u=S("react.suspense_list"),m=S("react.memo"),h=S("react.lazy"),c=S("react.block"),f=S("react.server.block"),C=S("react.fundamental"),P=S("react.debug_trace_mode"),k=S("react.legacy_hidden")}function L(p){if(typeof p=="object"&&p!==null){var v=p.$$typeof;switch(v){case n:switch(p=p.type){case t:case i:case o:case d:case u:return p;default:switch(p=p&&p.$$typeof){case a:case l:case h:case m:case r:return p;default:return v}}case e:return v}}}var I=r,x=n,y=l,b=t,w=h,E=m,V=e,R=i,F=o,D=d;B.ContextConsumer=a,B.ContextProvider=I,B.Element=x,B.ForwardRef=y,B.Fragment=b,B.Lazy=w,B.Memo=E,B.Portal=V,B.Profiler=R,B.StrictMode=F,B.Suspense=D,B.isAsyncMode=function(){return!1},B.isConcurrentMode=function(){return!1},B.isContextConsumer=function(p){return L(p)===a},B.isContextProvider=function(p){return L(p)===r},B.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===n},B.isForwardRef=function(p){return L(p)===l},B.isFragment=function(p){return L(p)===t},B.isLazy=function(p){return L(p)===h},B.isMemo=function(p){return L(p)===m},B.isPortal=function(p){return L(p)===e},B.isProfiler=function(p){return L(p)===i},B.isStrictMode=function(p){return L(p)===o},B.isSuspense=function(p){return L(p)===d},B.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===t||p===i||p===P||p===o||p===d||p===u||p===k||typeof p=="object"&&p!==null&&(p.$$typeof===h||p.$$typeof===m||p.$$typeof===r||p.$$typeof===a||p.$$typeof===l||p.$$typeof===C||p.$$typeof===c||p[0]===f)},B.typeOf=L})();let Mt=n=>typeof n=="object"&&n!=null&&n.nodeType===1,At=(n,e)=>(!e||n!=="hidden")&&n!=="visible"&&n!=="clip",Ne=(n,e)=>{if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){let t=getComputedStyle(n,null);return At(t.overflowY,e)||At(t.overflowX,e)||(o=>{let i=(r=>{if(!r.ownerDocument||!r.ownerDocument.defaultView)return null;try{return r.ownerDocument.defaultView.frameElement}catch{return null}})(o);return!!i&&(i.clientHeight<o.scrollHeight||i.clientWidth<o.scrollWidth)})(n)}return!1},Oe=(n,e,t,o,i,r,a,l)=>r<n&&a>e||r>n&&a<e?0:r<=n&&l<=t||a>=e&&l>=t?r-n-o:a>e&&l<t||r<n&&l>t?a-e+i:0,$n=n=>{let e=n.parentElement;return e??(n.getRootNode().host||null)};var Se=function(){return Se=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Se.apply(this,arguments)},Yn=0;function Lt(){}function Pt(n,e,t){return n===e||e instanceof t.Node&&n.contains&&n.contains(e)}function Vt(n,e){var t;function o(){t&&clearTimeout(t)}function i(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];o(),t=setTimeout(function(){t=null,n.apply(void 0,a)},e)}return i.cancel=o,i}function G(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(o){for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return e.some(function(l){return l&&l.apply(void 0,[o].concat(r)),o.preventDownshiftDefault||o.hasOwnProperty("nativeEvent")&&o.nativeEvent.preventDownshiftDefault})}}function he(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(o){e.forEach(function(i){typeof i=="function"?i(o):i&&(i.current=o)})}}function ke(n,e){return Object.keys(n).reduce(function(t,o){return t[o]=Dt(e,o)?e[o]:n[o],t},{})}function Dt(n,e){return n[e]!==void 0}function _e(n){var e=n.key,t=n.keyCode;return t>=37&&t<=40&&e.indexOf("Arrow")!==0?"Arrow"+e:e}function Me(n,e,t,o,i){if(i===void 0&&(i=!0),t===0)return-1;var r=t-1;(typeof e!="number"||e<0||e>=t)&&(e=n>0?-1:r+1);var a=e+n;a<0?a=i?r:0:a>r&&(a=i?0:r);var l=ye(n,a,t,o,i);return l===-1?e>=t?-1:e:l}function ye(n,e,t,o,i){var r=o(e);if(!r||!r.hasAttribute("disabled"))return e;if(n>0){for(var a=e+1;a<t;a++)if(!o(a).hasAttribute("disabled"))return a}else for(var l=e-1;l>=0;l--)if(!o(l).hasAttribute("disabled"))return l;return i?n>0?ye(1,0,t,o,!1):ye(-1,t-1,t,o,!1):-1}function Nt(n,e,t,o){return o===void 0&&(o=!0),e.some(function(i){return i&&(Pt(i,n,t)||o&&Pt(i,t.document.activeElement,t))})}var Xn=Vt(function(n){Rt(n).textContent=""},500);function _t(n,e){var t=Rt(e);n&&(t.textContent=n,Xn(e))}function Rt(n){n===void 0&&(n=document);var e=n.getElementById("a11y-status-message");return e||((e=n.createElement("div")).setAttribute("id","a11y-status-message"),e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-relevant","additions text"),Object.assign(e.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),n.body.appendChild(e),e)}var qn=["isInitialMount","highlightedIndex","items","environment"],Ft={highlightedIndex:-1,isOpen:!1,selectedItem:null,inputValue:""};function Qn(n,e,t){var o=n.props,i=n.type,r={};Object.keys(e).forEach(function(a){(function(l,d,u,m){var h=d.props,c=d.type,f="on"+Re(l)+"Change";h[f]&&m[l]!==void 0&&m[l]!==u[l]&&h[f](H({type:c},m))})(a,n,e,t),t[a]!==e[a]&&(r[a]=t[a])}),o.onStateChange&&Object.keys(r).length&&o.onStateChange(H({type:i},r))}var Zn=Vt(function(n,e){_t(n(),e)},200),Gn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?s.useLayoutEffect:s.useEffect;function Jn(n){var e=n.id,t=e===void 0?"downshift-"+String(Yn++):e,o=n.labelId,i=n.menuId,r=n.getItemId,a=n.toggleButtonId,l=n.inputId;return s.useRef({labelId:o||t+"-label",menuId:i||t+"-menu",getItemId:r||function(d){return t+"-item-"+d},toggleButtonId:a||t+"-toggle-button",inputId:l||t+"-input"}).current}function Ht(n,e,t,o){var i,r;if(n===void 0){if(e===void 0)throw new Error(o);i=t[e],r=e}else r=e===void 0?t.indexOf(n):e,i=n;return[i,r]}function Re(n){return""+n.slice(0,1).toUpperCase()+n.slice(1)}function Fe(n){var e=s.useRef(n);return e.current=n,e}function Kt(n,e,t){var o=s.useRef(),i=s.useRef(),r=s.useCallback(function(c,f){i.current=f,c=ke(c,f.props);var C=n(c,f);return f.props.stateReducer(c,H({},f,{changes:C}))},[n]),a=s.useReducer(r,e),l=a[0],d=a[1],u=Fe(t),m=s.useCallback(function(c){return d(H({props:u.current},c))},[u]),h=i.current;return s.useEffect(function(){h&&o.current&&o.current!==l&&Qn(h,ke(o.current,h.props),l),o.current=l},[l,t,h]),[l,m]}var be={itemToString:function(n){return n?String(n):""},stateReducer:function(n,e){return e.changes},getA11ySelectionMessage:function(n){var e=n.selectedItem,t=n.itemToString;return e?t(e)+" has been selected.":""},scrollIntoView:function(n,e){if(n){var t=((o,i)=>{var r,a,l,d,u,m;if(typeof document>"u")return[];let{scrollMode:h,block:c,inline:f,boundary:C,skipOverflowHiddenElements:P}=i,k=typeof C=="function"?C:Y=>Y!==C;if(!Mt(o))throw new TypeError("Invalid target");let S=document.scrollingElement||document.documentElement,L=[],I=o;for(;Mt(I)&&k(I);){if(I=$n(I),I===S){L.push(I);break}I!=null&&I===document.body&&Ne(I)&&!Ne(document.documentElement)||I!=null&&Ne(I,P)&&L.push(I)}let x=(a=(r=window.visualViewport)==null?void 0:r.width)!=null?a:innerWidth,y=(d=(l=window.visualViewport)==null?void 0:l.height)!=null?d:innerHeight,b=(u=window.scrollX)!=null?u:pageXOffset,w=(m=window.scrollY)!=null?m:pageYOffset,{height:E,width:V,top:R,right:F,bottom:D,left:p}=o.getBoundingClientRect(),v=c==="start"||c==="nearest"?R:c==="end"?D:R+E/2,M=f==="center"?p+V/2:f==="end"?F:p,A=[];for(let Y=0;Y<L.length;Y++){let K=L[Y],{height:oe,width:ce,top:de,right:ge,bottom:ve,left:T}=K.getBoundingClientRect();if(h==="if-needed"&&R>=0&&p>=0&&D<=y&&F<=x&&R>=de&&D<=ve&&p>=T&&F<=ge)return A;let N=getComputedStyle(K),O=parseInt(N.borderLeftWidth,10),_=parseInt(N.borderTopWidth,10),z=parseInt(N.borderRightWidth,10),W=parseInt(N.borderBottomWidth,10),j=0,U=0,X="offsetWidth"in K?K.offsetWidth-K.clientWidth-O-z:0,q="offsetHeight"in K?K.offsetHeight-K.clientHeight-_-W:0,ie="offsetWidth"in K?K.offsetWidth===0?0:ce/K.offsetWidth:0,re="offsetHeight"in K?K.offsetHeight===0?0:oe/K.offsetHeight:0;if(S===K)j=c==="start"?v:c==="end"?v-y:c==="nearest"?Oe(w,w+y,y,_,W,w+v,w+v+E,E):v-y/2,U=f==="start"?M:f==="center"?M-x/2:f==="end"?M-x:Oe(b,b+x,x,O,z,b+M,b+M+V,V),j=Math.max(0,j+w),U=Math.max(0,U+b);else{j=c==="start"?v-de-_:c==="end"?v-ve+W+q:c==="nearest"?Oe(de,ve,oe,_,W+q,v,v+E,E):v-(de+oe/2)+q/2,U=f==="start"?M-T-O:f==="center"?M-(T+ce/2)+X/2:f==="end"?M-ge+z+X:Oe(T,ge,ce,O,z+X,M,M+V,V);let{scrollLeft:ee,scrollTop:se}=K;j=Math.max(0,Math.min(se+j/re,K.scrollHeight-oe/re+q)),U=Math.max(0,Math.min(ee+U/ie,K.scrollWidth-ce/ie+X)),v+=se-j,M+=ee-U}A.push({el:K,top:j,left:U})}return A})(n,{boundary:e,block:"nearest",scrollMode:"if-needed"});t.forEach(function(o){var i=o.el,r=o.top,a=o.left;i.scrollTop=r,i.scrollLeft=a})}},environment:typeof window>"u"?{}:window};function ne(n,e,t){t===void 0&&(t=Ft);var o=n["default"+Re(e)];return o!==void 0?o:t[e]}function Ie(n,e,t){t===void 0&&(t=Ft);var o=n[e];if(o!==void 0)return o;var i=n["initial"+Re(e)];return i!==void 0?i:ne(n,e,t)}function xe(n,e,t){var o=n.items,i=n.initialHighlightedIndex,r=n.defaultHighlightedIndex,a=e.selectedItem,l=e.highlightedIndex;return o.length===0?-1:i!==void 0&&l===i?i:r!==void 0?r:a?o.indexOf(a):t===0?-1:t<0?o.length-1:0}var Bt=function(){return Lt};function zt(n,e,t){var o=t.isInitialMount,i=t.highlightedIndex,r=t.items,a=t.environment,l=ue(t,qn);s.useEffect(function(){o||Zn(function(){return n(H({highlightedIndex:i,highlightedItem:r[i],resultCount:r.length},l))},a.document)},e)}var jt=Lt;function Ut(n,e,t){var o;return t===void 0&&(t=!0),H({isOpen:!1,highlightedIndex:-1},((o=n.items)==null?void 0:o.length)&&e>=0&&H({selectedItem:n.items[e],isOpen:ne(n,"isOpen"),highlightedIndex:ne(n,"highlightedIndex")},t&&{inputValue:n.itemToString(n.items[e])}))}g.exports.array.isRequired,g.exports.func,g.exports.func,g.exports.func,g.exports.number,g.exports.number,g.exports.number,g.exports.bool,g.exports.bool,g.exports.bool,g.exports.any,g.exports.any,g.exports.any,g.exports.string,g.exports.string,g.exports.string,g.exports.func,g.exports.string,g.exports.func,g.exports.func,g.exports.func,g.exports.func,g.exports.func,g.exports.shape({addEventListener:g.exports.func,removeEventListener:g.exports.func,document:g.exports.shape({getElementById:g.exports.func,activeElement:g.exports.any,body:g.exports.any})}),Se(Se({},be),{getA11yStatusMessage:function(n){var e=n.isOpen,t=n.resultCount,o=n.previousResultCount;return e?t?t!==o?"".concat(t," result").concat(t===1?" is":"s are"," available, use up and down arrow keys to navigate. Press Enter or Space Bar keys to select."):"":"No results are available.":""}});var He=0,Ke=1,Be=2,ze=3,je=4,Ue=5,We=6,$e=7,Ye=8,Ae=9,Xe=10,Wt=11,$t=12,qe=13,Yt=14,Xt=15,qt=16,Qt=17,Zt=18,Qe=19,Gt=20,Jt=21,Ze=22,en=Object.freeze({__proto__:null,InputKeyDownArrowDown:He,InputKeyDownArrowUp:Ke,InputKeyDownEscape:Be,InputKeyDownHome:ze,InputKeyDownEnd:je,InputKeyDownPageUp:Ue,InputKeyDownPageDown:We,InputKeyDownEnter:$e,InputChange:Ye,InputBlur:Ae,InputFocus:Xe,MenuMouseLeave:Wt,ItemMouseMove:$t,ItemClick:qe,ToggleButtonClick:Yt,FunctionToggleMenu:Xt,FunctionOpenMenu:qt,FunctionCloseMenu:Qt,FunctionSetHighlightedIndex:Zt,FunctionSelectItem:Qe,FunctionSetInputValue:Gt,FunctionReset:Jt,ControlledPropUpdatedSelectedItem:Ze});function eo(n){var e=function(i){var r=Ie(i,"selectedItem"),a=Ie(i,"isOpen"),l=Ie(i,"highlightedIndex"),d=Ie(i,"inputValue");return{highlightedIndex:l<0&&r&&a?i.items.indexOf(r):l,isOpen:a,selectedItem:r,inputValue:d}}(n),t=e.selectedItem,o=e.inputValue;return o===""&&t&&n.defaultInputValue===void 0&&n.initialInputValue===void 0&&n.inputValue===void 0&&(o=n.itemToString(t)),H({},e,{inputValue:o})}g.exports.array.isRequired,g.exports.func,g.exports.func,g.exports.func,g.exports.func,g.exports.number,g.exports.number,g.exports.number,g.exports.bool,g.exports.bool,g.exports.bool,g.exports.any,g.exports.any,g.exports.any,g.exports.string,g.exports.string,g.exports.string,g.exports.string,g.exports.string,g.exports.string,g.exports.func,g.exports.string,g.exports.string,g.exports.func,g.exports.func,g.exports.func,g.exports.func,g.exports.func,g.exports.func,g.exports.shape({addEventListener:g.exports.func,removeEventListener:g.exports.func,document:g.exports.shape({getElementById:g.exports.func,activeElement:g.exports.any,body:g.exports.any})});var to=H({},be,{selectedItemChanged:function(n,e){return n!==e},getA11yStatusMessage:function(n){var e=n.isOpen,t=n.resultCount,o=n.previousResultCount;return e?t?t!==o?t+" result"+(t===1?" is":"s are")+" available, use up and down arrow keys to navigate. Press Enter key to select.":"":"No results are available.":""}});function no(n,e){var t,o,i=e.type,r=e.props,a=e.altKey;switch(i){case qe:o={isOpen:ne(r,"isOpen"),highlightedIndex:ne(r,"highlightedIndex"),selectedItem:r.items[e.index],inputValue:r.itemToString(r.items[e.index])};break;case He:o=n.isOpen?{highlightedIndex:Me(1,n.highlightedIndex,r.items.length,e.getItemNodeFromIndex,!0)}:{highlightedIndex:a&&n.selectedItem==null?-1:xe(r,n,1,e.getItemNodeFromIndex),isOpen:r.items.length>=0};break;case Ke:o=n.isOpen?a?Ut(r,n.highlightedIndex):{highlightedIndex:Me(-1,n.highlightedIndex,r.items.length,e.getItemNodeFromIndex,!0)}:{highlightedIndex:xe(r,n,-1,e.getItemNodeFromIndex),isOpen:r.items.length>=0};break;case $e:o=Ut(r,n.highlightedIndex);break;case Be:o=H({isOpen:!1,highlightedIndex:-1},!n.isOpen&&{selectedItem:null,inputValue:""});break;case Ue:o={highlightedIndex:Me(-10,n.highlightedIndex,r.items.length,e.getItemNodeFromIndex,!1)};break;case We:o={highlightedIndex:Me(10,n.highlightedIndex,r.items.length,e.getItemNodeFromIndex,!1)};break;case ze:o={highlightedIndex:ye(1,0,r.items.length,e.getItemNodeFromIndex,!1)};break;case je:o={highlightedIndex:ye(-1,r.items.length-1,r.items.length,e.getItemNodeFromIndex,!1)};break;case Ae:o=H({isOpen:!1,highlightedIndex:-1},n.highlightedIndex>=0&&((t=r.items)==null?void 0:t.length)&&e.selectItem&&{selectedItem:r.items[n.highlightedIndex],inputValue:r.itemToString(r.items[n.highlightedIndex])});break;case Ye:o={isOpen:!0,highlightedIndex:ne(r,"highlightedIndex"),inputValue:e.inputValue};break;case Xe:o={isOpen:!0,highlightedIndex:xe(r,n,0)};break;case Qe:o={selectedItem:e.selectedItem,inputValue:r.itemToString(e.selectedItem)};break;case Ze:o={inputValue:e.inputValue};break;default:return function(l,d,u){var m,h=d.type,c=d.props;switch(h){case u.ItemMouseMove:m={highlightedIndex:d.disabled?-1:d.index};break;case u.MenuMouseLeave:m={highlightedIndex:-1};break;case u.ToggleButtonClick:case u.FunctionToggleMenu:m={isOpen:!l.isOpen,highlightedIndex:l.isOpen?-1:xe(c,l,0)};break;case u.FunctionOpenMenu:m={isOpen:!0,highlightedIndex:xe(c,l,0)};break;case u.FunctionCloseMenu:m={isOpen:!1};break;case u.FunctionSetHighlightedIndex:m={highlightedIndex:d.highlightedIndex};break;case u.FunctionSetInputValue:m={inputValue:d.inputValue};break;case u.FunctionReset:m={highlightedIndex:ne(c,"highlightedIndex"),isOpen:ne(c,"isOpen"),selectedItem:ne(c,"selectedItem"),inputValue:ne(c,"inputValue")};break;default:throw new Error("Reducer called without proper action type.")}return H({},l,m)}(n,e,en)}return H({},n,o)}var oo=["onMouseLeave","refKey","ref"],io=["item","index","refKey","ref","onMouseMove","onMouseDown","onClick","onPress","disabled"],ro=["onClick","onPress","refKey","ref"],so=["onKeyDown","onChange","onInput","onFocus","onBlur","onChangeText","refKey","ref"];function $(n){n===void 0&&(n={});var e=H({},to,n),t=e.initialIsOpen,o=e.defaultIsOpen,i=e.items,r=e.scrollIntoView,a=e.environment,l=e.getA11yStatusMessage,d=e.getA11ySelectionMessage,u=e.itemToString,m=function(T,N,O){var _=s.useRef(),z=Kt(T,N,O),W=z[0],j=z[1];return s.useEffect(function(){Dt(O,"selectedItem")&&(O.selectedItemChanged(_.current,O.selectedItem)&&j({type:Ze,inputValue:O.itemToString(O.selectedItem)}),_.current=W.selectedItem===_.current?O.selectedItem:W.selectedItem)},[W.selectedItem,O.selectedItem]),[ke(W,O),j]}(no,eo(e),e),h=m[0],c=m[1],f=h.isOpen,C=h.highlightedIndex,P=h.selectedItem,k=h.inputValue,S=s.useRef(null),L=s.useRef({}),I=s.useRef(null),x=s.useRef(null),y=s.useRef(!0),b=Jn(e),w=s.useRef(),E=Fe({state:h,props:e}),V=s.useCallback(function(T){return L.current[b.getItemId(T)]},[b]);zt(l,[f,C,k,i],H({isInitialMount:y.current,previousResultCount:w.current,items:i,environment:a,itemToString:u},h)),zt(d,[P],H({isInitialMount:y.current,previousResultCount:w.current,items:i,environment:a,itemToString:u},h));var R=function(T){var N=T.highlightedIndex,O=T.isOpen,_=T.itemRefs,z=T.getItemNodeFromIndex,W=T.menuElement,j=T.scrollIntoView,U=s.useRef(!0);return Gn(function(){N<0||!O||!Object.keys(_.current).length||(U.current===!1?U.current=!0:j(z(N),W))},[N]),U}({menuElement:S.current,highlightedIndex:C,isOpen:f,itemRefs:L,scrollIntoView:r,getItemNodeFromIndex:V});jt({isInitialMount:y.current,props:e,state:h}),s.useEffect(function(){(t||o||f)&&I.current&&I.current.focus()},[]),s.useEffect(function(){y.current||(w.current=i.length)});var F=function(T,N,O,_){var z=s.useRef({isMouseDown:!1,isTouchMove:!1});return s.useEffect(function(){if(O?.addEventListener!=null){var W=function(){z.current.isMouseDown=!0},j=function(ie){z.current.isMouseDown=!1,T&&!Nt(ie.target,N.map(function(re){return re.current}),O)&&_()},U=function(){z.current.isTouchMove=!1},X=function(){z.current.isTouchMove=!0},q=function(ie){!T||z.current.isTouchMove||Nt(ie.target,N.map(function(re){return re.current}),O,!1)||_()};return O.addEventListener("mousedown",W),O.addEventListener("mouseup",j),O.addEventListener("touchstart",U),O.addEventListener("touchmove",X),O.addEventListener("touchend",q),function(){O.removeEventListener("mousedown",W),O.removeEventListener("mouseup",j),O.removeEventListener("touchstart",U),O.removeEventListener("touchmove",X),O.removeEventListener("touchend",q)}}},[T,O]),z}(f,[I,S,x],a,function(){c({type:Ae,selectItem:!1})}),D=Bt();s.useEffect(function(){return y.current=!1,function(){y.current=!0}},[]),s.useEffect(function(){var T;if(f){if(((T=a.document)==null?void 0:T.activeElement)!==I.current){var N;I==null||(N=I.current)==null||N.focus()}}else L.current={}},[f,a]);var p=s.useMemo(function(){return{ArrowDown:function(T){T.preventDefault(),c({type:He,altKey:T.altKey,getItemNodeFromIndex:V})},ArrowUp:function(T){T.preventDefault(),c({type:Ke,altKey:T.altKey,getItemNodeFromIndex:V})},Home:function(T){E.current.state.isOpen&&(T.preventDefault(),c({type:ze,getItemNodeFromIndex:V}))},End:function(T){E.current.state.isOpen&&(T.preventDefault(),c({type:je,getItemNodeFromIndex:V}))},Escape:function(T){var N=E.current.state;(N.isOpen||N.inputValue||N.selectedItem||N.highlightedIndex>-1)&&(T.preventDefault(),c({type:Be}))},Enter:function(T){E.current.state.isOpen&&T.which!==229&&(T.preventDefault(),c({type:$e,getItemNodeFromIndex:V}))},PageUp:function(T){E.current.state.isOpen&&(T.preventDefault(),c({type:Ue,getItemNodeFromIndex:V}))},PageDown:function(T){E.current.state.isOpen&&(T.preventDefault(),c({type:We,getItemNodeFromIndex:V}))}}},[c,E,V]),v=s.useCallback(function(T){return H({id:b.labelId,htmlFor:b.inputId},T)},[b]),M=s.useCallback(function(T,N){var O,_=T===void 0?{}:T,z=_.onMouseLeave,W=_.refKey,j=W===void 0?"ref":W,U=_.ref,X=ue(_,oo);return(N===void 0?{}:N).suppressRefError,H(((O={})[j]=he(U,function(q){S.current=q}),O.id=b.menuId,O.role="listbox",O["aria-labelledby"]=X&&X["aria-label"]?void 0:""+b.labelId,O.onMouseLeave=G(z,function(){c({type:Wt})}),O),X)},[c,D,b]),A=s.useCallback(function(T){var N,O,_=T===void 0?{}:T,z=_.item,W=_.index,j=_.refKey,U=j===void 0?"ref":j,X=_.ref,q=_.onMouseMove,ie=_.onMouseDown,re=_.onClick;_.onPress;var ee=_.disabled,se=ue(_,io),ae=E.current,Ce=ae.props,te=ae.state,J=Ht(z,W,Ce.items,"Pass either item or index to getItemProps!")[1],gn=re;return H(((N={})[U]=he(X,function(we){we&&(L.current[b.getItemId(J)]=we)}),N.disabled=ee,N.role="option",N["aria-selected"]=""+(J===te.highlightedIndex),N.id=b.getItemId(J),N),!ee&&((O={}).onClick=G(gn,function(){c({type:qe,index:J})}),O),{onMouseMove:G(q,function(){J!==te.highlightedIndex&&(R.current=!1,c({type:$t,index:J,disabled:ee}))}),onMouseDown:G(ie,function(we){return we.preventDefault()})},se)},[c,E,R,b]),Y=s.useCallback(function(T){var N,O=T===void 0?{}:T,_=O.onClick;O.onPress;var z=O.refKey,W=z===void 0?"ref":z,j=O.ref,U=ue(O,ro),X=E.current.state;return H(((N={})[W]=he(j,function(q){x.current=q}),N["aria-controls"]=b.menuId,N["aria-expanded"]=X.isOpen,N.id=b.toggleButtonId,N.tabIndex=-1,N),!U.disabled&&H({},{onClick:G(_,function(){c({type:Yt})})}),U)},[c,E,b]),K=s.useCallback(function(T,N){var O,_=T===void 0?{}:T,z=_.onKeyDown,W=_.onChange,j=_.onInput,U=_.onFocus,X=_.onBlur;_.onChangeText;var q=_.refKey,ie=q===void 0?"ref":q,re=_.ref,ee=ue(_,so);(N===void 0?{}:N).suppressRefError;var se,ae=E.current.state,Ce={};return ee.disabled||((se={}).onChange=G(W,j,function(te){c({type:Ye,inputValue:te.target.value})}),se.onKeyDown=G(z,function(te){var J=_e(te);J&&p[J]&&p[J](te)}),se.onBlur=G(X,function(te){if(ae.isOpen&&!F.current.isMouseDown){var J=te.relatedTarget===null&&a.document.activeElement!==a.document.body;c({type:Ae,selectItem:!J})}}),se.onFocus=G(U,function(){ae.isOpen||c({type:Xe})}),Ce=se),H(((O={})[ie]=he(re,function(te){I.current=te}),O["aria-activedescendant"]=ae.isOpen&&ae.highlightedIndex>-1?b.getItemId(ae.highlightedIndex):"",O["aria-autocomplete"]="list",O["aria-controls"]=b.menuId,O["aria-expanded"]=ae.isOpen,O["aria-labelledby"]=ee&&ee["aria-label"]?void 0:""+b.labelId,O.autoComplete="off",O.id=b.inputId,O.role="combobox",O.value=ae.inputValue,O),Ce,ee)},[D,E,b,p,c,F,a]),oe=s.useCallback(function(){c({type:Xt})},[c]),ce=s.useCallback(function(){c({type:Qt})},[c]),de=s.useCallback(function(){c({type:qt})},[c]),ge=s.useCallback(function(T){c({type:Zt,highlightedIndex:T})},[c]),ve=s.useCallback(function(T){c({type:Qe,selectedItem:T})},[c]);return{getItemProps:A,getLabelProps:v,getMenuProps:M,getInputProps:K,getToggleButtonProps:Y,toggleMenu:oe,openMenu:de,closeMenu:ce,setHighlightedIndex:ge,setInputValue:s.useCallback(function(T){c({type:Gt,inputValue:T})},[c]),selectItem:ve,reset:s.useCallback(function(){c({type:Jt})},[c]),highlightedIndex:C,isOpen:f,selectedItem:P,inputValue:k}}$.stateChangeTypes=en;var tn={activeIndex:-1,selectedItems:[]};function nn(n,e){return Ie(n,e,tn)}function on(n,e){return ne(n,e,tn)}function rn(n){if(n.shiftKey||n.metaKey||n.ctrlKey||n.altKey)return!1;var e=n.target;return!(e instanceof HTMLInputElement&&e.value!=="")||e.selectionStart===0&&e.selectionEnd===0}g.exports.array,g.exports.array,g.exports.array,g.exports.func,g.exports.func,g.exports.func,g.exports.number,g.exports.number,g.exports.number,g.exports.func,g.exports.func,g.exports.string,g.exports.string,g.exports.shape({addEventListener:g.exports.func,removeEventListener:g.exports.func,document:g.exports.shape({getElementById:g.exports.func,activeElement:g.exports.any,body:g.exports.any})});var ao={itemToString:be.itemToString,stateReducer:be.stateReducer,environment:be.environment,getA11yRemovalMessage:function(n){var e=n.removedSelectedItem;return(0,n.itemToString)(e)+" has been removed."},keyNavigationNext:"ArrowRight",keyNavigationPrevious:"ArrowLeft"},Ge=0,Je=1,et=2,tt=3,nt=4,ot=5,it=6,rt=7,st=8,at=9,lt=10,ut=11,ct=12,lo=Object.freeze({__proto__:null,SelectedItemClick:Ge,SelectedItemKeyDownDelete:Je,SelectedItemKeyDownBackspace:et,SelectedItemKeyDownNavigationNext:tt,SelectedItemKeyDownNavigationPrevious:nt,DropdownKeyDownNavigationPrevious:ot,DropdownKeyDownBackspace:it,DropdownClick:rt,FunctionAddSelectedItem:st,FunctionRemoveSelectedItem:at,FunctionSetSelectedItems:lt,FunctionSetActiveIndex:ut,FunctionReset:ct});function uo(n,e){var t,o=e.type,i=e.index,r=e.props,a=e.selectedItem,l=n.activeIndex,d=n.selectedItems;switch(o){case Ge:t={activeIndex:i};break;case nt:t={activeIndex:l-1<0?0:l-1};break;case tt:t={activeIndex:l+1>=d.length?-1:l+1};break;case et:case Je:if(l<0)break;var u=l;d.length===1?u=-1:l===d.length-1&&(u=d.length-2),t=H({selectedItems:[].concat(d.slice(0,l),d.slice(l+1))},{activeIndex:u});break;case ot:t={activeIndex:d.length-1};break;case it:t={selectedItems:d.slice(0,d.length-1)};break;case st:t={selectedItems:[].concat(d,[a])};break;case rt:t={activeIndex:-1};break;case at:var m=l,h=d.indexOf(a);if(h<0)break;d.length===1?m=-1:h===d.length-1&&(m=d.length-2),t={selectedItems:[].concat(d.slice(0,h),d.slice(h+1)),activeIndex:m};break;case lt:t={selectedItems:e.selectedItems};break;case ut:t={activeIndex:e.activeIndex};break;case ct:t={activeIndex:on(r,"activeIndex"),selectedItems:on(r,"selectedItems")};break;default:throw new Error("Reducer called without proper action type.")}return H({},n,t)}var co=["refKey","ref","onClick","onKeyDown","selectedItem","index"],po=["refKey","ref","onKeyDown","onClick","preventKeyAction"];function me(n){n===void 0&&(n={});var e=H({},ao,n),t=e.getA11yRemovalMessage,o=e.itemToString,i=e.environment,r=e.keyNavigationNext,a=e.keyNavigationPrevious,l=function(x,y,b){var w=Kt(x,y,b),E=w[0],V=w[1];return[ke(E,b),V]}(uo,function(x){return{activeIndex:nn(x,"activeIndex"),selectedItems:nn(x,"selectedItems")}}(e),e),d=l[0],u=l[1],m=d.activeIndex,h=d.selectedItems,c=s.useRef(!0),f=s.useRef(null),C=s.useRef(h),P=s.useRef();P.current=[];var k=Fe({state:d,props:e});s.useEffect(function(){if(!c.current){if(h.length<C.current.length){var x=C.current.find(function(y){return h.indexOf(y)<0});_t(t({itemToString:o,resultCount:h.length,removedSelectedItem:x,activeIndex:m,activeSelectedItem:h[m]}),i.document)}C.current=h}},[h.length]),s.useEffect(function(){c.current||(m===-1&&f.current?f.current.focus():P.current[m]&&P.current[m].focus())},[m]),jt({isInitialMount:c.current,props:e,state:d});var S=Bt();s.useEffect(function(){return c.current=!1,function(){c.current=!0}},[]);var L=s.useMemo(function(){var x;return(x={})[a]=function(){u({type:nt})},x[r]=function(){u({type:tt})},x.Delete=function(){u({type:Je})},x.Backspace=function(){u({type:et})},x},[u,r,a]),I=s.useMemo(function(){var x;return(x={})[a]=function(y){rn(y)&&u({type:ot})},x.Backspace=function(y){rn(y)&&u({type:it})},x},[u,a]);return{getSelectedItemProps:s.useCallback(function(x){var y,b=x===void 0?{}:x,w=b.refKey,E=w===void 0?"ref":w,V=b.ref,R=b.onClick,F=b.onKeyDown,D=b.selectedItem,p=b.index,v=ue(b,co),M=k.current.state,A=Ht(D,p,M.selectedItems,"Pass either item or index to getSelectedItemProps!")[1],Y=A>-1&&A===M.activeIndex;return H(((y={})[E]=he(V,function(K){K&&P.current.push(K)}),y.tabIndex=Y?0:-1,y.onClick=G(R,function(){u({type:Ge,index:A})}),y.onKeyDown=G(F,function(K){var oe=_e(K);oe&&L[oe]&&L[oe](K)}),y),v)},[u,k,L]),getDropdownProps:s.useCallback(function(x,y){var b,w=x===void 0?{}:x,E=w.refKey,V=E===void 0?"ref":E,R=w.ref,F=w.onKeyDown,D=w.onClick,p=w.preventKeyAction,v=p!==void 0&&p,M=ue(w,po);return(y===void 0?{}:y).suppressRefError,H(((b={})[V]=he(R,function(A){A&&(f.current=A)}),b),!v&&{onKeyDown:G(F,function(A){var Y=_e(A);Y&&I[Y]&&I[Y](A)}),onClick:G(D,function(){u({type:rt})})},M)},[u,I,S]),addSelectedItem:s.useCallback(function(x){u({type:st,selectedItem:x})},[u]),removeSelectedItem:s.useCallback(function(x){u({type:at,selectedItem:x})},[u]),setSelectedItems:s.useCallback(function(x){u({type:lt,selectedItems:x})},[u]),setActiveIndex:s.useCallback(function(x){u({type:ut,activeIndex:x})},[u]),reset:s.useCallback(function(){u({type:ct})},[u]),selectedItems:h,activeIndex:m}}function ho(n,e,t){var o;const{getSelectedItemProps:i,getDropdownProps:r,removeSelectedItem:a,setActiveIndex:l,selectedItems:d,setSelectedItems:u,activeIndex:m,addSelectedItem:h}=me({selectedItems:(o=n.currentId)!==null&&o!==void 0?o:[],itemToString:w=>n.caption.get(w),getA11yRemovalMessage:w=>"".concat(w.itemToString(w.removedSelectedItem)," has been removed."),onSelectedItemsChange(w){let{selectedItems:E}=w;n.setValue(E??[])},onStateChange(w){let{selectedItems:E,type:V}=w;switch(V){case me.stateChangeTypes.SelectedItemKeyDownBackspace:case me.stateChangeTypes.SelectedItemKeyDownDelete:case me.stateChangeTypes.DropdownKeyDownBackspace:case me.stateChangeTypes.FunctionRemoveSelectedItem:u(E)}}}),c=n.getOptions(),{isOpen:f,reset:C,getToggleButtonProps:P,getMenuProps:k,getInputProps:S,highlightedIndex:L,getItemProps:I,inputValue:x,setInputValue:y,closeMenu:b}=$(function(w,E,V,R,F,D,p){return s.useMemo(()=>({items:V,selectedItem:null,inputId:p?.inputId,labelId:p?.labelId,onInputValueChange(v){let{inputValue:M}=v;w.options.setSearchTerm(M)},getA11yStatusMessage(v){let M=E.length>0?"".concat(D.a11ySelectedValue," ").concat(E.map(A=>w.caption.get(A)).join(","),". "):"";return v.resultCount?(v.isOpen&&(v.previousResultCount===v.resultCount&&v.highlightedItem||(M+="".concat(D.a11yOptionsAvailable," ").concat(v.resultCount,". ").concat(D.a11yInstructions))),M):D.a11yNoOption},itemToString:v=>w.caption.get(v),stateReducer(v,M){const{changes:A,type:Y}=M;switch(Y){case $.stateChangeTypes.ControlledPropUpdatedSelectedItem:return{...A,inputValue:v.inputValue};case $.stateChangeTypes.InputFocus:return{...A,isOpen:v.isOpen};case $.stateChangeTypes.InputKeyDownEnter:case $.stateChangeTypes.ItemClick:return{...A,...A.selectedItem&&{isOpen:!0,inputValue:"",highlightedIndex:V.indexOf(A.selectedItem)}};case $.stateChangeTypes.InputKeyDownEscape:case $.stateChangeTypes.FunctionCloseMenu:return{...A,...A.selectedItem&&{isOpen:!1,inputValue:"",highlightedIndex:V.indexOf(A.selectedItem)}};case $.stateChangeTypes.InputBlur:return{...v,highlightedIndex:-1};default:return A}},onStateChange(v){let{type:M,selectedItem:A}=v;switch(M){case $.stateChangeTypes.InputKeyDownEnter:case $.stateChangeTypes.ItemClick:A&&!E.includes(A)?F([...E,A]):A&&R(A)}}}),[w,E,V,w.currentId,R,F,D.a11ySelectedValue,D.a11yOptionsAvailable,D.a11yNoOption,D.a11yInstructions])}(n,d,c,a,u,t,e));return n.onLeaveEvent=s.useCallback(b,[b]),{isOpen:f,reset:C,getToggleButtonProps:P,getMenuProps:k,getInputProps:S,highlightedIndex:L,getItemProps:I,inputValue:x,setInputValue:y,getSelectedItemProps:i,getDropdownProps:r,removeSelectedItem:a,setActiveIndex:l,selectedItems:d,items:c,setSelectedItems:u,activeIndex:m,addSelectedItem:h,toggleSelectedItem:w=>{const E=c[w];E&&(d.includes(E)?(a(E),y("")):(h(E),y("")))}}}function mo(n){var e,t;const[o,i]=s.useState(!1),r=(t=(e=s.useRef()).current)!==null&&t!==void 0?t:e.current=function(a){let{setIsIntersecting:l}=a;return new IntersectionObserver(d=>{let[u]=d;l(u.isIntersecting)})}({setIsIntersecting:i});return s.useEffect(()=>(n.current&&r.observe(n.current),()=>{r.disconnect()}),[r,n]),o}me.stateChangeTypes=lo;const sn=30;function an(n){const{hasMoreItems:e,isInfinite:t,isOpen:o,loadMore:i}=n,[r,a]=s.useState(!1),l=s.useCallback(()=>{i&&i()},[i]),[d]=function(u){const{setPage:m,hasMoreItems:h,isInfinite:c}=u,[f,C]=s.useState(0),P=s.useRef(null),k=mo(P),S=s.useCallback(I=>{Math.floor(I.target.scrollHeight-sn-I.target.scrollTop)<=Math.floor(I.target.clientHeight)+2&&h&&m&&m(x=>x+1)},[h,m]),L=s.useCallback(()=>{k&&c&&h&&f<=0&&P.current&&C(P.current.clientHeight-sn)},[c,h,f,k]);return s.useLayoutEffect(()=>{setTimeout(()=>L(),100)},[L]),[S,f,P]}({hasMoreItems:e,isInfinite:t,setPage:l});return s.useEffect(()=>{r===!1&&t===!0&&o===!0&&(a(!0),l())},[r,t,o,l]),{onScroll:d}}const go=n=>{let{className:e,children:t}=n;return s.createElement(ln,{className:Z("mx-validation-message",e),bootstrapStyle:"danger",role:"alert"},t)},ln=n=>{let{className:e,bootstrapStyle:t,children:o,role:i}=n;return s.Children.count(o)>0?s.createElement("div",{className:Z("alert alert-".concat(t),e),role:i},o):null};function un(n){let{size:e="medium",withMargins:t=!1}=n;return s.createElement("div",{className:Z("widget-combobox-spinner",{"widget-combobox-spinner-margin":t})},s.createElement("div",{className:Z("widget-combobox-spinner-loader",{"widget-combobox-spinner-loader-small":e==="small"})}))}ln.displayName="Alert";const cn=s.forwardRef((n,e)=>{const{isOpen:t,readOnly:o,readOnlyStyle:i,getToggleButtonProps:r,validation:a,children:l,isLoading:d}=n,{id:u,onClick:m}=r();return s.createElement(s.Fragment,null,s.createElement("div",{ref:e,tabIndex:-1,className:Z("widget-combobox-input-container",{"widget-combobox-input-container-active":t,"widget-combobox-input-container-disabled":o,"form-control-static":o&&i==="text","form-control":!o||i!=="text"}),id:u,onClick:m},l,o&&i==="text"?null:s.createElement("div",{className:"widget-combobox-down-arrow"},d?s.createElement(un,{size:"small"}):s.createElement(Ct,{isOpen:t}))),a&&s.createElement(go,null,a))});function vo(n,e){const[t,o]=s.useState(),i=s.useCallback(()=>{o(a=>{const l=n?.getBoundingClientRect();return u=l,(d=a)&&u&&d.height===u.height&&d.width===u.width&&d.bottom===u.bottom&&d.top===u.top&&d.left===u.left&&d.right===u.right?a:l;var d,u})},[n]);var r;return s.useEffect(()=>r?function(a){let l;const d=()=>{l=window.requestAnimationFrame(()=>{a(),d()})},u=()=>window.cancelAnimationFrame(l);return d(),u}(r):void 0,[r=e?i:void 0]),t}const fo=(n,e)=>{let t=null;const o=()=>{t!==null&&(clearTimeout(t),t=null)};return[function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];o(),t=setTimeout(()=>n(...r),e)},o]};function yo(n,e){const{height:t}=e,o=window.innerHeight-n.bottom,i=n.top-t<0?n.top-t:0;return o<t?{bottom:window.innerHeight-n.top+i,left:n.left}:{top:n.bottom,left:n.left}}function dn(n){n.stopPropagation()}function bo(n){n.preventDefault(),n.stopPropagation()}function pn(n){const{alwaysOpen:e,children:t,getMenuProps:o,highlightedIndex:i,isEmpty:r,isLoading:a,isOpen:l,lazyLoading:d,loader:u,menuFooterContent:m,menuHeaderContent:h,noOptionsText:c,onOptionClick:f,onScroll:C}=n,[P,k]=function(S){var L,I,x,y;const b=s.useRef(null),[w,E]=s.useState({visibility:"hidden",position:"fixed"}),[V,R]=s.useMemo(()=>fo(E,32),[E]),F=(I=(L=b.current)===null||L===void 0?void 0:L.offsetHeight)!==null&&I!==void 0?I:0,D=vo((y=(x=b.current)===null||x===void 0?void 0:x.parentElement)!==null&&y!==void 0?y:null,S);return s.useEffect(()=>{if(D!==void 0&&b.current!==null&&S)return V({visibility:"visible",position:"fixed",width:D.width,...yo(D,b.current.getBoundingClientRect())}),R},[F,S,D,V,R]),[b,w]}(l);return s.createElement("div",{ref:P,className:Z("widget-combobox-menu",{"widget-combobox-menu-hidden":!l}),style:e?{display:"block",visibility:"visible",position:"relative"}:k},h&&s.createElement("div",{className:"widget-combobox-menu-header widget-combobox-item",onMouseDown:dn,tabIndex:0},h),s.createElement("ul",{className:Z("widget-combobox-menu-list",{"widget-combobox-menu-highlighted":(i??-1)>=0,"widget-combobox-menu-lazy-scroll":d&&!r}),...o?.({onClick:f,onMouseDown:bo,onScroll:C},{suppressRefError:!0})},l?r&&!a?s.createElement(Wn,null,c):t:null,u),m&&s.createElement("div",{tabIndex:0,className:"widget-combobox-menu-footer",onMouseDown:dn},m))}function hn(n){const{children:e,isSelected:t,isHighlighted:o,item:i,getItemProps:r,index:a}=n;return s.createElement("li",{className:Z("widget-combobox-item",{"widget-combobox-item-selected":t,"widget-combobox-item-highlighted":o}),...r?.({index:a,item:i}),"aria-selected":t},e)}function Io(n){let{withCheckbox:e=!1}=n;return s.createElement("div",{className:"widget-combobox-skeleton"},e&&s.createElement("span",{className:"widget-combobox-skeleton-loader widget-combobox-skeleton-loader-small"}),s.createElement("span",{className:"widget-combobox-skeleton-loader"}))}function mn(n){const{isEmpty:e,isLoading:t,isOpen:o,lazyLoading:i,loadingType:r,withCheckbox:a}=n;return o&&i&&t?r==="skeleton"?s.createElement(s.Fragment,null,Array.from({length:yt}).map((l,d)=>s.createElement(Io,{withCheckbox:a,key:d}))):s.createElement(un,{withMargins:e}):null}function xo(n){let{isOpen:e,getMenuProps:t,getItemProps:o,highlightedIndex:i,selector:r,selectableItems:a,noOptionsText:l,inputId:d,menuHeaderContent:u,menuFooterContent:m,onOptionClick:h,isLoading:c,lazyLoading:f,onScroll:C}=n;return s.createElement(pn,{getMenuProps:t,highlightedIndex:i,isEmpty:a.length<=0,isLoading:c,isOpen:e,lazyLoading:f,loader:s.createElement(mn,{isEmpty:a.length===0,isLoading:c,isOpen:e,lazyLoading:f,loadingType:r.loadingType,withCheckbox:r.selectionMethod==="checkbox"}),menuFooterContent:m,menuHeaderContent:u,noOptionsText:l,onOptionClick:h,onScroll:f?C:void 0},e&&a.map((P,k)=>{var S;const L=i===k,I=(S=r.currentId)===null||S===void 0?void 0:S.includes(P);return s.createElement(hn,{key:P,isHighlighted:L,isSelected:I,item:P,getItemProps:o,index:k},r.selectionMethod==="checkbox"&&s.createElement(jn,{checked:I,id:"".concat(d,"_").concat(P)}),r.caption.render(P,"options","".concat(d,"_").concat(P)))}))}function Co(n){let{id:e,value:t,onChange:o}=n;const i=s.useRef(null);return s.useEffect(()=>{i.current&&(t==="all"||t==="none"?i.current.indeterminate=!1:t==="some"&&(i.current.indeterminate=!0))},[t]),s.createElement("input",{id:e,type:"checkbox",className:"three-state-checkbox",ref:i,checked:t!=="none",onChange:o})}function wo(n){let{id:e,ariaLabel:t,value:o,onChange:i}=n;return s.createElement(s.Fragment,null,s.createElement("span",{className:Z("widget-combobox-menu-header-select-all-button","widget-combobox-icon-container")},s.createElement(Co,{value:o,id:e,onChange:i})),t?s.createElement(fe,{onClick:()=>{},htmlFor:e},t):void 0)}function Eo(n){let{selector:e,tabIndex:t,a11yConfig:o,menuFooterContent:i,...r}=n;var a,l,d;const{isOpen:u,getToggleButtonProps:m,getMenuProps:h,getInputProps:c,highlightedIndex:f,getItemProps:C,getSelectedItemProps:P,getDropdownProps:k,removeSelectedItem:S,setActiveIndex:L,selectedItems:I,items:x,setSelectedItems:y,toggleSelectedItem:b}=ho(e,r,o.a11yStatusMessage),w=s.useRef(null),E=e.selectedItemsStyle==="boxes",V=e.isOptionsSelected(),R=s.useMemo(()=>function(p,v){if(v.length===0)return p.caption.emptyCaption;if(p.selectedItemsStyle!=="text"||p.customContentType==="yes"||p.selectionMethod==="rowclick")return"";const M=v.map(A=>p.caption.get(A)).sort();return(p.options.sortOrder==="desc"?M.reverse():M).join(", ")}(e,I),[e,I]),F=(a=e.lazyLoading)!==null&&a!==void 0&&a,{onScroll:D}=an({hasMoreItems:(l=e.options.hasMore)!==null&&l!==void 0&&l,isInfinite:F,isOpen:u,loadMore:()=>{e.options.loadMore&&e.options.loadMore()}});return s.createElement(s.Fragment,null,s.createElement(cn,{isOpen:u,readOnly:e.readOnly,readOnlyStyle:r.readOnlyStyle,getToggleButtonProps:m,validation:e.validation,isLoading:F&&e.options.isLoading},s.createElement("div",{className:Z("widget-combobox-selected-items","widget-combobox-".concat(e.selectedItemsStyle))},E&&I.map((p,v)=>{var M;return s.createElement("div",{className:"widget-combobox-selected-item",key:p,...P({selectedItem:p,index:v})},e.caption.render(p,"label"),!e.readOnly&&s.createElement("span",{className:"icon widget-combobox-clear-button","aria-label":(M=o.ariaLabels)===null||M===void 0?void 0:M.removeSelection,role:"button",onClick:A=>{A.stopPropagation(),S(p)}},s.createElement(De,{size:10})))}),s.createElement("input",{className:Z("widget-combobox-input",{"widget-combobox-input-nofilter":e.options.filterType==="none"}),tabIndex:t,placeholder:" ",...c({...k({preventKeyAction:u},{suppressRefError:!0}),ref:w,onKeyDown:p=>{var v,M;(p.key==="Backspace"&&((v=w.current)===null||v===void 0?void 0:v.selectionStart)===0||p.key==="ArrowLeft"&&E&&((M=w.current)===null||M===void 0?void 0:M.selectionStart)===0)&&L(I.length-1),p.key===" "&&f>=0&&(b(f),p.preventDefault(),p.stopPropagation())},disabled:e.readOnly,readOnly:e.options.filterType==="none"})}),s.createElement(wt,{isEmpty:I.length<=0},R)),!e.readOnly&&e.clearable&&e.currentId!==null&&e.currentId.length>0&&s.createElement("button",{tabIndex:t,className:"widget-combobox-clear-button","aria-label":(d=o.ariaLabels)===null||d===void 0?void 0:d.clearSelection,onClick:p=>{var v;p.stopPropagation(),(v=w.current)===null||v===void 0||v.focus(),I.length>0&&y([])}},s.createElement(De,null))),s.createElement(xo,{menuHeaderContent:e.selectAllButton?s.createElement(wo,{value:V,id:"".concat(r.inputId,"-select-all-button"),ariaLabel:o.ariaLabels.selectAll,onChange:()=>{y(V==="all"?[]:e.options.getAll())}}):void 0,menuFooterContent:i,inputId:r.inputId,selector:e,isOpen:u,highlightedIndex:f,selectableItems:x,getItemProps:C,getMenuProps:h,selectedItems:I,noOptionsText:r.noOptionsText,onOptionClick:()=>{var p;(p=w.current)===null||p===void 0||p.focus()},isLoading:e.options.isLoading,lazyLoading:F,onScroll:D}))}function To(n){let{isOpen:e,selector:t,highlightedIndex:o,getMenuProps:i,getItemProps:r,noOptionsText:a,alwaysOpen:l,menuFooterContent:d,isLoading:u,lazyLoading:m,onScroll:h}=n;const c=t.options.getAll();return s.createElement(pn,{alwaysOpen:l,getMenuProps:i,isEmpty:c?.length<=0,isLoading:u,isOpen:e,lazyLoading:m,loader:s.createElement(mn,{isLoading:u,isOpen:e,lazyLoading:m,loadingType:t.loadingType,withCheckbox:!1,isEmpty:c.length===0}),menuFooterContent:d,noOptionsText:a,onScroll:m?h:void 0},e&&c.map((f,C)=>s.createElement(hn,{key:f,isHighlighted:!l&&o===C,isSelected:t.currentId===f,item:f,getItemProps:r,index:C},t.caption.render(f,"options"))))}function Oo(n){let{selector:e,tabIndex:t=0,a11yConfig:o,keepMenuOpen:i,menuFooterContent:r,...a}=n;var l,d,u;const{getInputProps:m,getToggleButtonProps:h,getItemProps:c,selectedItem:f,getMenuProps:C,reset:P,isOpen:k,highlightedIndex:S}=function(y){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},w=arguments.length>2?arguments[2]:void 0;var E;const{inputId:V,labelId:R}=b,F=s.useMemo(()=>({items:[],itemToString:v=>y.caption.get(v),onSelectedItemChange(v){let{selectedItem:M}=v;y.setValue(M??null)},onInputValueChange(v){let{inputValue:M}=v;y.options.setSearchTerm(M)},getA11yStatusMessage(v){const M=y.caption.get(y.currentId);let A=M?y.currentId?"".concat(w.a11ySelectedValue," ").concat(M,". "):"No options selected.":"";return v.isOpen?v.resultCount&&v.resultCount>0?(A+="".concat(w.a11yOptionsAvailable," ").concat(v.resultCount,". ").concat(w.a11yInstructions),A):w.a11yNoOption:A},defaultHighlightedIndex:0,selectedItem:null,initialInputValue:y.caption.get(y.currentId),stateReducer(v,M){const{changes:A,type:Y}=M;switch(Y){case $.stateChangeTypes.ToggleButtonClick:return{...A,inputValue:v.isOpen&&y.currentId?y.caption.get(y.currentId):""};case $.stateChangeTypes.ControlledPropUpdatedSelectedItem:return{...A,inputValue:A.inputValue===y.caption.emptyCaption?"":y.caption.get(y.currentId)};case $.stateChangeTypes.InputFocus:return{...A,isOpen:v.isOpen,inputValue:"",highlightedIndex:A.selectedItem?-1:this.defaultHighlightedIndex};case $.stateChangeTypes.InputKeyDownEscape:case $.stateChangeTypes.FunctionCloseMenu:return{...A,isOpen:!1,inputValue:A.selectedItem||y.currentId?y.caption.get(y.currentId):""};case $.stateChangeTypes.InputBlur:return v;default:return{...A}}},inputId:V,labelId:R}),[y,V,R,w.a11ySelectedValue,w.a11yOptionsAvailable,w.a11yNoOption,w.a11yInstructions]),D=$({...F,items:(E=y.options.getAll())!==null&&E!==void 0?E:[],selectedItem:y.currentId}),{closeMenu:p}=D;return y.onLeaveEvent=s.useCallback(p,[p]),D}(e,a,o.a11yStatusMessage),L=s.useRef(null),I=(l=e.lazyLoading)!==null&&l!==void 0&&l,{onScroll:x}=an({hasMoreItems:(d=e.options.hasMore)!==null&&d!==void 0&&d,isInfinite:I,isOpen:k,loadMore:()=>{e.options.loadMore&&e.options.loadMore()}});return s.createElement(s.Fragment,null,s.createElement(cn,{isOpen:k||i===!0,readOnly:e.readOnly,readOnlyStyle:a.readOnlyStyle,getToggleButtonProps:h,validation:e.validation,isLoading:I&&e.options.isLoading},s.createElement("div",{className:Z("widget-combobox-selected-items",{"widget-combobox-custom-content":e.customContentType==="yes"})},s.createElement("input",{className:Z("widget-combobox-input",{"widget-combobox-input-nofilter":e.options.filterType==="none"}),tabIndex:t,...m({disabled:e.readOnly,readOnly:e.options.filterType==="none",ref:L},{suppressRefError:!0}),placeholder:" "}),s.createElement(wt,{isEmpty:!e.currentId,type:e.customContentType==="yes"?"custom":"text"},e.caption.render(f,"label"))),(!e.readOnly&&e.clearable&&e.currentId!==null||e.selectorType==="static"&&e.currentId!==null&&!e.readOnly&&e.clearable&&e.attributeType!=="boolean")&&s.createElement("button",{tabIndex:t,className:"widget-combobox-clear-button","aria-label":(u=o.ariaLabels)===null||u===void 0?void 0:u.clearSelection,onClick:y=>{var b;y.stopPropagation(),(b=L.current)===null||b===void 0||b.focus(),(f||e.selectorType==="static")&&(e.setValue(null),P())}},s.createElement(De,null))),s.createElement(To,{selector:e,selectedItem:f,getMenuProps:C,getItemProps:c,isOpen:k||i===!0,highlightedIndex:S,menuFooterContent:r,noOptionsText:a.noOptionsText,alwaysOpen:i,isLoading:e.options.isLoading,lazyLoading:I,onScroll:x}))}function So(n){var e,t,o,i,r,a,l,d,u,m,h,c,f,C,P;const k=zn(n),S=function(I){return s.useMemo(()=>({onFocus:x=>{const{relatedTarget:y,currentTarget:b}=x;b?.contains(y)||(pe(I.onEnterEvent),I.selector.onEnterEvent&&I.selector.onEnterEvent())},onBlur:x=>{const{relatedTarget:y,currentTarget:b}=x;b?.contains(y)||(pe(I.onLeaveEvent),I.selector.onLeaveEvent&&I.selector.onLeaveEvent())}}),[I.onEnterEvent,I.onLeaveEvent,I.selector])}({onEnterEvent:n.onEnterEvent,onLeaveEvent:n.onLeaveEvent,selector:k}),L={tabIndex:n.tabIndex,inputId:n.id,labelId:"".concat(n.id,"-label"),noOptionsText:(e=n.noOptionsText)===null||e===void 0?void 0:e.value,readOnlyStyle:n.readOnlyStyle,a11yConfig:{ariaLabels:{clearSelection:(o=(t=n.clearButtonAriaLabel)===null||t===void 0?void 0:t.value)!==null&&o!==void 0?o:"",removeSelection:(r=(i=n.removeValueAriaLabel)===null||i===void 0?void 0:i.value)!==null&&r!==void 0?r:"",selectAll:(l=(a=n.selectAllButtonCaption)===null||a===void 0?void 0:a.value)!==null&&l!==void 0?l:""},a11yStatusMessage:{a11ySelectedValue:(u=(d=n.a11ySelectedValue)===null||d===void 0?void 0:d.value)!==null&&u!==void 0?u:"",a11yOptionsAvailable:(h=(m=n.a11yOptionsAvailable)===null||m===void 0?void 0:m.value)!==null&&h!==void 0?h:"",a11yInstructions:(f=(c=n.a11yInstructions)===null||c===void 0?void 0:c.value)!==null&&f!==void 0?f:"",a11yNoOption:(P=(C=n.noOptionsText)===null||C===void 0?void 0:C.value)!==null&&P!==void 0?P:""}},menuFooterContent:n.showFooter?n.menuFooterContent:void 0};return s.createElement("div",{className:"widget-combobox",...S},k.status==="unavailable"?s.createElement(Un,null):k.type==="single"?s.createElement(Oo,{selector:k,...L}):s.createElement(Eo,{selector:k,...L}))}var ko=Object.freeze({__proto__:null,default:So});export{ko as b};
