import{r as a,bh as E}from"./DTxgj959.js";import{y as Ke}from"./CXA2JgTM.js";var ne,Ee={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/ne=Ee,function(){var e={}.hasOwnProperty;function n(){for(var o=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if(i==="string"||i==="number")o.push(r);else if(Array.isArray(r)){if(r.length){var s=n.apply(null,r);s&&o.push(s)}}else if(i==="object"){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){o.push(r.toString());continue}for(var l in r)e.call(r,l)&&r[l]&&o.push(l)}}}return o.join(" ")}ne.exports?(n.default=n,ne.exports=n):window.classNames=n}();var U=Ee.exports;function V(e,n){return n==="pixels"?e:n==="percentage"?e+"%":""}function ke(e,n){return e?{onClick:e,role:"button",tabIndex:n??0,onKeyDown:o=>{o.key!=="Enter"&&o.key!==" "||e(o)}}:{}}const Ye=function(e){return a.createElement("div",{className:U("mx-image-viewer",{"mx-image-viewer-responsive":e.responsive},e.className,{hidden:!e.hasImage})},e.children)},Ge=function(e){return a.createElement("div",{className:U("mx-image-viewer","mx-image-background",e.className),onClick:e.onClick,style:{...e.style,height:V(e.height,e.heightUnit),width:V(e.width,e.widthUnit),backgroundImage:"url('".concat(e.image,"')")}},e.children)},Xe=function(e){const n=e.altText?{"aria-label":e.altText,role:"img"}:{},o=ke(e.onClick,e.tabIndex);return a.createElement("span",{className:U(e.icon,{glyphicon:e.isGlyph}),style:{...e.style,fontSize:"".concat(e.size,"px")},...n,...o})},Ze=function(e){const n=ke(e.onClick,e.tabIndex);return a.createElement("img",{className:e.className,src:e.image,style:{...e.style,height:V(e.height,e.heightUnit),width:V(e.width,e.widthUnit)},alt:e.altText,...n})};function te(){return te=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])}return e},te.apply(this,arguments)}function _(e){return e&&e.ownerDocument||document}function oe(e){e===void 0&&(e=_());try{var n=e.activeElement;return n&&n.nodeName?n:null}catch{return e.body}}function Ce(e,n){return e.contains?e.contains(n):e.compareDocumentPosition?e===n||!!(16&e.compareDocumentPosition(n)):void 0}var re=!(typeof window>"u"||!window.document||!window.document.createElement),ie=!1,ae=!1;try{var se={get passive(){return ie=!0},get once(){return ae=ie=!0}};re&&(window.addEventListener("test",se,se),window.removeEventListener("test",se,!0))}catch{}function Oe(e,n,o,t){return function(r,i,s,l){if(l&&typeof l!="boolean"&&!ae){var m=l.once,u=l.capture,f=s;!ae&&m&&(f=s.__once||function p(g){this.removeEventListener(i,p,u),s.call(this,g)},s.__once=f),r.addEventListener(i,f,ie?l:u)}r.addEventListener(i,s,l)}(e,n,o,t),function(){(function(r,i,s,l){var m=l&&typeof l!="boolean"?l.capture:l;r.removeEventListener(i,s,m),s.__once&&r.removeEventListener(i,s.__once,m)})(e,n,o,t)}}var Ne,Te,Se,Ie,d={exports:{}};function qe(e){var n,o,t=((o=a.useRef(n=e)).current=n,o);a.useEffect(function(){return function(){return t.current()}},[])}function P(e){var n=function(o){var t=a.useRef(o);return a.useEffect(function(){t.current=o},[o]),t}(e);return a.useCallback(function(){return n.current&&n.current.apply(n,arguments)},[n])}function Je(e,n){e.classList?e.classList.add(n):function(o,t){return o.classList?!!t&&o.classList.contains(t):(" "+(o.className.baseVal||o.className)+" ").indexOf(" "+t+" ")!==-1}(e,n)||(typeof e.className=="string"?e.className=e.className+" "+n:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+n))}function Re(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Qe(e,n){e.classList?e.classList.remove(n):typeof e.className=="string"?e.className=Re(e.className,n):e.setAttribute("class",Re(e.className&&e.className.baseVal||"",n))}function en(e,n){return function(o){var t=_(o);return t&&t.defaultView||window}(e).getComputedStyle(e,n)}d.exports=function(){if(Ie)return Se;Ie=1;var e=Te?Ne:(Te=1,Ne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");function n(){}function o(){}return o.resetWarningCache=n,Se=function(){function t(s,l,m,u,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}function r(){return t}t.isRequired=t;var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:o,resetWarningCache:n};return i.PropTypes=i,i}}()();var nn=/([A-Z])/g,tn=/^ms-/;function H(e){return function(n){return n.replace(nn,"-$1").toLowerCase()}(e).replace(tn,"-ms-")}var W,on=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Le(e,n){var o="",t="";if(typeof n=="string")return e.style.getPropertyValue(H(n))||en(e).getPropertyValue(H(n));Object.keys(n).forEach(function(r){var i=n[r];i||i===0?function(s){return!(!s||!on.test(s))}(r)?t+=r+"("+i+") ":o+=H(r)+": "+i+";":e.style.removeProperty(H(r))}),t&&(o+="transform: "+t+";"),e.style.cssText+=";"+o}function ce(e){return"window"in e&&e.window===e?e:"nodeType"in(n=e)&&n.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var n}function rn(e){var n;return ce(e)||(n=e)&&n.tagName.toLowerCase()==="body"?function(o){var t=ce(o)?_():_(o),r=ce(o)||t.defaultView;return t.body.clientWidth<r.innerWidth}(e):e.scrollHeight>e.clientHeight}var an=["template","script","style"],Ue=function(e,n,o){[].forEach.call(e.children,function(t){var r,i,s;n.indexOf(t)===-1&&(i=(r=t).nodeType,s=r.tagName,i===1&&an.indexOf(s.toLowerCase())===-1)&&o(t)})};function $(e,n){n&&(e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))}var le,ue=function(){function e(o){var t=o===void 0?{}:o,r=t.hideSiblingNodes,i=r===void 0||r,s=t.handleContainerOverflow,l=s===void 0||s;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=i,this.handleContainerOverflow=l,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=function(m){if((!W&&W!==0||m)&&re){var u=document.createElement("div");u.style.position="absolute",u.style.top="-9999px",u.style.width="50px",u.style.height="50px",u.style.overflow="scroll",document.body.appendChild(u),W=u.offsetWidth-u.clientWidth,document.body.removeChild(u)}return W}()}var n=e.prototype;return n.isContainerOverflowing=function(o){var t=this.data[this.containerIndexFromModal(o)];return t&&t.overflowing},n.containerIndexFromModal=function(o){return t=this.data,r=function(s){return s.modals.indexOf(o)!==-1},i=-1,t.some(function(s,l){return!!r(s,l)&&(i=l,!0)}),i;var t,r,i},n.setContainerStyle=function(o,t){var r={overflow:"hidden"};o.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},o.overflowing&&(r.paddingRight=parseInt(Le(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),Le(t,r)},n.removeContainerStyle=function(o,t){Object.assign(t.style,o.style)},n.add=function(o,t,r){var i=this.modals.indexOf(o),s=this.containers.indexOf(t);if(i!==-1)return i;if(i=this.modals.length,this.modals.push(o),this.hideSiblingNodes&&function(m,u){var f=u.dialog,p=u.backdrop;Ue(m,[f,p],function(g){return $(!0,g)})}(t,o),s!==-1)return this.data[s].modals.push(o),i;var l={modals:[o],classes:r?r.split(/\s+/):[],overflowing:rn(t)};return this.handleContainerOverflow&&this.setContainerStyle(l,t),l.classes.forEach(Je.bind(null,t)),this.containers.push(t),this.data.push(l),i},n.remove=function(o){var t=this.modals.indexOf(o);if(t!==-1){var r=this.containerIndexFromModal(o),i=this.data[r],s=this.containers[r];if(i.modals.splice(i.modals.indexOf(o),1),this.modals.splice(t,1),i.modals.length===0)i.classes.forEach(Qe.bind(null,s)),this.handleContainerOverflow&&this.removeContainerStyle(i,s),this.hideSiblingNodes&&function(u,f){var p=f.dialog,g=f.backdrop;Ue(u,[p,g],function(h){return $(!1,h)})}(s,o),this.containers.splice(r,1),this.data.splice(r,1);else if(this.hideSiblingNodes){var l=i.modals[i.modals.length-1],m=l.backdrop;$(!1,l.dialog),$(!1,m)}}},n.isTopModal=function(o){return!!this.modals.length&&this.modals[this.modals.length-1]===o},e}(),de=function(e){var n;return typeof document>"u"?null:e==null?_().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function sn(e){var n=e||(le||(le=new ue),le),o=a.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:function(t,r){return n.add(o.current,t,r)},remove:function(){return n.remove(o.current)},isTopModal:function(){return n.isTopModal(o.current)},setDialogRef:a.useCallback(function(t){o.current.dialog=t},[]),setBackdropRef:a.useCallback(function(t){o.current.backdrop=t},[])})}var fe=a.forwardRef(function(e,n){var o=e.show,t=o!==void 0&&o,r=e.role,i=r===void 0?"dialog":r,s=e.className,l=e.style,m=e.children,u=e.backdrop,f=u===void 0||u,p=e.keyboard,g=p===void 0||p,h=e.onBackdropClick,F=e.onEscapeKeyDown,C=e.transition,D=e.backdropTransition,j=e.autoFocus,K=j===void 0||j,O=e.enforceFocus,A=O===void 0||O,N=e.restoreFocus,Y=N===void 0||N,G=e.restoreFocusOptions,T=e.renderDialog,k=e.renderBackdrop,x=k===void 0?function(c){return E.createElement("div",c)}:k,B=e.manager,_e=e.container,Pe=e.containerClassName,pe=e.onShow,me=e.onHide,ge=me===void 0?function(){}:me,Fe=e.onExit,he=e.onExited,De=e.onExiting,je=e.onEnter,Ae=e.onEntering,Be=e.onEntered,Me=function(c,b){if(c==null)return{};var y,w,R={},L=Object.keys(c);for(w=0;w<L.length;w++)y=L[w],b.indexOf(y)>=0||(R[y]=c[y]);return R}(e,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),S=function(c,b){var y=a.useState(function(){return de(c)}),w=y[0],R=y[1];if(!w){var L=de(c);L&&R(L)}return a.useEffect(function(){},[b,w]),a.useEffect(function(){var we=de(c);we!==w&&R(we)},[c,w]),w}(_e),v=sn(B),ze=function(){var c=a.useRef(!0),b=a.useRef(function(){return c.current});return a.useEffect(function(){return c.current=!0,function(){c.current=!1}},[]),b.current}(),Ve=function(c){var b=a.useRef(null);return a.useEffect(function(){b.current=c}),b.current}(t),ve=a.useState(!t),I=ve[0],X=ve[1],M=a.useRef(null);a.useImperativeHandle(n,function(){return v},[v]),re&&!Ve&&t&&(M.current=oe()),C||t||I?t&&I&&X(!1):X(!0);var ye=P(function(){if(v.add(S,Pe),J.current=Oe(document,"keydown",$e),q.current=Oe(document,"focus",function(){return setTimeout(He)},!0),pe&&pe(),K){var c=oe(document);v.dialog&&c&&!Ce(v.dialog,c)&&(M.current=c,v.dialog.focus())}}),Z=P(function(){var c;v.remove(),J.current==null||J.current(),q.current==null||q.current(),Y&&((c=M.current)==null||c.focus==null||c.focus(G),M.current=null)});a.useEffect(function(){t&&S&&ye()},[t,S,ye]),a.useEffect(function(){I&&Z()},[I,Z]),qe(function(){Z()});var He=P(function(){if(A&&ze()&&v.isTopModal()){var c=oe();v.dialog&&c&&!Ce(v.dialog,c)&&v.dialog.focus()}}),We=P(function(c){c.target===c.currentTarget&&(h?.(c),f===!0&&ge())}),$e=P(function(c){g&&c.keyCode===27&&v.isTopModal()&&(F?.(c),c.defaultPrevented||ge())}),q=a.useRef(),J=a.useRef(),Q=C;if(!S||!(t||Q&&!I))return null;var be=te({role:i,ref:v.setDialogRef,"aria-modal":i==="dialog"||void 0},Me,{style:l,className:s,tabIndex:-1}),ee=T?T(be):E.createElement("div",be,E.cloneElement(m,{role:"document"}));Q&&(ee=E.createElement(Q,{appear:!0,unmountOnExit:!0,in:!!t,onExit:Fe,onExiting:De,onExited:function(){X(!0);for(var c=arguments.length,b=new Array(c),y=0;y<c;y++)b[y]=arguments[y];he?.apply(void 0,b)},onEnter:je,onEntering:Ae,onEntered:Be},ee));var z=null;if(f){var xe=D;z=x({ref:v.setBackdropRef,onClick:We}),xe&&(z=E.createElement(xe,{appear:!0,in:!!t},z))}return E.createElement(E.Fragment,null,Ke.createPortal(E.createElement(E.Fragment,null,z,ee),S))}),cn={show:d.exports.bool,container:d.exports.any,onShow:d.exports.func,onHide:d.exports.func,backdrop:d.exports.oneOfType([d.exports.bool,d.exports.oneOf(["static"])]),renderDialog:d.exports.func,renderBackdrop:d.exports.func,onEscapeKeyDown:d.exports.func,onBackdropClick:d.exports.func,containerClassName:d.exports.string,keyboard:d.exports.bool,transition:d.exports.elementType,backdropTransition:d.exports.elementType,autoFocus:d.exports.bool,enforceFocus:d.exports.bool,restoreFocus:d.exports.bool,restoreFocusOptions:d.exports.shape({preventScroll:d.exports.bool}),onEnter:d.exports.func,onEntering:d.exports.func,onEntered:d.exports.func,onExit:d.exports.func,onExiting:d.exports.func,onExited:d.exports.func,manager:d.exports.instanceOf(ue)};fe.displayName="Modal",fe.propTypes=cn;var ln=Object.assign(fe,{Manager:ue}),un="widgets/com/mendix/widget/web/image/assets/c021d926c33ac67c.svg";function dn(e){let{onClose:n,...o}=e;return a.createElement("div",{className:"mx-image-viewer-lightbox-backdrop",...o},a.createElement("button",{className:U("btn btn-image btn-icon close-button"),onClick:n},a.createElement("img",{src:un,className:"removeIcon",alt:"Close icon for the full screen image lightbox"})))}function fn(e){let{isOpen:n,onClose:o,children:t}=e;const r=a.useCallback(s=>a.createElement(dn,{onClose:o,...s}),[o]),i=a.useCallback(s=>{s.stopPropagation()},[]);return a.createElement(ln,{show:n,onHide:o,renderBackdrop:r,onBackdropClick:i,className:"mx-image-viewer-lightbox"},a.createElement("div",null,t))}function pn(e,n){if(!e||n==="fullImage")return e;const o=new URL(e);return o.searchParams.append("thumb","true"),o.href}const mn=e=>{let{class:n,style:o,widthUnit:t,width:r,heightUnit:i,height:s,tabIndex:l,iconSize:m,responsive:u,onClickType:f,onClick:p,type:g,image:h,altText:F,displayAs:C,previewMode:D,renderAsBackground:j,backgroundImageContent:K}=e;const{lightboxIsOpen:O,openLightbox:A,closeLightbox:N}=(()=>{const[x,B]=a.useState(!1);return{lightboxIsOpen:x,openLightbox:a.useCallback(()=>{B(!0)},[]),closeLightbox:a.useCallback(()=>{B(!1)},[])}})(),Y=a.useCallback(x=>{x?.stopPropagation(),N()},[N]),G=a.useCallback(x=>{x.stopPropagation(),f==="action"?p?.():f==="enlarge"&&A()},[p,f,A]),T={style:o,tabIndex:l??0,onClick:f==="action"&&p||f==="enlarge"?G:void 0,altText:F},k=g==="image"?a.createElement(Ze,{className:U({"img-thumbnail":C==="thumbnail"}),image:D?h:pn(h,C),height:s,heightUnit:i,width:r,widthUnit:t,...T}):a.createElement(Xe,{icon:h,isGlyph:g==="glyph",size:m,...T});return j?a.createElement(Ge,{className:n,style:o,image:h,height:s,heightUnit:i,width:r,widthUnit:t,onClick:x=>{x.stopPropagation(),p?.()}},K):a.createElement(Ye,{className:n,responsive:u,hasImage:h!==void 0&&h.length>0},k,!D&&O&&a.createElement(fn,{isOpen:O,onClose:Y},g==="image"?a.cloneElement(k,{image:h,onClick:void 0}):k))},gn=e=>{var n;const o=a.useCallback(()=>{var s;return(s=e.onClick)===null||s===void 0?void 0:s.execute()},[e.onClick]),{type:t,image:r}=function(s){let{datasource:l,imageIcon:m,imageObject:u,imageUrl:f,defaultImageDynamic:p}=s;const g={type:"image",image:void 0};switch(l){case"image":return u?.status==="available"?{type:"image",image:u.value.uri}:u?.status==="unavailable"&&p?.status==="available"?{type:"image",image:p.value.uri}:{type:"image",image:void 0};case"imageUrl":return{type:"image",image:f?.status==="available"?f.value:void 0};case"icon":if(m?.status==="available"&&m.value){const h=m.value;return{type:h.type,image:h.type==="image"?h.iconUrl:h.iconClass}}return g;default:return g}}(e),i=((n=e.alternativeText)===null||n===void 0?void 0:n.status)==="available"?e.alternativeText.value:void 0;return a.createElement(mn,{class:e.class,style:e.style,widthUnit:e.widthUnit,width:e.width,heightUnit:e.heightUnit,height:e.height,tabIndex:e.tabIndex,iconSize:e.iconSize,responsive:e.responsive,onClickType:e.onClickType,onClick:e.onClick?o:void 0,type:t,image:r,altText:i,displayAs:e.displayAs,renderAsBackground:e.datasource!=="icon"&&e.isBackgroundImage,backgroundImageContent:e.children})};var hn=Object.freeze({__proto__:null,Image:gn});export{hn as f};
