import{m as T,h as j,dd as M,de as z,r as l,S as o,am as h,_ as O,b6 as w,df as C}from"./DTxgj959.js";const E=T(e=>{return j(M({uri:z(e.image.uri),name:(t=e.image.uri,/([^/$]+?)(\?|$)/.exec(t)?.[1]??"")}));var t}),v=l.createContext({scrollcontainerId:"",toggleStatus:!1,toggleAction:()=>{},setToggleButtonID:e=>{},resetSidebar:()=>{}}),b=l.forwardRef((e,t)=>o.jsx("div",{id:e.id,className:h(`mx-scrollcontainer-${e.name}`,e.class,{"mx-scrollcontainer-toggleable":e.canToggle}),inert:e.inert?"":void 0,style:{...e.style,...e.size?{"--sidebar-size":e.size}:{}},ref:t,"aria-hidden":e.ariaHidden,...e.dataFocusIndex?{"data-focusindex":e.dataFocusIndex}:void 0,children:o.jsx("div",{className:h("mx-scrollcontainer-wrapper",{"mx-scrollcontainer-nested":e.hasNestedScrollContainer}),children:e.children})}));function N(e){const t=l.useMemo(()=>O("scrollcontainer"),[]),[r,s,c]=function(i,g){return i.enabled&&i.toggleMode!=="none"?[i.toggleMode,i.initiallyOpen,m(i)]:g.enabled&&g.toggleMode!=="none"?[g.toggleMode,g.initiallyOpen,m(g)]:["none",!1,"0px"]}(e.left,e.right),[d,y]=l.useState(s),[a,u]=l.useState(""),x=i=>{y(i||(g=>!g))},I=()=>{r!=="push"&&r!=="slide"||y(s)};function S(){return!e.top.enabled&&!e.bottom.enabled?o.jsx(p,{...e,containerType:n.Standalone,toggleMode:r,toggleableSidebarSize:c,containerId:t,sidebarStatus:d,toggleSidebarStatus:x,toggleButtonID:a}):!e.left.enabled&&!e.right.enabled?o.jsx(f,{...e,containerType:n.Standalone}):e.layoutMode==="headline"?o.jsx(f,{...e,containerType:n.Outer,containerId:t,children:o.jsx(p,{...e,containerType:n.Inner,containerId:t,toggleMode:r,toggleableSidebarSize:c,sidebarStatus:d,toggleSidebarStatus:x,toggleButtonID:a})}):o.jsx(p,{...e,containerType:n.Outer,containerId:t,toggleableSidebarSize:c,toggleMode:r,sidebarStatus:d,toggleSidebarStatus:x,toggleButtonID:a,children:o.jsx(f,{...e,containerType:n.Inner})})}return r==="none"?S():o.jsx(v.Provider,{value:{toggleStatus:d,toggleAction:()=>{y(i=>!i)},scrollcontainerId:t,setToggleButtonID:i=>{u(i)},resetSidebar:I},children:S()})}function m(e){if(!e.enabled)throw new Error("Region is not enabled");return e.sizeMode==="auto"?"min-content":`${e.sizeValue}${e.sizeMode==="percentage"?"%":"px"}`}var n;function p(e){const t=l.useRef(null),{toggleMode:r,sidebarStatus:s}=e,[c,d]=l.useState(!1),y=l.useCallback(a=>{s&&(t.current?.contains(a.target)||e.toggleSidebarStatus(!1))},[s]);return l.useEffect(()=>{if(t.current){const a=new ResizeObserver(()=>{if(t.current?.clientWidth===0){if(d(!0),t.current.contains(w())){const u=document.querySelector(`[data-button-id="${e.toggleButtonID}"]`);u&&C(u)}}else d(!1)});return a.observe(t.current),()=>{a.disconnect()}}return()=>{}},[t.current]),l.useEffect(()=>{const a=u=>{u.key==="Escape"&&e.toggleSidebarStatus(!1)};return s?window.document.addEventListener("keyup",a):window.document.removeEventListener("keyup",a),()=>{window.document.removeEventListener("keyup",a)}},[s]),o.jsxs("div",{className:h("mx-scrollcontainer","mx-scrollcontainer-horizontal",{"mx-scrollcontainer-fixed":e.scrollPerRegion,"mx-scrollcontainer-open":s,[`mx-scrollcontainer-${r}`]:r!=="none"},e.containerType!==n.Inner?e.class:void 0),style:{...e.containerType!==n.Inner?e.style:void 0,"--toggleable-sidebar-width":e.toggleableSidebarSize},onClick:r==="slide"||r==="push"?y:void 0,"data-scrollcontainer-id":e.containerType!==n.Inner?e.containerId:void 0,children:[e.left.enabled&&o.jsx(b,{name:"left",id:e.left.toggleMode!=="none"?e.containerId+"-toggleable":void 0,class:e.left.class,style:e.left.style,size:m(e.left),canToggle:e.left.toggleMode!=="none",ref:e.left.toggleMode!=="none"?t:void 0,ariaHidden:c,...c?{dataFocusIndex:-1}:null,children:e.left.content}),o.jsx(b,{name:"center",hasNestedScrollContainer:e.containerType===n.Outer,class:e.containerType!==n.Outer?e.center.class:void 0,style:e.containerType!==n.Outer?e.center.style:void 0,inert:s&&(r==="slide"||r==="push"),children:e.children??e.center.content}),e.right.enabled&&o.jsx(b,{name:"right",id:e.right.toggleMode!=="none"?e.containerId+"-toggleable":void 0,class:e.right.class,style:e.right.style,size:m(e.right),canToggle:e.right.toggleMode!=="none",ref:e.right.toggleMode!=="none"?t:void 0,ariaHidden:c,...c?{dataFocusIndex:-1}:null,children:e.right.content})]})}function f(e){return o.jsxs("div",{className:h("mx-scrollcontainer","mx-scrollcontainer-vertical",{"mx-scrollcontainer-fixed":e.scrollPerRegion},e.containerType!==n.Inner?e.class:void 0),style:{...e.containerType!==n.Inner?e.style:void 0},"data-scrollcontainer-id":e.containerId,children:[e.top.enabled&&o.jsx(b,{name:"top",class:e.top.class,style:e.top.style,size:m(e.top),children:e.top.content}),o.jsx(b,{name:"middle",hasNestedScrollContainer:e.containerType===n.Outer,class:e.containerType!==n.Outer?e.center.class:void 0,style:e.containerType!==n.Outer?e.center.style:void 0,children:e.children??e.center.content}),e.bottom.enabled&&o.jsx(b,{name:"bottom",class:e.bottom.class,style:e.bottom.style,size:m(e.bottom),children:e.bottom.content})]})}(function(e){e[e.Standalone=0]="Standalone",e[e.Outer=1]="Outer",e[e.Inner=2]="Inner"})(n||(n={}));export{N as C,v as a,E as e};
