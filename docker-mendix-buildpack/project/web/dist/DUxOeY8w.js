import{r as c,cA as wn}from"./DTxgj959.js";import{r as xn}from"./CXA2JgTM.js";const En=e=>{e&&e.canExecute&&!e.isExecuting&&e.execute()};var nt,bt={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/nt=bt,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var i=typeof o;if(i==="string"||i==="number")n.push(o);else if(Array.isArray(o)){if(o.length){var l=t.apply(null,o);l&&n.push(l)}}else if(i==="object"){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var a in o)e.call(o,a)&&o[a]&&n.push(a)}}}return n.join(" ")}nt.exports?(t.default=t,nt.exports=t):window.classNames=t}();var wt=bt.exports;function ae(e){return xt(e)?(e.nodeName||"").toLowerCase():"#document"}function le(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function de(e){var t;return(t=(xt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xt(e){return e instanceof Node||e instanceof le(e).Node}function ee(e){return e instanceof Element||e instanceof le(e).Element}function ne(e){return e instanceof HTMLElement||e instanceof le(e).HTMLElement}function rt(e){return typeof ShadowRoot<"u"&&(e instanceof ShadowRoot||e instanceof le(e).ShadowRoot)}function Oe(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=ce(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Rn(e){return["table","td","th"].includes(ae(e))}function kn(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ot(e){const t=it(),n=ee(e)?ce(e):e;return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function it(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ke(e){return["html","body","#document"].includes(ae(e))}function ce(e){return le(e).getComputedStyle(e)}function We(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function he(e){if(ae(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rt(e)&&e.host||de(e);return rt(t)?t.host:t}function Et(e){const t=he(e);return ke(t)?e.ownerDocument?e.ownerDocument.body:e.body:ne(t)&&Oe(t)?t:Et(t)}function me(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Et(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),l=le(o);if(i){const a=function(f){return f.parent&&Object.getPrototypeOf(f.parent)?f.frameElement:null}(l);return t.concat(l,l.visualViewport||[],Oe(o)?o:[],a&&n?me(a):[])}return t.concat(o,me(o,[],n))}function ye(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function re(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&rt(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Rt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Cn(e){return!Rt().includes("jsdom/")&&(!lt()&&e.width===0&&e.height===0||lt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch")}function lt(){const e=/android/i;return e.test(function(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}())||e.test(Rt())}function De(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function oe(e){return e?.ownerDocument||document}function ct(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ve(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Sn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function kt(e){return ne(e)&&e.matches(Sn)}function ut(e){e.preventDefault(),e.stopPropagation()}const Be=Math.min,be=Math.max,_e=Math.round,je=Math.floor,ge=e=>({x:e,y:e}),Tn={left:"right",right:"left",bottom:"top",top:"bottom"},Ln={start:"end",end:"start"};function Ct(e,t,n){return be(e,Be(t,n))}function He(e,t){return typeof e=="function"?e(t):e}function we(e){return e.split("-")[0]}function qe(e){return e.split("-")[1]}function St(e){return e==="x"?"y":"x"}function Tt(e){return e==="y"?"height":"width"}function Ke(e){return["top","bottom"].includes(we(e))?"y":"x"}function Lt(e){return St(Ke(e))}function Pn(e,t,n){n===void 0&&(n=!1);const r=qe(e),o=Lt(e),i=Tt(o);let l=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=Ve(l)),[l,Ve(l)]}function st(e){return e.replace(/start|end/g,t=>Ln[t])}function Ve(e){return e.replace(/left|right|bottom|top/g,t=>Tn[t])}function An(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function ze(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Xe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"].join(","),Pt=typeof Element>"u",Ce=Pt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ue=!Pt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e?.ownerDocument},Ye=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert");return o===""||o==="true"||n&&t&&e(t.parentNode)},Mn=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var l=i.shift();if(!Ye(l,!1))if(l.tagName==="SLOT"){var a=l.assignedElements(),f=e(a.length?a:l.children,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:l,candidates:f})}else{Ce.call(l,Xe)&&r.filter(l)&&(n||!t.includes(l))&&o.push(l);var u=l.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(l),E=!Ye(u,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(l));if(u&&E){var y=e(u===!0?l.children:u.children,!0,r);r.flatten?o.push.apply(o,y):o.push({scopeParent:l,candidates:y})}else i.unshift.apply(i,l.children)}}return o},At=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Mt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"}(e))&&!At(e)?0:e.tabIndex},On=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ot=function(e){return e.tagName==="INPUT"},Dn=function(e){return function(t){return Ot(t)&&t.type==="radio"}(e)&&!function(t){if(!t.name)return!0;var n,r=t.form||Ue(t),o=function(l){return r.querySelectorAll('input[type="radio"][name="'+l+'"]')};if(typeof window<"u"&&window.CSS!==void 0&&typeof window.CSS.escape=="function")n=o(window.CSS.escape(t.name));else try{n=o(t.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var i=function(l,a){for(var f=0;f<l.length;f++)if(l[f].checked&&l[f].form===a)return l[f]}(n,t.form);return!i||i===t}(e)},Dt=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return n===0&&r===0},Nn=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Ce.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Ce.call(o,"details:not([open]) *"))return!0;if(n&&n!=="full"&&n!=="legacy-full"){if(n==="non-zero-area")return Dt(e)}else{if(typeof r=="function"){for(var i=e;e;){var l=e.parentElement,a=Ue(e);if(l&&!l.shadowRoot&&r(l)===!0)return Dt(e);e=e.assignedSlot?e.assignedSlot:l||a===e.ownerDocument?l:a.host}e=i}if(function(f){var u,E,y,b,w=f&&Ue(f),d=(u=w)===null||u===void 0?void 0:u.host,m=!1;if(w&&w!==f)for(m=!!((E=d)!==null&&E!==void 0&&(y=E.ownerDocument)!==null&&y!==void 0&&y.contains(d)||f!=null&&(b=f.ownerDocument)!==null&&b!==void 0&&b.contains(f));!m&&d;){var s,v,g;m=!((v=d=(s=w=Ue(d))===null||s===void 0?void 0:s.host)===null||v===void 0||(g=v.ownerDocument)===null||g===void 0||!g.contains(d))}return m}(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}return!1},In=function(e,t){return!(t.disabled||Ye(t)||function(n){return Ot(n)&&n.type==="hidden"}(t)||Nn(t,e)||function(n){return n.tagName==="DETAILS"&&Array.prototype.slice.apply(n.children).some(function(r){return r.tagName==="SUMMARY"})}(t)||function(n){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(n.tagName))for(var r=n.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var o=0;o<r.children.length;o++){var i=r.children.item(o);if(i.tagName==="LEGEND")return!!Ce.call(r,"fieldset[disabled] *")||!i.contains(n)}return!0}r=r.parentElement}return!1}(t))},at=function(e,t){return!(Dn(t)||Mt(t)<0||!In(e,t))},Fn=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Wn=function e(t){var n=[],r=[];return t.forEach(function(o,i){var l=!!o.scopeParent,a=l?o.scopeParent:o,f=function(E,y){var b=Mt(E);return b<0&&y&&!At(E)?0:b}(a,l),u=l?e(o.candidates):a;f===0?l?n.push.apply(n,u):n.push(a):r.push({documentOrder:i,tabIndex:f,item:o,isScope:l,content:u})}),r.sort(On).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},$e=function(e,t){var n;return n=(t=t||{}).getShadowRoot?Mn([e],t.includeContainer,{filter:at.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Fn}):function(r,o,i){if(Ye(r))return[];var l=Array.prototype.slice.apply(r.querySelectorAll(Xe));return o&&Ce.call(r,Xe)&&l.unshift(r),l.filter(i)}(e,t.includeContainer,at.bind(null,t)),Wn(n)},Bn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return Ce.call(e,Xe)!==!1&&at(t,e)};function Nt(e,t,n){let{reference:r,floating:o}=e;const i=Ke(t),l=Lt(t),a=Tt(l),f=we(t),u=i==="y",E=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,b=r[a]/2-o[a]/2;let w;switch(f){case"top":w={x:E,y:r.y-o.height};break;case"bottom":w={x:E,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y};break;case"left":w={x:r.x-o.width,y};break;default:w={x:r.x,y:r.y}}switch(qe(t)){case"start":w[l]-=b*(n&&u?-1:1);break;case"end":w[l]+=b*(n&&u?-1:1)}return w}async function It(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:l,elements:a,strategy:f}=e,{boundary:u="clippingAncestors",rootBoundary:E="viewport",elementContext:y="floating",altBoundary:b=!1,padding:w=0}=He(t,e),d=An(w),m=a[b?y==="floating"?"reference":"floating":y],s=ze(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(m)))==null||n?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:E,strategy:f})),v=y==="floating"?{...l.floating,x:r,y:o}:l.reference,g=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(g))&&await(i.getScale==null?void 0:i.getScale(g))||{x:1,y:1},h=ze(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:g,strategy:f}):v);return{top:(s.top-h.top+d.top)/R.y,bottom:(h.bottom-s.bottom+d.bottom)/R.y,left:(s.left-h.left+d.left)/R.x,right:(h.right-s.right+d.right)/R.x}}const _n=function(e){return{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:l,middlewareData:a}=t,f=await async function(u,E){const{placement:y,platform:b,elements:w}=u,d=await(b.isRTL==null?void 0:b.isRTL(w.floating)),m=we(y),s=qe(y),v=Ke(y)==="y",g=["left","top"].includes(m)?-1:1,R=d&&v?-1:1,h=He(E,u);let{mainAxis:C,crossAxis:N,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return s&&typeof _=="number"&&(N=s==="end"?-1*_:_),v?{x:N*R,y:C*g}:{x:C*g,y:N*R}}(t,e);return l===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:i+f.y,data:{...f,placement:l}}}}};function Ft(e){const t=ce(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=ne(e),i=o?e.offsetWidth:n,l=o?e.offsetHeight:r,a=_e(n)!==i||_e(r)!==l;return a&&(n=i,r=l),{width:n,height:r,$:a}}function ft(e){return ee(e)?e:e.contextElement}function Se(e){const t=ft(e);if(!ne(t))return ge(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Ft(t);let l=(i?_e(n.width):n.width)/r,a=(i?_e(n.height):n.height)/o;return l&&Number.isFinite(l)||(l=1),a&&Number.isFinite(a)||(a=1),{x:l,y:a}}const jn=ge(0);function Wt(e){const t=le(e);return it()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:jn}function xe(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=ft(e);let l=ge(1);t&&(r?ee(r)&&(l=Se(r)):l=Se(e));const a=function(b,w,d){return w===void 0&&(w=!1),!(!d||w&&d!==le(b))&&w}(i,n,r)?Wt(i):ge(0);let f=(o.left+a.x)/l.x,u=(o.top+a.y)/l.y,E=o.width/l.x,y=o.height/l.y;if(i){const b=le(i),w=r&&ee(r)?le(r):r;let d=b,m=d.frameElement;for(;m&&r&&w!==d;){const s=Se(m),v=m.getBoundingClientRect(),g=ce(m),R=v.left+(m.clientLeft+parseFloat(g.paddingLeft))*s.x,h=v.top+(m.clientTop+parseFloat(g.paddingTop))*s.y;f*=s.x,u*=s.y,E*=s.x,y*=s.y,f+=R,u+=h,d=le(m),m=d.frameElement}}return ze({width:E,height:y,x:f,y:u})}const Hn=[":popover-open",":modal"];function Bt(e){return Hn.some(t=>{try{return e.matches(t)}catch{return!1}})}function _t(e){return xe(de(e)).left+We(e).scrollLeft}function jt(e,t,n){let r;if(t==="viewport")r=function(o,i){const l=le(o),a=de(o),f=l.visualViewport;let u=a.clientWidth,E=a.clientHeight,y=0,b=0;if(f){u=f.width,E=f.height;const w=it();(!w||w&&i==="fixed")&&(y=f.offsetLeft,b=f.offsetTop)}return{width:u,height:E,x:y,y:b}}(e,n);else if(t==="document")r=function(o){const i=de(o),l=We(o),a=o.ownerDocument.body,f=be(i.scrollWidth,i.clientWidth,a.scrollWidth,a.clientWidth),u=be(i.scrollHeight,i.clientHeight,a.scrollHeight,a.clientHeight);let E=-l.scrollLeft+_t(o);const y=-l.scrollTop;return ce(a).direction==="rtl"&&(E+=be(i.clientWidth,a.clientWidth)-f),{width:f,height:u,x:E,y}}(de(e));else if(ee(t))r=function(o,i){const l=xe(o,!0,i==="fixed"),a=l.top+o.clientTop,f=l.left+o.clientLeft,u=ne(o)?Se(o):ge(1);return{width:o.clientWidth*u.x,height:o.clientHeight*u.y,x:f*u.x,y:a*u.y}}(t,n);else{const o=Wt(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return ze(r)}function Ht(e,t){const n=he(e);return!(n===t||!ee(n)||ke(n))&&(ce(n).position==="fixed"||Ht(n,t))}function qn(e,t,n){const r=ne(t),o=de(t),i=n==="fixed",l=xe(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const f=ge(0);if(r||!r&&!i)if((ae(t)!=="body"||Oe(o))&&(a=We(t)),r){const u=xe(t,!0,i,t);f.x=u.x+t.clientLeft,f.y=u.y+t.clientTop}else o&&(f.x=_t(o));return{x:l.left+a.scrollLeft-f.x,y:l.top+a.scrollTop-f.y,width:l.width,height:l.height}}function qt(e,t){return ne(e)&&ce(e).position!=="fixed"?t?t(e):e.offsetParent:null}function Kt(e,t){const n=le(e);if(!ne(e)||Bt(e))return n;let r=qt(e,t);for(;r&&Rn(r)&&ce(r).position==="static";)r=qt(r,t);return r&&(ae(r)==="html"||ae(r)==="body"&&ce(r).position==="static"&&!ot(r))?n:r||function(o){let i=he(o);for(;ne(i)&&!ke(i);){if(ot(i))return i;if(kn(i))return null;i=he(i)}return null}(e)||n}const Kn={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",l=de(r),a=!!t&&Bt(t.floating);if(r===l||a&&i)return n;let f={scrollLeft:0,scrollTop:0},u=ge(1);const E=ge(0),y=ne(r);if((y||!y&&!i)&&((ae(r)!=="body"||Oe(l))&&(f=We(r)),ne(r))){const b=xe(r);u=Se(r),E.x=b.x+r.clientLeft,E.y=b.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-f.scrollLeft*u.x+E.x,y:n.y*u.y-f.scrollTop*u.y+E.y}},getDocumentElement:de,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=[...n==="clippingAncestors"?function(f,u){const E=u.get(f);if(E)return E;let y=me(f,[],!1).filter(m=>ee(m)&&ae(m)!=="body"),b=null;const w=ce(f).position==="fixed";let d=w?he(f):f;for(;ee(d)&&!ke(d);){const m=ce(d),s=ot(d);s||m.position!=="fixed"||(b=null),(w?!s&&!b:!s&&m.position==="static"&&b&&["absolute","fixed"].includes(b.position)||Oe(d)&&!s&&Ht(f,d))?y=y.filter(v=>v!==d):b=m,d=he(d)}return u.set(f,y),y}(t,this._c):[].concat(n),r],l=i[0],a=i.reduce((f,u)=>{const E=jt(t,u,o);return f.top=be(E.top,f.top),f.right=Be(E.right,f.right),f.bottom=Be(E.bottom,f.bottom),f.left=be(E.left,f.left),f},jt(t,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Kt,getElementRects:async function(e){const t=this.getOffsetParent||Kt,n=this.getDimensions;return{reference:qn(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Ft(e);return{width:t,height:n}},getScale:Se,isElement:ee,isRTL:function(e){return ce(e).direction==="rtl"}};function Vn(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,u=ft(e),E=o||i?[...u?me(u):[],...me(t)]:[];E.forEach(s=>{o&&s.addEventListener("scroll",n,{passive:!0}),i&&s.addEventListener("resize",n)});const y=u&&a?function(s,v){let g,R=null;const h=de(s);function C(){var N;clearTimeout(g),(N=R)==null||N.disconnect(),R=null}return function N(_,H){_===void 0&&(_=!1),H===void 0&&(H=1),C();const{left:j,top:G,width:M,height:p}=s.getBoundingClientRect();if(_||v(),!M||!p)return;const S={rootMargin:-je(G)+"px "+-je(h.clientWidth-(j+M))+"px "+-je(h.clientHeight-(G+p))+"px "+-je(j)+"px",threshold:be(0,Be(1,H))||1};let V=!0;function z(q){const I=q[0].intersectionRatio;if(I!==H){if(!V)return N();I?N(!1,I):g=setTimeout(()=>{N(!1,1e-7)},100)}V=!1}try{R=new IntersectionObserver(z,{...S,root:h.ownerDocument})}catch{R=new IntersectionObserver(z,S)}R.observe(s)}(!0),C}(u,n):null;let b,w=-1,d=null;l&&(d=new ResizeObserver(s=>{let[v]=s;v&&v.target===u&&d&&(d.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var g;(g=d)==null||g.observe(t)})),n()}),u&&!f&&d.observe(u),d.observe(t));let m=f?xe(e):null;return f&&function s(){const v=xe(e);!m||v.x===m.x&&v.y===m.y&&v.width===m.width&&v.height===m.height||n(),m=v,b=requestAnimationFrame(s)}(),n(),()=>{var s;E.forEach(v=>{o&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),y?.(),(s=d)==null||s.disconnect(),d=null,f&&cancelAnimationFrame(b)}}const zn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:a={fn:s=>{let{x:v,y:g}=s;return{x:v,y:g}}},...f}=He(e,t),u={x:n,y:r},E=await It(t,f),y=Ke(we(o)),b=St(y);let w=u[b],d=u[y];if(i){const s=b==="y"?"bottom":"right";w=Ct(w+E[b==="y"?"top":"left"],w,w-E[s])}if(l){const s=y==="y"?"bottom":"right";d=Ct(d+E[y==="y"?"top":"left"],d,d-E[s])}const m=a.fn({...t,[b]:w,[y]:d});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Xn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:l,initialPlacement:a,platform:f,elements:u}=t,{mainAxis:E=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:m=!0,...s}=He(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=we(o),g=we(a)===a,R=await(f.isRTL==null?void 0:f.isRTL(u.floating)),h=b||(g||!m?[Ve(a)]:function(p){const S=Ve(p);return[st(p),S,st(S)]}(a));b||d==="none"||h.push(...function(p,S,V,z){const q=qe(p);let I=function(Y,te,D){const Q=["left","right"],K=["right","left"],$=["top","bottom"],U=["bottom","top"];switch(Y){case"top":case"bottom":return D?te?K:Q:te?Q:K;case"left":case"right":return te?$:U;default:return[]}}(we(p),V==="start",z);return q&&(I=I.map(Y=>Y+"-"+q),S&&(I=I.concat(I.map(st)))),I}(a,m,d,R));const C=[a,...h],N=await It(t,s),_=[];let H=((r=i.flip)==null?void 0:r.overflows)||[];if(E&&_.push(N[v]),y){const p=Pn(o,l,R);_.push(N[p[0]],N[p[1]])}if(H=[...H,{placement:o,overflows:_}],!_.every(p=>p<=0)){var j,G;const p=(((j=i.flip)==null?void 0:j.index)||0)+1,S=C[p];if(S)return{data:{index:p,overflows:H},reset:{placement:S}};let V=(G=H.filter(z=>z.overflows[0]<=0).sort((z,q)=>z.overflows[1]-q.overflows[1])[0])==null?void 0:G.placement;if(!V)switch(w){case"bestFit":{var M;const z=(M=H.map(q=>[q.placement,q.overflows.filter(I=>I>0).reduce((I,Y)=>I+Y,0)]).sort((q,I)=>q[1]-I[1])[0])==null?void 0:M[0];z&&(V=z);break}case"initialPlacement":V=a}if(o!==V)return{reset:{placement:V}}}return{}}}},Un=(e,t,n)=>{const r=new Map,o={platform:Kn,...n},i={...o.platform,_c:r};return(async(l,a,f)=>{const{placement:u="bottom",strategy:E="absolute",middleware:y=[],platform:b}=f,w=y.filter(Boolean),d=await(b.isRTL==null?void 0:b.isRTL(a));let m=await b.getElementRects({reference:l,floating:a,strategy:E}),{x:s,y:v}=Nt(m,u,d),g=u,R={},h=0;for(let C=0;C<w.length;C++){const{name:N,fn:_}=w[C],{x:H,y:j,data:G,reset:M}=await _({x:s,y:v,initialPlacement:u,placement:g,strategy:E,middlewareData:R,rects:m,platform:b,elements:{reference:l,floating:a}});s=H??s,v=j??v,R={...R,[N]:{...R[N],...G}},M&&h<=50&&(h++,typeof M=="object"&&(M.placement&&(g=M.placement),M.rects&&(m=M.rects===!0?await b.getElementRects({reference:l,floating:a,strategy:E}):M.rects),{x:s,y:v}=Nt(m,g,d)),C=-1)}return{x:s,y:v,placement:g,strategy:E,middlewareData:R}})(e,t,{...o,platform:i})};var Ge=typeof document<"u"?c.useLayoutEffect:c.useEffect;function Je(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!=0;)if(!Je(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!=0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!=0;){const i=o[r];if((i!=="_owner"||!e.$$typeof)&&!Je(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function Vt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zt(e,t){const n=Vt(e);return Math.round(t*n)/n}function Xt(e){const t=c.useRef(e);return Ge(()=>{t.current=e}),t}const Yn=(e,t)=>({..._n(e),options:[e,t]}),$n=(e,t)=>({...zn(e),options:[e,t]}),Gn=(e,t)=>({...Xn(e),options:[e,t]});function Ut(e){return c.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Yt={...wn},Jn=Yt.useInsertionEffect||(e=>e());function fe(e){const t=c.useRef(()=>{});return Jn(()=>{t.current=e}),c.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}let $t=0;function Te(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame($t);const i=()=>e?.focus({preventScroll:n});o?i():$t=requestAnimationFrame(i)}var ue=typeof document<"u"?c.useLayoutEffect:c.useEffect;function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}let Gt=!1,Qn=0;const Jt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Qn++,Qt=Yt.useId||function(){const[e,t]=c.useState(()=>Gt?Jt():void 0);return ue(()=>{e==null&&t(Jt())},[]),c.useEffect(()=>{Gt=!0},[]),e},Zn=c.createContext(null),er=c.createContext(null),dt=()=>{var e;return((e=c.useContext(Zn))==null?void 0:e.id)||null},Ze=()=>c.useContext(er);function Le(e){return"data-floating-ui-"+e}function Pe(e){const t=c.useRef(e);return ue(()=>{t.current=e}),t}const Zt=Le("safe-polygon");function pt(e,t,n){return n&&!De(n)?0:typeof e=="number"?e:e?.[t]}function Ae(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(l=>{var a;return o.parentId===l.id&&((a=o.context)==null?void 0:a.open)})}),n=n.concat(r);return n}let Me=new WeakMap,et=new WeakSet,tt={},mt=0;const en=e=>e&&(e.host||en(e.parentNode)),tr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=en(n);return e.contains(r)?r:null}).filter(n=>n!=null);function tn(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=oe(e[0]).body;return function(o,i,l,a){const f="data-floating-ui-inert",u=a?"inert":l?"aria-hidden":null,E=tr(i,o),y=new Set,b=new Set(E),w=[];tt[f]||(tt[f]=new WeakMap);const d=tt[f];return E.forEach(function m(s){s&&!y.has(s)&&(y.add(s),s.parentNode&&m(s.parentNode))}),function m(s){s&&!b.has(s)&&[].forEach.call(s.children,v=>{if(ae(v)!=="script")if(y.has(v))m(v);else{const g=u?v.getAttribute(u):null,R=g!==null&&g!=="false",h=(Me.get(v)||0)+1,C=(d.get(v)||0)+1;Me.set(v,h),d.set(v,C),w.push(v),h===1&&R&&et.add(v),C===1&&v.setAttribute(f,""),!R&&u&&v.setAttribute(u,"true")}})}(i),y.clear(),mt++,()=>{w.forEach(m=>{const s=(Me.get(m)||0)-1,v=(d.get(m)||0)-1;Me.set(m,s),d.set(m,v),s||(!et.has(m)&&u&&m.removeAttribute(u),et.delete(m)),v||m.removeAttribute(f)}),mt--,mt||(Me=new WeakMap,Me=new WeakMap,et=new WeakSet,tt={})}}(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Ne=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function nn(e,t){const n=$e(e,Ne());t==="prev"&&n.reverse();const r=n.indexOf(ye(oe(e)));return n.slice(r+1)[0]}function rn(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!re(n,r)}const on={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};function ln(e){e.key==="Tab"&&(e.target,clearTimeout(void 0))}const cn=c.forwardRef(function(e,t){const[n,r]=c.useState();ue(()=>(/apple/i.test(navigator.vendor)&&r("button"),document.addEventListener("keydown",ln),()=>{document.removeEventListener("keydown",ln)}),[]);const o={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[Le("focus-guard")]:"",style:on};return c.createElement("span",Qe({},e,o))}),nr=c.createContext(null),vt="data-floating-ui-focusable",un=20;let Ee=[];function gt(e){Ee=Ee.filter(n=>n.isConnected);let t=e;if(t&&ae(t)!=="body"){if(!Bn(t,Ne())){const n=$e(t,Ne())[0];n&&(t=n)}Ee.push(t),Ee.length>un&&(Ee=Ee.slice(-un))}}function sn(){return Ee.slice().reverse().find(e=>e.isConnected)}const rr=c.forwardRef(function(e,t){return c.createElement("button",Qe({},e,{type:"button",ref:t,tabIndex:-1,style:on}))});function or(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:l=0,returnFocus:a=!0,restoreFocus:f=!1,modal:u=!0,visuallyHiddenDismiss:E=!1,closeOnFocusOut:y=!0}=e,{open:b,refs:w,nodeId:d,onOpenChange:m,events:s,dataRef:v,floatingId:g,elements:{domReference:R,floating:h}}=t,C=typeof l=="number"&&l<0,N=!!(_=R)&&_.getAttribute("role")==="combobox"&&kt(_)&&C;var _;const H=typeof HTMLElement>"u"||!("inert"in HTMLElement.prototype)||i,j=Pe(o),G=Pe(l),M=Pe(a),p=Ze(),S=c.useContext(nr),V=c.useRef(null),z=c.useRef(null),q=c.useRef(!1),I=c.useRef(!1),Y=c.useRef(-1),te=S!=null,D=(Q=h)?Q.hasAttribute(vt)?Q:Q.querySelector("["+vt+"]")||Q:null;var Q;const K=fe(function(T){return T===void 0&&(T=D),T?$e(T,Ne()):[]}),$=fe(T=>{const W=K(T);return j.current.map(k=>R&&k==="reference"?R:D&&k==="floating"?D:W).filter(Boolean).flat()});function U(T){return!r&&E&&u?c.createElement(rr,{ref:T==="start"?V:z,onClick:W=>m(!1,W.nativeEvent)},typeof E=="string"?E:"Dismiss"):null}c.useEffect(()=>{q.current=!1},[r]),c.useEffect(()=>{if(r||!u)return;function T(k){if(k.key==="Tab"){re(D,ye(oe(D)))&&K().length===0&&!N&&ut(k);const x=$(),L=ve(k);j.current[0]==="reference"&&L===R&&(ut(k),k.shiftKey?Te(x[x.length-1]):Te(x[1])),j.current[1]==="floating"&&L===D&&k.shiftKey&&(ut(k),Te(x[0]))}}const W=oe(D);return W.addEventListener("keydown",T),()=>{W.removeEventListener("keydown",T)}},[r,R,D,u,j,N,K,$]),c.useEffect(()=>{if(!r&&h)return h.addEventListener("focusin",T),()=>{h.removeEventListener("focusin",T)};function T(W){const k=ve(W),x=K().indexOf(k);x!==-1&&(Y.current=x)}},[r,h,K]),c.useEffect(()=>{if(!r&&y)return h&&ne(R)?(R.addEventListener("focusout",W),R.addEventListener("pointerdown",T),h.addEventListener("focusout",W),()=>{R.removeEventListener("focusout",W),R.removeEventListener("pointerdown",T),h.removeEventListener("focusout",W)}):void 0;function T(){I.current=!0,setTimeout(()=>{I.current=!1})}function W(k){const x=k.relatedTarget;queueMicrotask(()=>{const L=!(re(R,x)||re(h,x)||re(x,h)||re(S?.portalNode,x)||x!=null&&x.hasAttribute(Le("focus-guard"))||p&&(Ae(p.nodesRef.current,d).find(P=>{var A,X;return re((A=P.context)==null?void 0:A.elements.floating,x)||re((X=P.context)==null?void 0:X.elements.domReference,x)})||function(P,A){var X;let F=[],B=(X=P.find(J=>J.id===A))==null?void 0:X.parentId;for(;B;){const J=P.find(Z=>Z.id===B);B=J?.parentId,J&&(F=F.concat(J))}return F}(p.nodesRef.current,d).find(P=>{var A,X;return((A=P.context)==null?void 0:A.elements.floating)===x||((X=P.context)==null?void 0:X.elements.domReference)===x})));if(f&&L&&ye(oe(D))===oe(D).body){ne(D)&&D.focus();const P=Y.current,A=K(),X=A[P]||A[A.length-1]||D;ne(X)&&X.focus()}!N&&u||!x||!L||I.current||x===sn()||(q.current=!0,m(!1,k,"focus-out"))})}},[r,R,h,D,u,d,p,S,m,y,f,K,N]),c.useEffect(()=>{var T;if(r)return;const W=Array.from((S==null||(T=S.portalNode)==null?void 0:T.querySelectorAll("["+Le("portal")+"]"))||[]);if(h){const k=[h,...W,V.current,z.current,j.current.includes("reference")||N?R:null].filter(L=>L!=null),x=u||N?tn(k,H,!H):tn(k);return()=>{x()}}},[r,R,h,u,j,S,N,H]),ue(()=>{if(r||!ne(D))return;const T=ye(oe(D));queueMicrotask(()=>{const W=$(D),k=G.current,x=(typeof k=="number"?W[k]:k.current)||D,L=re(D,T);C||L||!b||Te(x,{preventScroll:x===D})})},[r,b,D,C,$,G]),ue(()=>{if(r||!D)return;let T=!1;const W=oe(D),k=ye(W);let x=v.current.openEvent;const L=w.domReference.current;function P(A){let{open:X,reason:F,event:B,nested:J}=A;X&&(x=B),F==="escape-key"&&w.domReference.current&&gt(w.domReference.current),F==="hover"&&B.type==="mouseleave"&&(q.current=!0),F==="outside-press"&&(J?(q.current=!1,T=!0):q.current=!(function(Z){return!(Z.mozInputSource!==0||!Z.isTrusted)||(lt()&&Z.pointerType?Z.type==="click"&&Z.buttons===1:Z.detail===0&&!Z.pointerType)}(B)||Cn(B)))}return gt(k),s.on("openchange",P),()=>{s.off("openchange",P);const A=ye(W),X=re(h,A)||p&&Ae(p.nodesRef.current,d).some(J=>{var Z;return re((Z=J.context)==null?void 0:Z.elements.floating,A)});(X||x&&["click","mousedown"].includes(x.type))&&w.domReference.current&&gt(w.domReference.current);const F=L||k,B=$e(oe(F).body,Ne());queueMicrotask(()=>{let J=sn();!J&&ne(F)&&h&&(J=function(Z,Ie,ie){const se=Z.indexOf(Ie);function pe(yt){const bn=Le("focus-guard");let Fe=se+(yt?1:0),Re=Z[Fe];for(;Re&&(!Re.isConnected||Re.hasAttribute(bn)||re(ie,Re));)yt?Fe++:Fe--,Re=Z[Fe];return Re}return pe(!0)||pe(!1)}(B,F,h)),M.current&&!q.current&&ne(J)&&(J===A||A===W.body||X)&&J.focus({preventScroll:T})})}},[r,h,D,M,v,w,s,p,d]),ue(()=>{if(!r&&S)return S.setFocusManagerState({modal:u,closeOnFocusOut:y,open:b,onOpenChange:m,refs:w}),()=>{S.setFocusManagerState(null)}},[r,S,u,b,m,w,y]),ue(()=>{if(r||!D||typeof MutationObserver!="function"||C)return;const T=()=>{const k=D.getAttribute("tabindex"),x=K(),L=ye(oe(h)),P=x.indexOf(L);P!==-1&&(Y.current=P),j.current.includes("floating")||L!==w.domReference.current&&x.length===0?k!=="0"&&D.setAttribute("tabindex","0"):k!=="-1"&&D.setAttribute("tabindex","-1")};T();const W=new MutationObserver(T);return W.observe(D,{childList:!0,subtree:!0,attributes:!0}),()=>{W.disconnect()}},[r,h,D,w,j,K,C]);const O=!r&&H&&(!u||!N)&&(te||u);return c.createElement(c.Fragment,null,O&&c.createElement(cn,{"data-type":"inside",ref:S?.beforeInsideRef,onFocus:T=>{if(u){const k=$();Te(o[0]==="reference"?k[0]:k[k.length-1])}else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(q.current=!1,rn(T,S.portalNode)){const k=nn(document.body,"next")||R;k?.focus()}else{var W;(W=S.beforeOutsideRef.current)==null||W.focus()}}}),!N&&U("start"),n,U("end"),O&&c.createElement(cn,{"data-type":"inside",ref:S?.afterInsideRef,onFocus:T=>{if(u)Te($()[0]);else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(y&&(q.current=!0),rn(T,S.portalNode)){const k=nn(document.body,"prev")||R;k?.focus()}else{var W;(W=S.afterOutsideRef.current)==null||W.focus()}}}))}function an(e){return ne(e.target)&&e.target.tagName==="BUTTON"}function fn(e){return kt(e)}const ir={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},lr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},dn=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null&&t,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)==null||n}};function cr(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Qt(),i=c.useRef({}),[l]=c.useState(()=>function(){const w=new Map;return{emit(d,m){var s;(s=w.get(d))==null||s.forEach(v=>v(m))},on(d,m){w.set(d,[...w.get(d)||[],m])},off(d,m){var s;w.set(d,((s=w.get(d))==null?void 0:s.filter(v=>v!==m))||[])}}}()),a=dt()!=null,[f,u]=c.useState(r.reference),E=fe((w,d,m)=>{i.current.openEvent=w?d:void 0,l.emit("openchange",{open:w,event:d,reason:m,nested:a}),n?.(w,d,m)}),y=c.useMemo(()=>({setPositionReference:u}),[]),b=c.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return c.useMemo(()=>({dataRef:i,open:t,onOpenChange:E,elements:b,events:l,floatingId:o,refs:y}),[t,E,b,l,o,y])}function ur(e){e===void 0&&(e={});const{nodeId:t}=e,n=cr({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,l]=c.useState(null),[a,f]=c.useState(null),u=o?.reference||i,E=c.useRef(null),y=Ze();ue(()=>{u&&(E.current=u)},[u]);const b=function(g){g===void 0&&(g={});const{placement:R="bottom",strategy:h="absolute",middleware:C=[],platform:N,elements:{reference:_,floating:H}={},transform:j=!0,whileElementsMounted:G,open:M}=g,[p,S]=c.useState({x:0,y:0,strategy:h,placement:R,middlewareData:{},isPositioned:!1}),[V,z]=c.useState(C);Je(V,C)||z(C);const[q,I]=c.useState(null),[Y,te]=c.useState(null),D=c.useCallback(B=>{B!==U.current&&(U.current=B,I(B))},[]),Q=c.useCallback(B=>{B!==O.current&&(O.current=B,te(B))},[]),K=_||q,$=H||Y,U=c.useRef(null),O=c.useRef(null),T=c.useRef(p),W=G!=null,k=Xt(G),x=Xt(N),L=c.useCallback(()=>{if(!U.current||!O.current)return;const B={placement:R,strategy:h,middleware:V};x.current&&(B.platform=x.current),Un(U.current,O.current,B).then(J=>{const Z={...J,isPositioned:!0};P.current&&!Je(T.current,Z)&&(T.current=Z,xn.flushSync(()=>{S(Z)}))})},[V,R,h,x]);Ge(()=>{M===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,S(B=>({...B,isPositioned:!1})))},[M]);const P=c.useRef(!1);Ge(()=>(P.current=!0,()=>{P.current=!1}),[]),Ge(()=>{if(K&&(U.current=K),$&&(O.current=$),K&&$){if(k.current)return k.current(K,$,L);L()}},[K,$,L,k,W]);const A=c.useMemo(()=>({reference:U,floating:O,setReference:D,setFloating:Q}),[D,Q]),X=c.useMemo(()=>({reference:K,floating:$}),[K,$]),F=c.useMemo(()=>{const B={position:h,left:0,top:0};if(!X.floating)return B;const J=zt(X.floating,p.x),Z=zt(X.floating,p.y);return j?{...B,transform:"translate("+J+"px, "+Z+"px)",...Vt(X.floating)>=1.5&&{willChange:"transform"}}:{position:h,left:J,top:Z}},[h,j,X.floating,p.x,p.y]);return c.useMemo(()=>({...p,update:L,refs:A,elements:X,floatingStyles:F}),[p,L,A,X,F])}({...e,elements:{...o,...a&&{reference:a}}}),w=c.useCallback(g=>{const R=ee(g)?{getBoundingClientRect:()=>g.getBoundingClientRect(),contextElement:g}:g;f(R),b.refs.setReference(R)},[b.refs]),d=c.useCallback(g=>{(ee(g)||g===null)&&(E.current=g,l(g)),(ee(b.refs.reference.current)||b.refs.reference.current===null||g!==null&&!ee(g))&&b.refs.setReference(g)},[b.refs]),m=c.useMemo(()=>({...b.refs,setReference:d,setPositionReference:w,domReference:E}),[b.refs,d,w]),s=c.useMemo(()=>({...b.elements,domReference:u}),[b.elements,u]),v=c.useMemo(()=>({...b,...r,refs:m,elements:s,nodeId:t}),[b,m,s,t,r]);return ue(()=>{r.dataRef.current.floatingContext=v;const g=y?.nodesRef.current.find(R=>R.id===t);g&&(g.context=v)}),c.useMemo(()=>({...b,context:v,refs:m,elements:s}),[b,m,s,v])}const pn="active",mn="selected";function ht(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[pn]:l,[mn]:a,...f}=e;i=f}return{...n==="floating"&&{tabIndex:-1,[vt]:""},...i,...t.map(l=>{const a=l?l[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((l,a)=>(a&&Object.entries(a).forEach(f=>{let[u,E]=f;var y;o&&[pn,mn].includes(u)||(u.indexOf("on")===0?(r.has(u)||r.set(u,[]),typeof E=="function"&&((y=r.get(u))==null||y.push(E),l[u]=function(){for(var b,w=arguments.length,d=new Array(w),m=0;m<w;m++)d[m]=arguments[m];return(b=r.get(u))==null?void 0:b.map(s=>s(...d)).find(s=>s!==void 0)})):l[u]=E)}),l),{})}}const sr=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function vn(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let l=0,a=i-1;l<i;a=l++){const[f,u]=t[l]||[0,0],[E,y]=t[a]||[0,0];u>=r!=y>=r&&n<=(E-f)*(r-u)/(y-u)+f&&(o=!o)}return o}function ar(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,l=null,a=null,f=performance.now();const u=E=>{let{x:y,y:b,placement:w,elements:d,onClose:m,nodeId:s,tree:v}=E;return function(g){function R(){clearTimeout(o),m()}if(clearTimeout(o),!d.domReference||!d.floating||w==null||y==null||b==null)return;const{clientX:h,clientY:C}=g,N=[h,C],_=ve(g),H=g.type==="mouseleave",j=re(d.floating,_),G=re(d.domReference,_),M=d.domReference.getBoundingClientRect(),p=d.floating.getBoundingClientRect(),S=w.split("-")[0],V=y>p.right-p.width/2,z=b>p.bottom-p.height/2,q=function(U,O){return U[0]>=O.x&&U[0]<=O.x+O.width&&U[1]>=O.y&&U[1]<=O.y+O.height}(N,M),I=p.width>M.width,Y=p.height>M.height,te=(I?M:p).left,D=(I?M:p).right,Q=(Y?M:p).top,K=(Y?M:p).bottom;if(j&&(i=!0,!H))return;if(G&&(i=!1),G&&!H)return void(i=!0);if(H&&ee(g.relatedTarget)&&re(d.floating,g.relatedTarget)||v&&Ae(v.nodesRef.current,s).some(U=>{let{context:O}=U;return O?.open}))return;if(S==="top"&&b>=M.bottom-1||S==="bottom"&&b<=M.top+1||S==="left"&&y>=M.right-1||S==="right"&&y<=M.left+1)return R();let $=[];switch(S){case"top":$=[[te,M.top+1],[te,p.bottom-1],[D,p.bottom-1],[D,M.top+1]];break;case"bottom":$=[[te,p.top+1],[te,M.bottom-1],[D,M.bottom-1],[D,p.top+1]];break;case"left":$=[[p.right-1,K],[p.right-1,Q],[M.left+1,Q],[M.left+1,K]];break;case"right":$=[[M.right-1,K],[M.right-1,Q],[p.left+1,Q],[p.left+1,K]]}if(!vn([h,C],$)){if(i&&!q)return R();if(!H&&r){const U=function(O,T){const W=performance.now(),k=W-f;if(l===null||a===null||k===0)return l=O,a=T,f=W,null;const x=O-l,L=T-a,P=Math.sqrt(x*x+L*L);return l=O,a=T,f=W,P/k}(g.clientX,g.clientY);if(U!==null&&U<.1)return R()}vn([h,C],function(U){let[O,T]=U;switch(S){case"top":return[[I?O+t/2:V?O+4*t:O-4*t,T+t+1],[I?O-t/2:V?O+4*t:O-4*t,T+t+1],[p.left,V||I?p.bottom-t:p.top],[p.right,V?I?p.bottom-t:p.top:p.bottom-t]];case"bottom":return[[I?O+t/2:V?O+4*t:O-4*t,T-t],[I?O-t/2:V?O+4*t:O-4*t,T-t],[p.left,V||I?p.top+t:p.bottom],[p.right,V?I?p.top+t:p.bottom:p.top+t]];case"left":{const W=[O+t+1,Y?T+t/2:z?T+4*t:T-4*t],k=[O+t+1,Y?T-t/2:z?T+4*t:T-4*t];return[[z||Y?p.right-t:p.left,p.top],[z?Y?p.right-t:p.left:p.right-t,p.bottom],W,k]}case"right":return[[O-t,Y?T+t/2:z?T+4*t:T-4*t],[O-t,Y?T-t/2:z?T+4*t:T-4*t],[z||Y?p.left+t:p.right,p.top],[z?Y?p.left+t:p.right:p.left+t,p.bottom]]}}([y,b]))?!i&&r&&(o=window.setTimeout(R,40)):R()}}};return u.__options={blockPointerEvents:n},u}function fr(){let{placement:e="bottom",modal:t,open:n,onOpenChange:r,trigger:o}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{context:i,floatingStyles:l,refs:a}=ur({middleware:[Yn(5),Gn(),$n()],onOpenChange:r,open:n,placement:e,whileElementsMounted:Vn}),f=function(d,m){m===void 0&&(m={});const{open:s,onOpenChange:v,elements:g,dataRef:R}=d,{enabled:h=!0,escapeKey:C=!0,outsidePress:N=!0,outsidePressEvent:_="pointerdown",referencePress:H=!1,referencePressEvent:j="pointerdown",ancestorScroll:G=!1,bubbles:M,capture:p}=m,S=Ze(),V=fe(typeof N=="function"?N:()=>!1),z=typeof N=="function"?V:N,q=c.useRef(!1),I=c.useRef(!1),{escapeKey:Y,outsidePress:te}=dn(M),{escapeKey:D,outsidePress:Q}=dn(p),K=fe(k=>{var x;if(!s||!h||!C||k.key!=="Escape")return;const L=(x=R.current.floatingContext)==null?void 0:x.nodeId,P=S?Ae(S.nodesRef.current,L):[];if(!Y&&(k.stopPropagation(),P.length>0)){let A=!0;if(P.forEach(X=>{var F;(F=X.context)==null||!F.open||X.context.dataRef.current.__escapeKeyBubbles||(A=!1)}),!A)return}v(!1,function(A){return"nativeEvent"in A}(k)?k.nativeEvent:k,"escape-key")}),$=fe(k=>{var x;const L=()=>{var P;K(k),(P=ve(k))==null||P.removeEventListener("keydown",L)};(x=ve(k))==null||x.addEventListener("keydown",L)}),U=fe(k=>{var x;const L=q.current;q.current=!1;const P=I.current;if(I.current=!1,_==="click"&&P||L||typeof z=="function"&&!z(k))return;const A=ve(k),X="["+Le("inert")+"]",F=oe(g.floating).querySelectorAll(X);let B=ee(A)?A:null;for(;B&&!ke(B);){const ie=he(B);if(ke(ie)||!ee(ie))break;B=ie}if(F.length&&ee(A)&&!A.matches("html,body")&&!re(A,g.floating)&&Array.from(F).every(ie=>!re(B,ie)))return;if(ne(A)&&W){const ie=A.clientWidth>0&&A.scrollWidth>A.clientWidth,se=A.clientHeight>0&&A.scrollHeight>A.clientHeight;let pe=se&&k.offsetX>A.clientWidth;if(se&&ce(A).direction==="rtl"&&(pe=k.offsetX<=A.offsetWidth-A.clientWidth),pe||ie&&k.offsetY>A.clientHeight)return}const J=(x=R.current.floatingContext)==null?void 0:x.nodeId,Z=S&&Ae(S.nodesRef.current,J).some(ie=>{var se;return ct(k,(se=ie.context)==null?void 0:se.elements.floating)});if(ct(k,g.floating)||ct(k,g.domReference)||Z)return;const Ie=S?Ae(S.nodesRef.current,J):[];if(Ie.length>0){let ie=!0;if(Ie.forEach(se=>{var pe;(pe=se.context)==null||!pe.open||se.context.dataRef.current.__outsidePressBubbles||(ie=!1)}),!ie)return}v(!1,k,"outside-press")}),O=fe(k=>{var x;const L=()=>{var P;U(k),(P=ve(k))==null||P.removeEventListener(_,L)};(x=ve(k))==null||x.addEventListener(_,L)});c.useEffect(()=>{if(!s||!h)return;function k(P){v(!1,P,"ancestor-scroll")}R.current.__escapeKeyBubbles=Y,R.current.__outsidePressBubbles=te;const x=oe(g.floating);C&&x.addEventListener("keydown",D?$:K,D),z&&x.addEventListener(_,Q?O:U,Q);let L=[];return G&&(ee(g.domReference)&&(L=me(g.domReference)),ee(g.floating)&&(L=L.concat(me(g.floating))),!ee(g.reference)&&g.reference&&g.reference.contextElement&&(L=L.concat(me(g.reference.contextElement)))),L=L.filter(P=>{var A;return P!==((A=x.defaultView)==null?void 0:A.visualViewport)}),L.forEach(P=>{P.addEventListener("scroll",k,{passive:!0})}),()=>{C&&x.removeEventListener("keydown",D?$:K,D),z&&x.removeEventListener(_,Q?O:U,Q),L.forEach(P=>{P.removeEventListener("scroll",k)})}},[R,g,C,z,_,s,v,G,h,Y,te,K,D,$,U,Q,O]),c.useEffect(()=>{q.current=!1},[z,_]);const T=c.useMemo(()=>({onKeyDown:K,[ir[j]]:k=>{H&&v(!1,k.nativeEvent,"reference-press")}}),[K,v,H,j]),W=c.useMemo(()=>({onKeyDown:K,onMouseDown(){I.current=!0},onMouseUp(){I.current=!0},[lr[_]]:()=>{q.current=!0}}),[K,_]);return c.useMemo(()=>h?{reference:T,floating:W}:{},[h,T,W])}(i),u=function(d,m){var s;m===void 0&&(m={});const{open:v,floatingId:g}=d,{enabled:R=!0,role:h="dialog"}=m,C=(s=sr.get(h))!=null?s:h,N=Qt(),_=dt()!=null,H=c.useMemo(()=>C==="tooltip"||h==="label"?{["aria-"+(h==="label"?"labelledby":"describedby")]:v?g:void 0}:{"aria-expanded":v?"true":"false","aria-haspopup":C==="alertdialog"?"dialog":C,"aria-controls":v?g:void 0,...C==="listbox"&&{role:"combobox"},...C==="menu"&&{id:N},...C==="menu"&&_&&{role:"menuitem"},...h==="select"&&{"aria-autocomplete":"none"},...h==="combobox"&&{"aria-autocomplete":"list"}},[C,g,_,v,N,h]),j=c.useMemo(()=>{const M={id:g,...C&&{role:C}};return C==="tooltip"||h==="label"?M:{...M,...C==="menu"&&{"aria-labelledby":N}}},[C,g,N,h]),G=c.useCallback(M=>{let{active:p,selected:S}=M;const V={role:"option",...p&&{id:g+"-option"}};switch(h){case"select":return{...V,"aria-selected":p&&S};case"combobox":return{...V,...p&&{"aria-selected":!0}}}return{}},[g,h]);return c.useMemo(()=>R?{reference:H,floating:j,item:G}:{},[R,H,j,G])}(i),E=function(d,m){m===void 0&&(m={});const{open:s,onOpenChange:v,dataRef:g,elements:{domReference:R}}=d,{enabled:h=!0,event:C="click",toggle:N=!0,ignoreMouse:_=!1,keyboardHandlers:H=!0}=m,j=c.useRef(),G=c.useRef(!1),M=c.useMemo(()=>({onPointerDown(p){j.current=p.pointerType},onMouseDown(p){const S=j.current;p.button===0&&C!=="click"&&(De(S,!0)&&_||(!s||!N||g.current.openEvent&&g.current.openEvent.type!=="mousedown"?(p.preventDefault(),v(!0,p.nativeEvent,"click")):v(!1,p.nativeEvent,"click")))},onClick(p){const S=j.current;C==="mousedown"&&j.current?j.current=void 0:De(S,!0)&&_||(!s||!N||g.current.openEvent&&g.current.openEvent.type!=="click"?v(!0,p.nativeEvent,"click"):v(!1,p.nativeEvent,"click"))},onKeyDown(p){j.current=void 0,p.defaultPrevented||!H||an(p)||(p.key!==" "||fn(R)||(p.preventDefault(),G.current=!0),p.key==="Enter"&&v(!s||!N,p.nativeEvent,"click"))},onKeyUp(p){p.defaultPrevented||!H||an(p)||fn(R)||p.key===" "&&G.current&&(G.current=!1,v(!s||!N,p.nativeEvent,"click"))}}),[g,R,C,_,H,v,s,N]);return c.useMemo(()=>h?{reference:M}:{},[h,M])}(i,{enabled:o==="onclick"}),y=function(d,m){m===void 0&&(m={});const{open:s,onOpenChange:v,dataRef:g,events:R,elements:h}=d,{enabled:C=!0,delay:N=0,handleClose:_=null,mouseOnly:H=!1,restMs:j=0,move:G=!0}=m,M=Ze(),p=dt(),S=Pe(_),V=Pe(N),z=Pe(s),q=c.useRef(),I=c.useRef(-1),Y=c.useRef(),te=c.useRef(-1),D=c.useRef(!0),Q=c.useRef(!1),K=c.useRef(()=>{}),$=c.useCallback(()=>{var x;const L=(x=g.current.openEvent)==null?void 0:x.type;return L?.includes("mouse")&&L!=="mousedown"},[g]);c.useEffect(()=>{if(C)return R.on("openchange",x),()=>{R.off("openchange",x)};function x(L){let{open:P}=L;P||(clearTimeout(I.current),clearTimeout(te.current),D.current=!0)}},[C,R]),c.useEffect(()=>{if(!C||!S.current||!s)return;function x(P){$()&&v(!1,P,"hover")}const L=oe(h.floating).documentElement;return L.addEventListener("mouseleave",x),()=>{L.removeEventListener("mouseleave",x)}},[h.floating,s,v,C,S,$]);const U=c.useCallback(function(x,L,P){L===void 0&&(L=!0),P===void 0&&(P="hover");const A=pt(V.current,"close",q.current);A&&!Y.current?(clearTimeout(I.current),I.current=window.setTimeout(()=>v(!1,x,P),A)):L&&(clearTimeout(I.current),v(!1,x,P))},[V,v]),O=fe(()=>{K.current(),Y.current=void 0}),T=fe(()=>{if(Q.current){const x=oe(h.floating).body;x.style.pointerEvents="",x.removeAttribute(Zt),Q.current=!1}});c.useEffect(()=>{if(C&&ee(h.domReference)){var x;const F=h.domReference;return s&&F.addEventListener("mouseleave",X),(x=h.floating)==null||x.addEventListener("mouseleave",X),G&&F.addEventListener("mousemove",P,{once:!0}),F.addEventListener("mouseenter",P),F.addEventListener("mouseleave",A),()=>{var B;s&&F.removeEventListener("mouseleave",X),(B=h.floating)==null||B.removeEventListener("mouseleave",X),G&&F.removeEventListener("mousemove",P),F.removeEventListener("mouseenter",P),F.removeEventListener("mouseleave",A)}}function L(){return!!g.current.openEvent&&["click","mousedown"].includes(g.current.openEvent.type)}function P(F){if(clearTimeout(I.current),D.current=!1,H&&!De(q.current)||j>0&&!pt(V.current,"open"))return;const B=pt(V.current,"open",q.current);B?I.current=window.setTimeout(()=>{z.current||v(!0,F,"hover")},B):v(!0,F,"hover")}function A(F){if(L())return;K.current();const B=oe(h.floating);if(clearTimeout(te.current),S.current&&g.current.floatingContext){s||clearTimeout(I.current),Y.current=S.current({...g.current.floatingContext,tree:M,x:F.clientX,y:F.clientY,onClose(){T(),O(),U(F,!0,"safe-polygon")}});const J=Y.current;return B.addEventListener("mousemove",J),void(K.current=()=>{B.removeEventListener("mousemove",J)})}(q.current!=="touch"||!re(h.floating,F.relatedTarget))&&U(F)}function X(F){L()||g.current.floatingContext&&(S.current==null||S.current({...g.current.floatingContext,tree:M,x:F.clientX,y:F.clientY,onClose(){T(),O(),U(F)}})(F))}},[h,C,d,H,j,G,U,O,T,v,s,z,M,V,S,g]),ue(()=>{var x;if(C&&s&&(x=S.current)!=null&&x.__options.blockPointerEvents&&$()){Q.current=!0;const P=h.floating;if(ee(h.domReference)&&P){var L;const A=oe(h.floating).body;A.setAttribute(Zt,"");const X=h.domReference,F=M==null||(L=M.nodesRef.current.find(B=>B.id===p))==null||(L=L.context)==null?void 0:L.elements.floating;return F&&(F.style.pointerEvents=""),A.style.pointerEvents="none",X.style.pointerEvents="auto",P.style.pointerEvents="auto",()=>{A.style.pointerEvents="",X.style.pointerEvents="",P.style.pointerEvents=""}}}},[C,s,p,h,M,S,$]),ue(()=>{s||(q.current=void 0,O(),T())},[s,O,T]),c.useEffect(()=>()=>{O(),clearTimeout(I.current),clearTimeout(te.current),T()},[C,h.domReference,O,T]);const W=c.useMemo(()=>{function x(L){q.current=L.pointerType}return{onPointerDown:x,onPointerEnter:x,onMouseMove(L){const{nativeEvent:P}=L;function A(){D.current||z.current||v(!0,P,"hover")}H&&!De(q.current)||s||j===0||(clearTimeout(te.current),q.current==="touch"?A():te.current=window.setTimeout(A,j))}}},[H,v,s,z,j]),k=c.useMemo(()=>({onMouseEnter(){clearTimeout(I.current)},onMouseLeave(x){U(x.nativeEvent,!1)}}),[U]);return c.useMemo(()=>C?{reference:W,floating:k}:{},[C,W,k])}(i,{enabled:o==="onhover",handleClose:ar()}),{getFloatingProps:b,getReferenceProps:w}=function(d){d===void 0&&(d=[]);const m=d.map(C=>C?.reference),s=d.map(C=>C?.floating),v=d.map(C=>C?.item),g=c.useCallback(C=>ht(C,d,"reference"),m),R=c.useCallback(C=>ht(C,d,"floating"),s),h=c.useCallback(C=>ht(C,d,"item"),v);return c.useMemo(()=>({getReferenceProps:g,getFloatingProps:R,getItemProps:h}),[g,R,h])}([f,u,E,y]);return{context:i,floatingStyles:l,getFloatingProps:b,getReferenceProps:w,modal:t,open:n,refs:a}}const gn=c.createContext(null),hn=()=>{const e=c.useContext(gn);if(e==null)throw new Error("Popup components must be wrapped in <PopupContext.Provider />");return e},dr=c.forwardRef((e,t)=>{const{context:n,floatingStyles:r,getFloatingProps:o,modal:i,refs:l}=hn(),a=Ut([l.setFloating,t]);if(!n.open)return null;const f=function(u,E){return u.advancedMode?u.customItems.filter(y=>yn(y)).map((y,b)=>c.createElement("li",{key:b,className:"popupmenu-custom-item",onClick:w=>{w.preventDefault(),w.stopPropagation(),E(y.action)}},y.content)):u.basicItems.filter(y=>yn(y)).map((y,b)=>{var w,d;if(y.itemType==="divider")return c.createElement("li",{key:b,className:"popupmenu-basic-divider"});{const m=y.styleClass!=="defaultStyle"?"popupmenu-basic-item-"+y.styleClass.replace("Style",""):"";return c.createElement("li",{key:b,className:wt("popupmenu-basic-item",m),onClick:s=>{s.preventDefault(),s.stopPropagation(),E(y.action)}},(d=(w=y.caption)===null||w===void 0?void 0:w.value)!==null&&d!==void 0?d:"")}})}(e,e.onItemClick);return c.createElement(or,{context:n,modal:i},c.createElement("div",{className:"widget-popupmenu-root"},c.createElement("ul",{ref:a,style:{...r,...e.style},...o?.({className:"popupmenu-menu"})},f)))});function yn(e){var t;return!Object.prototype.hasOwnProperty.call(e,"visible")||!!(!((t=e.visible)===null||t===void 0)&&t.value)}const pr=c.forwardRef((e,t)=>{let{children:n}=e;const{getReferenceProps:r,open:o,refs:i}=hn(),l=n.ref,a=Ut([i.setReference,t,l]);return c.createElement("div",{className:"popupmenu-trigger",ref:a,"data-state":o?"open":"closed",...r?.()},n)});function mr(e){const t=!!e.preview,[n,r]=c.useState(t&&e.menuToggle),o=fr({open:n,onOpenChange:r,placement:e.position,trigger:e.trigger}),i=c.useCallback(l=>{r(!1),En(l)},[]);return c.useEffect(()=>{r(e.menuToggle)},[e.menuToggle]),c.createElement(gn.Provider,{value:o},c.createElement("div",{className:wt("popupmenu",e.class)},c.createElement(pr,null,e.menuTrigger),c.createElement(dr,{...e,onItemClick:i})))}function vr(e){return c.createElement(mr,{...e})}var gr=Object.freeze({__proto__:null,default:vr});export{gr as w};
