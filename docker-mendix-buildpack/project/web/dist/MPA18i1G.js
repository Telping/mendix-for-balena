import{r,_ as m,a0 as l,a1 as x,S as n,U as g,W as b,X as f}from"./DTxgj959.js";const u=r.createContext("");class p extends r.Component{constructor(){super(...arguments),this.id=m(),this.onFocusHandler=this.onFocus.bind(this),this.onBlurHandler=this.onBlur.bind(this)}onFocus(){this.focused||(this.focused=!0,this.props.onEnter&&this.props.onEnter())}onBlur(e){this.isDescendant(e.relatedTarget??document.activeElement)?e.stopPropagation():(this.focused=!1,this.onLeave())}isDescendant(e){const t=l.findDOMNode(this);let s=e&&x(e);for(;s;){if(s===t||s.getAttribute("data-focuscontainer")===this.id)return!0;s=s.parentElement}return!1}onLeave(){this.props.onLeave&&this.props.onLeave()}componentWillUnmount(){this.focused&&this.onLeave()}render(){return n.jsx(u.Provider,{value:this.id,children:r.cloneElement(r.Children.only(this.props.children),{onFocus:this.onFocusHandler,onBlur:this.onBlurHandler})})}}const B=(a,e,t)=>l.createPortal(n.jsx(u.Consumer,{children:s=>r.cloneElement(r.Children.only(a),{ref:o=>{const i=l.findDOMNode(o);i!==null&&s&&i.setAttribute("data-focuscontainer",s)}})}),e,t);class C extends r.Component{constructor(){super(...arguments),this.onChangeHandler=this.onChange.bind(this),this.onFocusHandler=this.onFocus.bind(this),this.onBlurHandler=this.onBlur.bind(this)}getCaption(e){return this.props.value.formatter.format(e)}onChange(e){const t=this.props.value.universe.find(s=>s.toString()===e.target.value);this.props.value.setValue(t)}onFocus(){this.dispatchAction("onEnter")}onBlur(){this.dispatchAction("onLeave")}render(){return n.jsxs(r.Fragment,{children:[this.props.readOnlyStyle!=="control"&&this.props.value.readOnly?this.renderAsText():this.renderAsInput(),n.jsx(g,{id:`${this.props.id}-error`,validation:this.props.value.validation})]})}renderAsInput(){return n.jsx(p,{onEnter:this.onFocusHandler,onLeave:this.onBlurHandler,children:n.jsx("div",{id:this.props.id,className:"mx-radiogroup",...this.props.ariaLabel?{}:{"aria-labelledby":this.props.id+"-label"},role:"radiogroup",...b(this.props.ariaLabel?.value),...f(this.props.value.validation,this.props.id),"aria-required":this.props.ariaRequired,children:this.renderRadioButtons()})})}renderRadioButtons(){const e=this.props.value.universe;if(!e)return[];const t=this.props.value.value,s=t===void 0||e.includes(t)?[]:[t];return[...e,...s].map((o,i)=>this.renderRadioButton(o,i))}renderRadioButton(e,t){const{id:s,tabIndex:o,value:i}=this.props,{value:d,readOnly:c}=i,h=`${s}_${t}`,v=d===void 0&&t===0||d===e?o:-1;return n.jsxs("div",{className:"radio",children:[n.jsx("input",{type:"radio",id:h,name:s,value:e.toString(),checked:d===e,onChange:this.onChangeHandler,disabled:c,tabIndex:v}),n.jsx("label",{htmlFor:h,children:this.getCaption(e)})]},e.toString())}renderAsText(){return n.jsx("div",{className:"form-control-static",children:this.props.value.displayValue||"\xA0"})}dispatchAction(e){const t=this.props[e];this.props.value.status==="available"&&t&&t.execute()}}export{B as F,C as b,p as f};
