import{r as u,cA as Gt}from"./DTxgj959.js";import{r as Jt}from"./CXA2JgTM.js";var Qe,gt={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/Qe=gt,function(){var e={}.hasOwnProperty;function t(){for(var n=[],o=0;o<arguments.length;o++){var r=arguments[o];if(r){var i=typeof r;if(i==="string"||i==="number")n.push(r);else if(Array.isArray(r)){if(r.length){var l=t.apply(null,r);l&&n.push(l)}}else if(i==="object"){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){n.push(r.toString());continue}for(var c in r)e.call(r,c)&&r[c]&&n.push(c)}}}return n.join(" ")}Qe.exports?(t.default=t,Qe.exports=t):window.classNames=t}();var Qt=gt.exports;function je(){return typeof window<"u"}function we(e){return vt(e)?(e.nodeName||"").toLowerCase():"#document"}function ce(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function he(e){var t;return(t=(vt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vt(e){return!!je()&&(e instanceof Node||e instanceof ce(e).Node)}function $(e){return!!je()&&(e instanceof Element||e instanceof ce(e).Element)}function se(e){return!!je()&&(e instanceof HTMLElement||e instanceof ce(e).HTMLElement)}function Ze(e){return!(!je()||typeof ShadowRoot>"u")&&(e instanceof ShadowRoot||e instanceof ce(e).ShadowRoot)}function _e(e){const{overflow:t,overflowX:n,overflowY:o,display:r}=ae(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(r)}function Zt(e){return["table","td","th"].includes(we(e))}function en(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function et(e){const t=Ve(),n=$(e)?ae(e):e;return n.transform!=="none"||n.perspective!=="none"||!!n.containerType&&n.containerType!=="normal"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Ve(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function Ae(e){return["html","body","#document"].includes(we(e))}function ae(e){return ce(e).getComputedStyle(e)}function Ke(e){return $(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Pe(e){if(we(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ze(e)&&e.host||he(e);return Ze(t)?t.host:t}function ht(e){const t=Pe(e);return Ae(t)?e.ownerDocument?e.ownerDocument.body:e.body:se(t)&&_e(t)?t:ht(t)}function be(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=ht(e),i=r===((o=e.ownerDocument)==null?void 0:o.body),l=ce(r);if(i){const c=function(d){return d.parent&&Object.getPrototypeOf(d.parent)?d.frameElement:null}(l);return t.concat(l,l.visualViewport||[],_e(r)?r:[],c&&n?be(c):[])}return t.concat(r,be(r,[],n))}function yt(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function xe(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Ze(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function wt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function bt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:o}=t;return n+"/"+o}).join(" "):navigator.userAgent}function tn(e){return!bt().includes("jsdom/")&&(!xt()&&e.width===0&&e.height===0||xt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch")}function xt(){const e=/android/i;return e.test(wt())||e.test(bt())}function We(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function ke(e){return e?.ownerDocument||document}function tt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Ce(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Et(e){return se(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}const De=Math.min,Te=Math.max,Xe=Math.round,Ye=Math.floor,Ee=e=>({x:e,y:e}),nn={left:"right",right:"left",bottom:"top",top:"bottom"},on={start:"end",end:"start"};function nt(e,t,n){return Te(e,De(t,n))}function He(e,t){return typeof e=="function"?e(t):e}function Le(e){return e.split("-")[0]}function Ne(e){return e.split("-")[1]}function Rt(e){return e==="x"?"y":"x"}function ot(e){return e==="y"?"height":"width"}function ze(e){return["top","bottom"].includes(Le(e))?"y":"x"}function rt(e){return Rt(ze(e))}function rn(e,t,n){n===void 0&&(n=!1);const o=Ne(e),r=rt(e),i=ot(r);let l=r==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=qe(l)),[l,qe(l)]}function it(e){return e.replace(/start|end/g,t=>on[t])}function qe(e){return e.replace(/left|right|bottom|top/g,t=>nn[t])}function Pt(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function $e(e){const{x:t,y:n,width:o,height:r}=e;return{width:o,height:r,top:n,left:t,right:t+o,bottom:n+r,x:t,y:n}}function kt(e,t,n){let{reference:o,floating:r}=e;const i=ze(t),l=rt(t),c=ot(l),d=Le(t),f=i==="y",w=o.x+o.width/2-r.width/2,y=o.y+o.height/2-r.height/2,p=o[c]/2-r[c]/2;let m;switch(d){case"top":m={x:w,y:o.y-r.height};break;case"bottom":m={x:w,y:o.y+o.height};break;case"right":m={x:o.x+o.width,y};break;case"left":m={x:o.x-r.width,y};break;default:m={x:o.x,y:o.y}}switch(Ne(t)){case"start":m[l]-=p*(n&&f?-1:1);break;case"end":m[l]+=p*(n&&f?-1:1)}return m}async function Ct(e,t){var n;t===void 0&&(t={});const{x:o,y:r,platform:i,rects:l,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:w="viewport",elementContext:y="floating",altBoundary:p=!1,padding:m=0}=He(t,e),s=Pt(m),g=c[p?y==="floating"?"reference":"floating":y],v=$e(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(g)))==null||n?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:w,strategy:d})),C=y==="floating"?{...l.floating,x:o,y:r}:l.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(P))&&await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1},I=$e(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:C,offsetParent:P,strategy:d}):C);return{top:(v.top-I.top+s.top)/S.y,bottom:(I.bottom-v.bottom+s.bottom)/S.y,left:(v.left-I.left+s.left)/S.x,right:(I.right-v.right+s.right)/S.x}}const ln=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:r,y:i,placement:l,middlewareData:c}=t,d=await async function(f,w){const{placement:y,platform:p,elements:m}=f,s=await(p.isRTL==null?void 0:p.isRTL(m.floating)),g=Le(y),v=Ne(y),C=ze(y)==="y",P=["left","top"].includes(g)?-1:1,S=s&&C?-1:1,I=He(w,f);let{mainAxis:U,crossAxis:X,alignmentAxis:Y}=typeof I=="number"?{mainAxis:I,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...I};return v&&typeof Y=="number"&&(X=v==="end"?-1*Y:Y),C?{x:X*S,y:U*P}:{x:U*P,y:X*S}}(t,e);return l===((n=c.offset)==null?void 0:n.placement)&&(o=c.arrow)!=null&&o.alignmentOffset?{}:{x:r+d.x,y:i+d.y,data:{...d,placement:l}}}}};function Tt(e){const t=ae(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const r=se(e),i=r?e.offsetWidth:n,l=r?e.offsetHeight:o,c=Xe(n)!==i||Xe(o)!==l;return c&&(n=i,o=l),{width:n,height:o,$:c}}function lt(e){return $(e)?e:e.contextElement}function Oe(e){const t=lt(e);if(!se(t))return Ee(1);const n=t.getBoundingClientRect(),{width:o,height:r,$:i}=Tt(t);let l=(i?Xe(n.width):n.width)/o,c=(i?Xe(n.height):n.height)/r;return l&&Number.isFinite(l)||(l=1),c&&Number.isFinite(c)||(c=1),{x:l,y:c}}const cn=Ee(0);function Lt(e){const t=ce(e);return Ve()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:cn}function Me(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=lt(e);let l=Ee(1);t&&(o?$(o)&&(l=Oe(o)):l=Oe(e));const c=function(p,m,s){return m===void 0&&(m=!1),!(!s||m&&s!==ce(p))&&m}(i,n,o)?Lt(i):Ee(0);let d=(r.left+c.x)/l.x,f=(r.top+c.y)/l.y,w=r.width/l.x,y=r.height/l.y;if(i){const p=ce(i),m=o&&$(o)?ce(o):o;let s=p,g=s.frameElement;for(;g&&o&&m!==s;){const v=Oe(g),C=g.getBoundingClientRect(),P=ae(g),S=C.left+(g.clientLeft+parseFloat(P.paddingLeft))*v.x,I=C.top+(g.clientTop+parseFloat(P.paddingTop))*v.y;d*=v.x,f*=v.y,w*=v.x,y*=v.y,d+=S,f+=I,s=ce(g),g=s.frameElement}}return $e({width:w,height:y,x:d,y:f})}const sn=[":popover-open",":modal"];function Mt(e){return sn.some(t=>{try{return e.matches(t)}catch{return!1}})}function St(e){return Me(he(e)).left+Ke(e).scrollLeft}function At(e,t,n){let o;if(t==="viewport")o=function(r,i){const l=ce(r),c=he(r),d=l.visualViewport;let f=c.clientWidth,w=c.clientHeight,y=0,p=0;if(d){f=d.width,w=d.height;const m=Ve();(!m||m&&i==="fixed")&&(y=d.offsetLeft,p=d.offsetTop)}return{width:f,height:w,x:y,y:p}}(e,n);else if(t==="document")o=function(r){const i=he(r),l=Ke(r),c=r.ownerDocument.body,d=Te(i.scrollWidth,i.clientWidth,c.scrollWidth,c.clientWidth),f=Te(i.scrollHeight,i.clientHeight,c.scrollHeight,c.clientHeight);let w=-l.scrollLeft+St(r);const y=-l.scrollTop;return ae(c).direction==="rtl"&&(w+=Te(i.clientWidth,c.clientWidth)-d),{width:d,height:f,x:w,y}}(he(e));else if($(t))o=function(r,i){const l=Me(r,!0,i==="fixed"),c=l.top+r.clientTop,d=l.left+r.clientLeft,f=se(r)?Oe(r):Ee(1);return{width:r.clientWidth*f.x,height:r.clientHeight*f.y,x:d*f.x,y:c*f.y}}(t,n);else{const r=Lt(e);o={...t,x:t.x-r.x,y:t.y-r.y}}return $e(o)}function Dt(e,t){const n=Pe(e);return!(n===t||!$(n)||Ae(n))&&(ae(n).position==="fixed"||Dt(n,t))}function un(e,t,n){const o=se(t),r=he(t),i=n==="fixed",l=Me(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=Ee(0);if(o||!o&&!i)if((we(t)!=="body"||_e(r))&&(c=Ke(t)),o){const f=Me(t,!0,i,t);d.x=f.x+t.clientLeft,d.y=f.y+t.clientTop}else r&&(d.x=St(r));return{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function Ot(e,t){return se(e)&&ae(e).position!=="fixed"?t?t(e):e.offsetParent:null}function Ft(e,t){const n=ce(e);if(!se(e)||Mt(e))return n;let o=Ot(e,t);for(;o&&Zt(o)&&ae(o).position==="static";)o=Ot(o,t);return o&&(we(o)==="html"||we(o)==="body"&&ae(o).position==="static"&&!et(o))?n:o||function(r){let i=Pe(r);for(;se(i)&&!Ae(i);){if(et(i))return i;if(en(i))return null;i=Pe(i)}return null}(e)||n}const an={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:r}=e;const i=r==="fixed",l=he(o),c=!!t&&Mt(t.floating);if(o===l||c&&i)return n;let d={scrollLeft:0,scrollTop:0},f=Ee(1);const w=Ee(0),y=se(o);if((y||!y&&!i)&&((we(o)!=="body"||_e(l))&&(d=Ke(o)),se(o))){const p=Me(o);f=Oe(o),w.x=p.x+o.clientLeft,w.y=p.y+o.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+w.x,y:n.y*f.y-d.scrollTop*f.y+w.y}},getDocumentElement:he,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:r}=e;const i=[...n==="clippingAncestors"?function(d,f){const w=f.get(d);if(w)return w;let y=be(d,[],!1).filter(g=>$(g)&&we(g)!=="body"),p=null;const m=ae(d).position==="fixed";let s=m?Pe(d):d;for(;$(s)&&!Ae(s);){const g=ae(s),v=et(s);v||g.position!=="fixed"||(p=null),(m?!v&&!p:!v&&g.position==="static"&&p&&["absolute","fixed"].includes(p.position)||_e(s)&&!v&&Dt(d,s))?y=y.filter(C=>C!==s):p=g,s=Pe(s)}return f.set(d,y),y}(t,this._c):[].concat(n),o],l=i[0],c=i.reduce((d,f)=>{const w=At(t,f,r);return d.top=Te(w.top,d.top),d.right=De(w.right,d.right),d.bottom=De(w.bottom,d.bottom),d.left=Te(w.left,d.left),d},At(t,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},getOffsetParent:Ft,getElementRects:async function(e){const t=this.getOffsetParent||Ft,n=this.getDimensions;return{reference:un(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=Tt(e);return{width:t,height:n}},getScale:Oe,isElement:$,isRTL:function(e){return ae(e).direction==="rtl"}};function fn(e,t,n,o){o===void 0&&(o={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=o,f=lt(e),w=r||i?[...f?be(f):[],...be(t)]:[];w.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const y=f&&c?function(v,C){let P,S=null;const I=he(v);function U(){var X;clearTimeout(P),(X=S)==null||X.disconnect(),S=null}return function X(Y,z){Y===void 0&&(Y=!1),z===void 0&&(z=1),U();const{left:te,top:ne,width:k,height:a}=v.getBoundingClientRect();if(Y||C(),!k||!a)return;const T={rootMargin:-Ye(ne)+"px "+-Ye(I.clientWidth-(te+k))+"px "+-Ye(I.clientHeight-(ne+a))+"px "+-Ye(te)+"px",threshold:Te(0,De(1,z))||1};let R=!0;function b(A){const h=A[0].intersectionRatio;if(h!==z){if(!R)return X();h?X(!1,h):P=setTimeout(()=>{X(!1,1e-7)},100)}R=!1}try{S=new IntersectionObserver(b,{...T,root:I.ownerDocument})}catch{S=new IntersectionObserver(b,T)}S.observe(v)}(!0),U}(f,n):null;let p,m=-1,s=null;l&&(s=new ResizeObserver(v=>{let[C]=v;C&&C.target===f&&s&&(s.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var P;(P=s)==null||P.observe(t)})),n()}),f&&!d&&s.observe(f),s.observe(t));let g=d?Me(e):null;return d&&function v(){const C=Me(e);!g||C.x===g.x&&C.y===g.y&&C.width===g.width&&C.height===g.height||n(),g=C,p=requestAnimationFrame(v)}(),n(),()=>{var v;w.forEach(C=>{r&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),y?.(),(v=s)==null||v.disconnect(),s=null,d&&cancelAnimationFrame(p)}}const dn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:r}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:c={fn:v=>{let{x:C,y:P}=v;return{x:C,y:P}}},...d}=He(e,t),f={x:n,y:o},w=await Ct(t,d),y=ze(Le(r)),p=Rt(y);let m=f[p],s=f[y];if(i){const v=p==="y"?"bottom":"right";m=nt(m+w[p==="y"?"top":"left"],m,m-w[v])}if(l){const v=y==="y"?"bottom":"right";s=nt(s+w[y==="y"?"top":"left"],s,s-w[v])}const g=c.fn({...t,[p]:m,[y]:s});return{...g,data:{x:g.x-n,y:g.y-o}}}}},mn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:r,middlewareData:i,rects:l,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:w=!0,crossAxis:y=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:s="none",flipAlignment:g=!0,...v}=He(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=Le(r),P=Le(c)===c,S=await(d.isRTL==null?void 0:d.isRTL(f.floating)),I=p||(P||!g?[qe(c)]:function(a){const T=qe(a);return[it(a),T,it(T)]}(c));p||s==="none"||I.push(...function(a,T,R,b){const A=Ne(a);let h=function(E,V,K){const q=["left","right"],_=["right","left"],j=["top","bottom"],B=["bottom","top"];switch(E){case"top":case"bottom":return K?V?_:q:V?q:_;case"left":case"right":return V?j:B;default:return[]}}(Le(a),R==="start",b);return A&&(h=h.map(E=>E+"-"+A),T&&(h=h.concat(h.map(it)))),h}(c,g,s,S));const U=[c,...I],X=await Ct(t,v),Y=[];let z=((o=i.flip)==null?void 0:o.overflows)||[];if(w&&Y.push(X[C]),y){const a=rn(r,l,S);Y.push(X[a[0]],X[a[1]])}if(z=[...z,{placement:r,overflows:Y}],!Y.every(a=>a<=0)){var te,ne;const a=(((te=i.flip)==null?void 0:te.index)||0)+1,T=U[a];if(T)return{data:{index:a,overflows:z},reset:{placement:T}};let R=(ne=z.filter(b=>b.overflows[0]<=0).sort((b,A)=>b.overflows[1]-A.overflows[1])[0])==null?void 0:ne.placement;if(!R)switch(m){case"bestFit":{var k;const b=(k=z.map(A=>[A.placement,A.overflows.filter(h=>h>0).reduce((h,E)=>h+E,0)]).sort((A,h)=>A[1]-h[1])[0])==null?void 0:k[0];b&&(R=b);break}case"initialPlacement":R=c}if(r!==R)return{reset:{placement:R}}}return{}}}},Bt=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:r,rects:i,platform:l,elements:c,middlewareData:d}=t,{element:f,padding:w=0}=He(e,t)||{};if(f==null)return{};const y=Pt(w),p={x:n,y:o},m=rt(r),s=ot(m),g=await l.getDimensions(f),v=m==="y",C=v?"top":"left",P=v?"bottom":"right",S=v?"clientHeight":"clientWidth",I=i.reference[s]+i.reference[m]-p[m]-i.floating[s],U=p[m]-i.reference[m],X=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let Y=X?X[S]:0;Y&&await(l.isElement==null?void 0:l.isElement(X))||(Y=c.floating[S]||i.floating[s]);const z=I/2-U/2,te=Y/2-g[s]/2-1,ne=De(y[C],te),k=De(y[P],te),a=ne,T=Y-g[s]-k,R=Y/2-g[s]/2+z,b=nt(a,R,T),A=!d.arrow&&Ne(r)!=null&&R!==b&&i.reference[s]/2-(R<a?ne:k)-g[s]/2<0,h=A?R<a?R-a:R-T:0;return{[m]:p[m]+h,data:{[m]:b,centerOffset:R-b-h,...A&&{alignmentOffset:h}},reset:A}}}),pn=(e,t,n)=>{const o=new Map,r={platform:an,...n},i={...r.platform,_c:o};return(async(l,c,d)=>{const{placement:f="bottom",strategy:w="absolute",middleware:y=[],platform:p}=d,m=y.filter(Boolean),s=await(p.isRTL==null?void 0:p.isRTL(c));let g=await p.getElementRects({reference:l,floating:c,strategy:w}),{x:v,y:C}=kt(g,f,s),P=f,S={},I=0;for(let U=0;U<m.length;U++){const{name:X,fn:Y}=m[U],{x:z,y:te,data:ne,reset:k}=await Y({x:v,y:C,initialPlacement:f,placement:P,strategy:w,middlewareData:S,rects:g,platform:p,elements:{reference:l,floating:c}});v=z??v,C=te??C,S={...S,[X]:{...S[X],...ne}},k&&I<=50&&(I++,typeof k=="object"&&(k.placement&&(P=k.placement),k.rects&&(g=k.rects===!0?await p.getElementRects({reference:l,floating:c,strategy:w}):k.rects),{x:v,y:C}=kt(g,P,s)),U=-1)}return{x:v,y:C,placement:P,strategy:w,middlewareData:S}})(e,t,{...r,platform:i})};var Ue=typeof document<"u"?u.useLayoutEffect:u.useEffect;function Ge(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,o,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(o=n;o--!=0;)if(!Ge(e[o],t[o]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(o=n;o--!=0;)if(!{}.hasOwnProperty.call(t,r[o]))return!1;for(o=n;o--!=0;){const i=r[o];if((i!=="_owner"||!e.$$typeof)&&!Ge(e[i],t[i]))return!1}return!0}return e!=e&&t!=t}function It(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _t(e,t){const n=It(e);return Math.round(t*n)/n}function ct(e){const t=u.useRef(e);return Ue(()=>{t.current=e}),t}const gn=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:o}=typeof e=="function"?e(t):e;return n&&(r=n,{}.hasOwnProperty.call(r,"current"))?n.current!=null?Bt({element:n.current,padding:o}).fn(t):{}:n?Bt({element:n,padding:o}).fn(t):{};var r}}),vn=(e,t)=>({...dn(e),options:[e,t]}),hn=(e,t)=>({...mn(e),options:[e,t]}),yn=(e,t)=>({...gn(e),options:[e,t]}),Wt={...Gt},wn=Wt.useInsertionEffect||(e=>e());function Re(e){const t=u.useRef(()=>{});return wn(()=>{t.current=e}),u.useCallback(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.current==null?void 0:t.current(...o)},[])}var Fe=typeof document<"u"?u.useLayoutEffect:u.useEffect;let Ht=!1,bn=0;const Nt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+bn++,jt=Wt.useId||function(){const[e,t]=u.useState(()=>Ht?Nt():void 0);return Fe(()=>{e==null&&t(Nt())},[]),u.useEffect(()=>{Ht=!0},[]),e},xn=u.createContext(null),En=u.createContext(null),st=()=>{var e;return((e=u.useContext(xn))==null?void 0:e.id)||null},ut=()=>u.useContext(En);function at(e){return"data-floating-ui-"+e}function ft(e){const t=u.useRef(e);return Fe(()=>{t.current=e}),t}const Vt=at("safe-polygon");function dt(e,t,n){return n&&!We(n)?0:typeof e=="number"?e:e?.[t]}function Je(e,t){let n=e.filter(r=>{var i;return r.parentId===t&&((i=r.context)==null?void 0:i.open)}),o=n;for(;o.length;)o=e.filter(r=>{var i;return(i=o)==null?void 0:i.some(l=>{var c;return r.parentId===l.id&&((c=r.context)==null?void 0:c.open)})}),n=n.concat(o);return n}const Rn="data-floating-ui-focusable";function Kt(e){return se(e.target)&&e.target.tagName==="BUTTON"}function Xt(e){return Et(e)}const Pn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},kn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Yt=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null&&t,outsidePress:typeof e=="boolean"?e:(n=e?.outsidePress)==null||n}};function Cn(e){const{open:t=!1,onOpenChange:n,elements:o}=e,r=jt(),i=u.useRef({}),[l]=u.useState(()=>function(){const m=new Map;return{emit(s,g){var v;(v=m.get(s))==null||v.forEach(C=>C(g))},on(s,g){m.set(s,[...m.get(s)||[],g])},off(s,g){var v;m.set(s,((v=m.get(s))==null?void 0:v.filter(C=>C!==g))||[])}}}()),c=st()!=null,[d,f]=u.useState(o.reference),w=Re((m,s,g)=>{i.current.openEvent=m?s:void 0,l.emit("openchange",{open:m,event:s,reason:g,nested:c}),n?.(m,s,g)}),y=u.useMemo(()=>({setPositionReference:f}),[]),p=u.useMemo(()=>({reference:d||o.reference||null,floating:o.floating||null,domReference:o.reference}),[d,o.reference,o.floating]);return u.useMemo(()=>({dataRef:i,open:t,onOpenChange:w,elements:p,events:l,floatingId:r,refs:y}),[t,w,p,l,r,y])}function Tn(e){e===void 0&&(e={});const{nodeId:t}=e,n=Cn({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||n,r=o.elements,[i,l]=u.useState(null),[c,d]=u.useState(null),f=r?.domReference||i,w=u.useRef(null),y=ut();Fe(()=>{f&&(w.current=f)},[f]);const p=function(P){P===void 0&&(P={});const{placement:S="bottom",strategy:I="absolute",middleware:U=[],platform:X,elements:{reference:Y,floating:z}={},transform:te=!0,whileElementsMounted:ne,open:k}=P,[a,T]=u.useState({x:0,y:0,strategy:I,placement:S,middlewareData:{},isPositioned:!1}),[R,b]=u.useState(U);Ge(R,U)||b(U);const[A,h]=u.useState(null),[E,V]=u.useState(null),K=u.useCallback(N=>{N!==B.current&&(B.current=N,h(N))},[]),q=u.useCallback(N=>{N!==x.current&&(x.current=N,V(N))},[]),_=Y||A,j=z||E,B=u.useRef(null),x=u.useRef(null),L=u.useRef(a),oe=ne!=null,J=ct(ne),Q=ct(X),Z=ct(k),le=u.useCallback(()=>{if(!B.current||!x.current)return;const N={placement:S,strategy:I,middleware:R};Q.current&&(N.platform=Q.current),pn(B.current,x.current,N).then(ue=>{const re={...ue,isPositioned:Z.current!==!1};fe.current&&!Ge(L.current,re)&&(L.current=re,Jt.flushSync(()=>{T(re)}))})},[R,S,I,Q,Z]);Ue(()=>{k===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,T(N=>({...N,isPositioned:!1})))},[k]);const fe=u.useRef(!1);Ue(()=>(fe.current=!0,()=>{fe.current=!1}),[]),Ue(()=>{if(_&&(B.current=_),j&&(x.current=j),_&&j){if(J.current)return J.current(_,j,le);le()}},[_,j,le,J,oe]);const de=u.useMemo(()=>({reference:B,floating:x,setReference:K,setFloating:q}),[K,q]),ie=u.useMemo(()=>({reference:_,floating:j}),[_,j]),ge=u.useMemo(()=>{const N={position:I,left:0,top:0};if(!ie.floating)return N;const ue=_t(ie.floating,a.x),re=_t(ie.floating,a.y);return te?{...N,transform:"translate("+ue+"px, "+re+"px)",...It(ie.floating)>=1.5&&{willChange:"transform"}}:{position:I,left:ue,top:re}},[I,te,ie.floating,a.x,a.y]);return u.useMemo(()=>({...a,update:le,refs:de,elements:ie,floatingStyles:ge}),[a,le,de,ie,ge])}({...e,elements:{...r,...c&&{reference:c}}}),m=u.useCallback(P=>{const S=$(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;d(S),p.refs.setReference(S)},[p.refs]),s=u.useCallback(P=>{($(P)||P===null)&&(w.current=P,l(P)),($(p.refs.reference.current)||p.refs.reference.current===null||P!==null&&!$(P))&&p.refs.setReference(P)},[p.refs]),g=u.useMemo(()=>({...p.refs,setReference:s,setPositionReference:m,domReference:w}),[p.refs,s,m]),v=u.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),C=u.useMemo(()=>({...p,...o,refs:g,elements:v,nodeId:t}),[p,g,v,t,o]);return Fe(()=>{o.dataRef.current.floatingContext=C;const P=y?.nodesRef.current.find(S=>S.id===t);P&&(P.context=C)}),u.useMemo(()=>({...p,context:C,refs:g,elements:v}),[p,g,v,C])}function Ln(e,t){t===void 0&&(t={});const{open:n,onOpenChange:o,events:r,dataRef:i,elements:l}=e,{enabled:c=!0,visibleOnly:d=!0}=t,f=u.useRef(!1),w=u.useRef(),y=u.useRef(!0);u.useEffect(()=>{if(!c)return;const m=ce(l.domReference);function s(){!n&&se(l.domReference)&&l.domReference===yt(ke(l.domReference))&&(f.current=!0)}function g(){y.current=!0}return m.addEventListener("blur",s),m.addEventListener("keydown",g,!0),()=>{m.removeEventListener("blur",s),m.removeEventListener("keydown",g,!0)}},[l.domReference,n,c]),u.useEffect(()=>{if(c)return r.on("openchange",m),()=>{r.off("openchange",m)};function m(s){let{reason:g}=s;g!=="reference-press"&&g!=="escape-key"||(f.current=!0)}},[r,c]),u.useEffect(()=>()=>{clearTimeout(w.current)},[]);const p=u.useMemo(()=>({onPointerDown(m){tn(m.nativeEvent)||(y.current=!1)},onMouseLeave(){f.current=!1},onFocus(m){if(f.current)return;const s=Ce(m.nativeEvent);if(d&&$(s))try{if(/apple/i.test(navigator.vendor)&&wt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints)throw Error();if(!s.matches(":focus-visible"))return}catch{if(!y.current&&!Et(s))return}o(!0,m.nativeEvent,"focus")},onBlur(m){f.current=!1;const s=m.relatedTarget,g=m.nativeEvent,v=$(s)&&s.hasAttribute(at("focus-guard"))&&s.getAttribute("data-type")==="outside";w.current=window.setTimeout(()=>{var C;const P=yt(l.domReference?l.domReference.ownerDocument:document);(s||P!==l.domReference)&&(xe((C=i.current.floatingContext)==null?void 0:C.refs.floating.current,P)||xe(l.domReference,P)||v||o(!1,g,"focus"))})}}),[i,l.domReference,o,d]);return u.useMemo(()=>c?{reference:p}:{},[c,p])}const zt="active",qt="selected";function mt(e,t,n){const o=new Map,r=n==="item";let i=e;if(r&&e){const{[zt]:l,[qt]:c,...d}=e;i=d}return{...n==="floating"&&{tabIndex:-1,[Rn]:""},...i,...t.map(l=>{const c=l?l[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((l,c)=>(c&&Object.entries(c).forEach(d=>{let[f,w]=d;var y;r&&[zt,qt].includes(f)||(f.indexOf("on")===0?(o.has(f)||o.set(f,[]),typeof w=="function"&&((y=o.get(f))==null||y.push(w),l[f]=function(){for(var p,m=arguments.length,s=new Array(m),g=0;g<m;g++)s[g]=arguments[g];return(p=o.get(f))==null?void 0:p.map(v=>v(...s)).find(v=>v!==void 0)})):l[f]=w)}),l),{})}}const Mn=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function $t(e,t){const[n,o]=e;let r=!1;const i=t.length;for(let l=0,c=i-1;l<i;c=l++){const[d,f]=t[l]||[0,0],[w,y]=t[c]||[0,0];f>=o!=y>=o&&n<=(w-d)*(o-f)/(y-f)+d&&(r=!r)}return r}function Sn(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:o=!0}=e;let r,i=!1,l=null,c=null,d=performance.now();const f=w=>{let{x:y,y:p,placement:m,elements:s,onClose:g,nodeId:v,tree:C}=w;return function(P){function S(){clearTimeout(r),g()}if(clearTimeout(r),!s.domReference||!s.floating||m==null||y==null||p==null)return;const{clientX:I,clientY:U}=P,X=[I,U],Y=Ce(P),z=P.type==="mouseleave",te=xe(s.floating,Y),ne=xe(s.domReference,Y),k=s.domReference.getBoundingClientRect(),a=s.floating.getBoundingClientRect(),T=m.split("-")[0],R=y>a.right-a.width/2,b=p>a.bottom-a.height/2,A=function(B,x){return B[0]>=x.x&&B[0]<=x.x+x.width&&B[1]>=x.y&&B[1]<=x.y+x.height}(X,k),h=a.width>k.width,E=a.height>k.height,V=(h?k:a).left,K=(h?k:a).right,q=(E?k:a).top,_=(E?k:a).bottom;if(te&&(i=!0,!z))return;if(ne&&(i=!1),ne&&!z)return void(i=!0);if(z&&$(P.relatedTarget)&&xe(s.floating,P.relatedTarget)||C&&Je(C.nodesRef.current,v).some(B=>{let{context:x}=B;return x?.open}))return;if(T==="top"&&p>=k.bottom-1||T==="bottom"&&p<=k.top+1||T==="left"&&y>=k.right-1||T==="right"&&y<=k.left+1)return S();let j=[];switch(T){case"top":j=[[V,k.top+1],[V,a.bottom-1],[K,a.bottom-1],[K,k.top+1]];break;case"bottom":j=[[V,a.top+1],[V,k.bottom-1],[K,k.bottom-1],[K,a.top+1]];break;case"left":j=[[a.right-1,_],[a.right-1,q],[k.left+1,q],[k.left+1,_]];break;case"right":j=[[k.right-1,_],[k.right-1,q],[a.left+1,q],[a.left+1,_]]}if(!$t([I,U],j)){if(i&&!A)return S();if(!z&&o){const B=function(x,L){const oe=performance.now(),J=oe-d;if(l===null||c===null||J===0)return l=x,c=L,d=oe,null;const Q=x-l,Z=L-c,le=Math.sqrt(Q*Q+Z*Z);return l=x,c=L,d=oe,le/J}(P.clientX,P.clientY);if(B!==null&&B<.1)return S()}$t([I,U],function(B){let[x,L]=B;switch(T){case"top":return[[h?x+t/2:R?x+4*t:x-4*t,L+t+1],[h?x-t/2:R?x+4*t:x-4*t,L+t+1],[a.left,R||h?a.bottom-t:a.top],[a.right,R?h?a.bottom-t:a.top:a.bottom-t]];case"bottom":return[[h?x+t/2:R?x+4*t:x-4*t,L-t],[h?x-t/2:R?x+4*t:x-4*t,L-t],[a.left,R||h?a.top+t:a.bottom],[a.right,R?h?a.top+t:a.bottom:a.top+t]];case"left":{const oe=[x+t+1,E?L+t/2:b?L+4*t:L-4*t],J=[x+t+1,E?L-t/2:b?L+4*t:L-4*t];return[[b||E?a.right-t:a.left,a.top],[b?E?a.right-t:a.left:a.right-t,a.bottom],oe,J]}case"right":return[[x-t,E?L+t/2:b?L+4*t:L-4*t],[x-t,E?L-t/2:b?L+4*t:L-4*t],[b||E?a.left+t:a.right,a.top],[b?E?a.left+t:a.right:a.left+t,a.bottom]]}}([y,p]))?!i&&o&&(r=window.setTimeout(S,40)):S()}}};return f.__options={blockPointerEvents:n},f}function An(e){var t;const{position:n,showTooltip:o,setShowTooltip:r,arrowElement:i,openOn:l}=e,{refs:c,floatingStyles:d,context:f,middlewareData:w,placement:y}=Tn({placement:n,open:o,onOpenChange:r,middleware:[(p=8,{...ln(p),options:[p,m]}),hn({fallbackPlacements:["top","right","bottom","left"]}),vn(),yn({element:i})],whileElementsMounted:fn});var p,m;const s=function(k,a){a===void 0&&(a={});const{open:T,onOpenChange:R,dataRef:b,events:A,elements:h}=k,{enabled:E=!0,delay:V=0,handleClose:K=null,mouseOnly:q=!1,restMs:_=0,move:j=!0}=a,B=ut(),x=st(),L=ft(K),oe=ft(V),J=ft(T),Q=u.useRef(),Z=u.useRef(-1),le=u.useRef(),fe=u.useRef(-1),de=u.useRef(!0),ie=u.useRef(!1),ge=u.useRef(()=>{}),N=u.useRef(!1),ue=u.useCallback(()=>{var D;const O=(D=b.current.openEvent)==null?void 0:D.type;return O?.includes("mouse")&&O!=="mousedown"},[b]);u.useEffect(()=>{if(E)return A.on("openchange",D),()=>{A.off("openchange",D)};function D(O){let{open:W}=O;W||(clearTimeout(Z.current),clearTimeout(fe.current),de.current=!0,N.current=!1)}},[E,A]),u.useEffect(()=>{if(!E||!L.current||!T)return;function D(W){ue()&&R(!1,W,"hover")}const O=ke(h.floating).documentElement;return O.addEventListener("mouseleave",D),()=>{O.removeEventListener("mouseleave",D)}},[h.floating,T,R,E,L,ue]);const re=u.useCallback(function(D,O,W){O===void 0&&(O=!0),W===void 0&&(W="hover");const M=dt(oe.current,"close",Q.current);M&&!le.current?(clearTimeout(Z.current),Z.current=window.setTimeout(()=>R(!1,D,W),M)):O&&(clearTimeout(Z.current),R(!1,D,W))},[oe,R]),pe=Re(()=>{ge.current(),le.current=void 0}),ve=Re(()=>{if(ie.current){const D=ke(h.floating).body;D.style.pointerEvents="",D.removeAttribute(Vt),ie.current=!1}});u.useEffect(()=>{if(E&&$(h.domReference)){var D;const F=h.domReference;return T&&F.addEventListener("mouseleave",G),(D=h.floating)==null||D.addEventListener("mouseleave",G),j&&F.addEventListener("mousemove",W,{once:!0}),F.addEventListener("mouseenter",W),F.addEventListener("mouseleave",M),()=>{var ee;T&&F.removeEventListener("mouseleave",G),(ee=h.floating)==null||ee.removeEventListener("mouseleave",G),j&&F.removeEventListener("mousemove",W),F.removeEventListener("mouseenter",W),F.removeEventListener("mouseleave",M)}}function O(){return!!b.current.openEvent&&["click","mousedown"].includes(b.current.openEvent.type)}function W(F){if(clearTimeout(Z.current),de.current=!1,q&&!We(Q.current)||_>0&&!dt(oe.current,"open"))return;const ee=dt(oe.current,"open",Q.current);ee?Z.current=window.setTimeout(()=>{J.current||R(!0,F,"hover")},ee):R(!0,F,"hover")}function M(F){if(O())return;ge.current();const ee=ke(h.floating);if(clearTimeout(fe.current),N.current=!1,L.current&&b.current.floatingContext){T||clearTimeout(Z.current),le.current=L.current({...b.current.floatingContext,tree:B,x:F.clientX,y:F.clientY,onClose(){ve(),pe(),re(F,!0,"safe-polygon")}});const Be=le.current;return ee.addEventListener("mousemove",Be),void(ge.current=()=>{ee.removeEventListener("mousemove",Be)})}(Q.current!=="touch"||!xe(h.floating,F.relatedTarget))&&re(F)}function G(F){O()||b.current.floatingContext&&(L.current==null||L.current({...b.current.floatingContext,tree:B,x:F.clientX,y:F.clientY,onClose(){ve(),pe(),re(F)}})(F))}},[h,E,k,q,_,j,re,pe,ve,R,T,J,B,oe,L,b]),Fe(()=>{var D;if(E&&T&&(D=L.current)!=null&&D.__options.blockPointerEvents&&ue()){ie.current=!0;const W=h.floating;if($(h.domReference)&&W){var O;const M=ke(h.floating).body;M.setAttribute(Vt,"");const G=h.domReference,F=B==null||(O=B.nodesRef.current.find(ee=>ee.id===x))==null||(O=O.context)==null?void 0:O.elements.floating;return F&&(F.style.pointerEvents=""),M.style.pointerEvents="none",G.style.pointerEvents="auto",W.style.pointerEvents="auto",()=>{M.style.pointerEvents="",G.style.pointerEvents="",W.style.pointerEvents=""}}}},[E,T,x,h,B,L,ue]),Fe(()=>{T||(Q.current=void 0,N.current=!1,pe(),ve())},[T,pe,ve]),u.useEffect(()=>()=>{pe(),clearTimeout(Z.current),clearTimeout(fe.current),ve()},[E,h.domReference,pe,ve]);const Se=u.useMemo(()=>{function D(O){Q.current=O.pointerType}return{onPointerDown:D,onPointerEnter:D,onMouseMove(O){const{nativeEvent:W}=O;function M(){de.current||J.current||R(!0,W,"hover")}q&&!We(Q.current)||T||_===0||N.current&&O.movementX**2+O.movementY**2<2||(clearTimeout(fe.current),Q.current==="touch"?M():(N.current=!0,fe.current=window.setTimeout(M,_)))}}},[q,R,T,J,_]),H=u.useMemo(()=>({onMouseEnter(){clearTimeout(Z.current)},onMouseLeave(D){re(D.nativeEvent,!1)}}),[re]);return u.useMemo(()=>E?{reference:Se,floating:H}:{},[E,Se,H])}(f,{enabled:["hover","hoverFocus"].includes(l),move:!1,delay:{open:25,close:0},restMs:25,handleClose:Sn()}),g=Ln(f,{enabled:l==="hoverFocus"}),v=function(k,a){a===void 0&&(a={});const{open:T,onOpenChange:R,dataRef:b,elements:{domReference:A}}=k,{enabled:h=!0,event:E="click",toggle:V=!0,ignoreMouse:K=!1,keyboardHandlers:q=!0}=a,_=u.useRef(),j=u.useRef(!1),B=u.useMemo(()=>({onPointerDown(x){_.current=x.pointerType},onMouseDown(x){const L=_.current;x.button===0&&E!=="click"&&(We(L,!0)&&K||(!T||!V||b.current.openEvent&&b.current.openEvent.type!=="mousedown"?(x.preventDefault(),R(!0,x.nativeEvent,"click")):R(!1,x.nativeEvent,"click")))},onClick(x){const L=_.current;E==="mousedown"&&_.current?_.current=void 0:We(L,!0)&&K||(!T||!V||b.current.openEvent&&b.current.openEvent.type!=="click"?R(!0,x.nativeEvent,"click"):R(!1,x.nativeEvent,"click"))},onKeyDown(x){_.current=void 0,x.defaultPrevented||!q||Kt(x)||(x.key!==" "||Xt(A)||(x.preventDefault(),j.current=!0),x.key==="Enter"&&R(!T||!V,x.nativeEvent,"click"))},onKeyUp(x){x.defaultPrevented||!q||Kt(x)||Xt(A)||x.key===" "&&j.current&&(j.current=!1,R(!T||!V,x.nativeEvent,"click"))}}),[b,A,E,K,q,R,T,V]);return u.useMemo(()=>h?{reference:B}:{},[h,B])}(f,{toggle:o,enabled:l==="click"}),C=function(k,a){a===void 0&&(a={});const{open:T,onOpenChange:R,elements:b,dataRef:A}=k,{enabled:h=!0,escapeKey:E=!0,outsidePress:V=!0,outsidePressEvent:K="pointerdown",referencePress:q=!1,referencePressEvent:_="pointerdown",ancestorScroll:j=!1,bubbles:B,capture:x}=a,L=ut(),oe=Re(typeof V=="function"?V:()=>!1),J=typeof V=="function"?oe:V,Q=u.useRef(!1),Z=u.useRef(!1),{escapeKey:le,outsidePress:fe}=Yt(B),{escapeKey:de,outsidePress:ie}=Yt(x),ge=u.useRef(!1),N=Re(H=>{var D;if(!T||!h||!E||H.key!=="Escape"||ge.current)return;const O=(D=A.current.floatingContext)==null?void 0:D.nodeId,W=L?Je(L.nodesRef.current,O):[];if(!le&&(H.stopPropagation(),W.length>0)){let M=!0;if(W.forEach(G=>{var F;(F=G.context)==null||!F.open||G.context.dataRef.current.__escapeKeyBubbles||(M=!1)}),!M)return}R(!1,function(M){return"nativeEvent"in M}(H)?H.nativeEvent:H,"escape-key")}),ue=Re(H=>{var D;const O=()=>{var W;N(H),(W=Ce(H))==null||W.removeEventListener("keydown",O)};(D=Ce(H))==null||D.addEventListener("keydown",O)}),re=Re(H=>{var D;const O=Q.current;Q.current=!1;const W=Z.current;if(Z.current=!1,K==="click"&&W||O||typeof J=="function"&&!J(H))return;const M=Ce(H),G="["+at("inert")+"]",F=ke(b.floating).querySelectorAll(G);let ee=$(M)?M:null;for(;ee&&!Ae(ee);){const me=Pe(ee);if(Ae(me)||!$(me))break;ee=me}if(F.length&&$(M)&&!M.matches("html,body")&&!xe(M,b.floating)&&Array.from(F).every(me=>!xe(ee,me)))return;if(se(M)&&Se){const me=M.clientWidth>0&&M.scrollWidth>M.clientWidth,ye=M.clientHeight>0&&M.scrollHeight>M.clientHeight;let Ie=ye&&H.offsetX>M.clientWidth;if(ye&&ae(M).direction==="rtl"&&(Ie=H.offsetX<=M.offsetWidth-M.clientWidth),Ie||me&&H.offsetY>M.clientHeight)return}const Be=(D=A.current.floatingContext)==null?void 0:D.nodeId,Ut=L&&Je(L.nodesRef.current,Be).some(me=>{var ye;return tt(H,(ye=me.context)==null?void 0:ye.elements.floating)});if(tt(H,b.floating)||tt(H,b.domReference)||Ut)return;const pt=L?Je(L.nodesRef.current,Be):[];if(pt.length>0){let me=!0;if(pt.forEach(ye=>{var Ie;(Ie=ye.context)==null||!Ie.open||ye.context.dataRef.current.__outsidePressBubbles||(me=!1)}),!me)return}R(!1,H,"outside-press")}),pe=Re(H=>{var D;const O=()=>{var W;re(H),(W=Ce(H))==null||W.removeEventListener(K,O)};(D=Ce(H))==null||D.addEventListener(K,O)});u.useEffect(()=>{if(!T||!h)return;A.current.__escapeKeyBubbles=le,A.current.__outsidePressBubbles=fe;let H=-1;function D(F){R(!1,F,"ancestor-scroll")}function O(){window.clearTimeout(H),ge.current=!0}function W(){H=window.setTimeout(()=>{ge.current=!1},Ve()?5:0)}const M=ke(b.floating);E&&(M.addEventListener("keydown",de?ue:N,de),M.addEventListener("compositionstart",O),M.addEventListener("compositionend",W)),J&&M.addEventListener(K,ie?pe:re,ie);let G=[];return j&&($(b.domReference)&&(G=be(b.domReference)),$(b.floating)&&(G=G.concat(be(b.floating))),!$(b.reference)&&b.reference&&b.reference.contextElement&&(G=G.concat(be(b.reference.contextElement)))),G=G.filter(F=>{var ee;return F!==((ee=M.defaultView)==null?void 0:ee.visualViewport)}),G.forEach(F=>{F.addEventListener("scroll",D,{passive:!0})}),()=>{E&&(M.removeEventListener("keydown",de?ue:N,de),M.removeEventListener("compositionstart",O),M.removeEventListener("compositionend",W)),J&&M.removeEventListener(K,ie?pe:re,ie),G.forEach(F=>{F.removeEventListener("scroll",D)}),window.clearTimeout(H)}},[A,b,E,J,K,T,R,j,h,le,fe,N,de,ue,re,ie,pe]),u.useEffect(()=>{Q.current=!1},[J,K]);const ve=u.useMemo(()=>({onKeyDown:N,[Pn[_]]:H=>{q&&R(!1,H.nativeEvent,"reference-press")}}),[N,R,q,_]),Se=u.useMemo(()=>({onKeyDown:N,onMouseDown(){Z.current=!0},onMouseUp(){Z.current=!0},[kn[K]]:()=>{Q.current=!0}}),[N,K]);return u.useMemo(()=>h?{reference:ve,floating:Se}:{},[h,ve,Se])}(f,{outsidePress:!0}),P=function(k,a){var T;a===void 0&&(a={});const{open:R,floatingId:b}=k,{enabled:A=!0,role:h="dialog"}=a,E=(T=Mn.get(h))!=null?T:h,V=jt(),K=st()!=null,q=u.useMemo(()=>E==="tooltip"||h==="label"?{["aria-"+(h==="label"?"labelledby":"describedby")]:R?b:void 0}:{"aria-expanded":R?"true":"false","aria-haspopup":E==="alertdialog"?"dialog":E,"aria-controls":R?b:void 0,...E==="listbox"&&{role:"combobox"},...E==="menu"&&{id:V},...E==="menu"&&K&&{role:"menuitem"},...h==="select"&&{"aria-autocomplete":"none"},...h==="combobox"&&{"aria-autocomplete":"list"}},[E,b,K,R,V,h]),_=u.useMemo(()=>{const B={id:b,...E&&{role:E}};return E==="tooltip"||h==="label"?B:{...B,...E==="menu"&&{"aria-labelledby":V}}},[E,b,V,h]),j=u.useCallback(B=>{let{active:x,selected:L}=B;const oe={role:"option",...x&&{id:b+"-option"}};switch(h){case"select":return{...oe,"aria-selected":x&&L};case"combobox":return{...oe,...x&&{"aria-selected":!0}}}return{}},[b,h]);return u.useMemo(()=>A?{reference:q,floating:_,item:j}:{},[A,q,_,j])}(f,{role:"tooltip"}),S={onFocus:u.useCallback(()=>r(!0),[r]),onBlur:u.useCallback(()=>r(!1),[r])},I=y.split("-")[0],U=y.split("-")[1],X=["top","bottom"].includes(I)&&U==="start"&&(t=i?.offsetWidth)!==null&&t!==void 0?t:0,Y={top:"bottom",right:"left",bottom:"top",left:"right"}[I];let z;if(w.arrow){const{x:k,y:a}=w.arrow;z={left:k?k-X:"",top:a??""}}const{getReferenceProps:te,getFloatingProps:ne}=function(k){k===void 0&&(k=[]);const a=k.map(E=>E?.reference),T=k.map(E=>E?.floating),R=k.map(E=>E?.item),b=u.useCallback(E=>mt(E,k,"reference"),a),A=u.useCallback(E=>mt(E,k,"floating"),T),h=u.useCallback(E=>mt(E,k,"item"),R);return u.useMemo(()=>({getReferenceProps:b,getFloatingProps:A,getItemProps:h}),[b,A,h])}([g,s,v,C,P]);return{arrowStyles:z,blurFocusEvents:S,floatingStyles:d,getFloatingProps:ne,getReferenceProps:te,refs:c,staticSide:Y}}const Dn=e=>{const{trigger:t,htmlMessage:n,textMessage:o,openOn:r,position:i,preview:l,renderMethod:c}=e,[d,f]=u.useState(l!=null&&l),[w,y]=u.useState(null),{arrowStyles:p,blurFocusEvents:m,floatingStyles:s,getFloatingProps:g,getReferenceProps:v,refs:C,staticSide:P}=An({position:i,showTooltip:d,setShowTooltip:f,arrowElement:w,openOn:r});return u.createElement("div",{className:Qt(e.class,"widget-tooltip","widget-tooltip-".concat(i))},u.createElement("div",{className:"widget-tooltip-trigger",ref:C?.setReference,...l||v==null?void 0:v({...r!=="hoverFocus"||l?void 0:m})},t),d&&(o||n)?u.createElement("div",{className:"widget-tooltip-content",ref:C?.setFloating,style:s,...g?.()},c==="text"?o:n,u.createElement("div",{className:"widget-tooltip-arrow-".concat(P),ref:y,style:p})):null)};function On(e){var t,n,o;return u.createElement(Dn,{class:e.class,htmlMessage:e.htmlMessage,name:e.name,openOn:e.openOn,position:(n=e.tooltipPosition,o=e.arrowPosition,"".concat(n).concat(o==="none"?"":"-"+o)),renderMethod:e.renderMethod,style:e.style,trigger:e.trigger,textMessage:(t=e.textMessage)===null||t===void 0?void 0:t.value,tabIndex:e.tabIndex})}var Fn=Object.freeze({__proto__:null,default:On});export{Fn as A};
