function vE(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}var wE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Os(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xE=function(t){return function(e){return!!e&&typeof e=="object"}(t)&&!function(e){var n=Object.prototype.toString.call(e);return n==="[object RegExp]"||n==="[object Date]"||function(r){return r.$$typeof===$E}(e)}(t)},$E=typeof Symbol=="function"&&Symbol.for?Symbol.for("react.element"):60103;function Cs(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ui((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function SE(t,e,n){return t.concat(e).map(function(r){return Cs(r,n)})}function nv(t){return Object.keys(t).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(n){return Object.propertyIsEnumerable.call(e,n)}):[]}(t))}function rv(t,e){try{return e in t}catch{return!1}}function kE(t,e,n){var r={};return n.isMergeableObject(t)&&nv(t).forEach(function(i){r[i]=Cs(t[i],n)}),nv(e).forEach(function(i){(function(s,c){return rv(s,c)&&!(Object.hasOwnProperty.call(s,c)&&Object.propertyIsEnumerable.call(s,c))})(t,i)||(rv(t,i)&&n.isMergeableObject(e[i])?r[i]=function(s,c){if(!c.customMerge)return Ui;var l=c.customMerge(s);return typeof l=="function"?l:Ui}(i,n)(t[i],e[i],n):r[i]=Cs(e[i],n))}),r}function Ui(t,e,n){(n=n||{}).arrayMerge=n.arrayMerge||SE,n.isMergeableObject=n.isMergeableObject||xE,n.cloneUnlessOtherwiseSpecified=Cs;var r=Array.isArray(e);return r===Array.isArray(t)?r?n.arrayMerge(t,e,n):kE(t,e,n):Cs(e,n)}Ui.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(n,r){return Ui(n,r,e)},{})},Os(Ui);function av(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function EE(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=Symbol.for("react.element"),OE=Symbol.for("react.portal"),CE=Symbol.for("react.fragment"),jE=Symbol.for("react.strict_mode"),TE=Symbol.for("react.profiler"),_E=Symbol.for("react.provider"),DE=Symbol.for("react.context"),AE=Symbol.for("react.forward_ref"),PE=Symbol.for("react.suspense"),NE=Symbol.for("react.memo"),IE=Symbol.for("react.lazy"),iv=Symbol.iterator;function RE(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var ov={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sv=Object.assign,uv={};function Fi(t,e,n){this.props=t,this.context=e,this.refs=uv,this.updater=n||ov}Fi.prototype.isReactComponent={},Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cv(){}cv.prototype=Fi.prototype;function Sh(t,e,n){this.props=t,this.context=e,this.refs=uv,this.updater=n||ov}var kh=Sh.prototype=new cv;kh.constructor=Sh,sv(kh,Fi.prototype),kh.isPureReactComponent=!0;var lv=Array.isArray,dv=Object.prototype.hasOwnProperty,Eh={current:null},fv={key:!0,ref:!0,__self:!0,__source:!0};function hv(t,e,n){var r,i={},s=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(s=""+e.key),e)dv.call(e,r)&&!fv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var d=Array(l),h=0;h<l;h++)d[h]=arguments[h+2];i.children=d}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:js,type:t,key:s,ref:c,props:i,_owner:Eh.current}}function ME(t,e){return{$$typeof:js,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Oh(t){return typeof t=="object"&&t!==null&&t.$$typeof===js}function LE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pv=/\/+/g;function Ch(t,e){return typeof t=="object"&&t!==null&&t.key!=null?LE(""+t.key):e.toString(36)}function Mc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case js:case OE:c=!0}}if(c)return c=t,i=i(c),t=r===""?"."+Ch(c,0):r,lv(i)?(n="",t!=null&&(n=t.replace(pv,"$&/")+"/"),Mc(i,e,n,"",function(h){return h})):i!=null&&(Oh(i)&&(i=ME(i,n+(!i.key||c&&c.key===i.key?"":(""+i.key).replace(pv,"$&/")+"/")+t)),e.push(i)),1;if(c=0,r=r===""?".":r+":",lv(t))for(var l=0;l<t.length;l++){s=t[l];var d=r+Ch(s,l);c+=Mc(s,e,n,d,i)}else if(d=RE(t),typeof d=="function")for(t=d.call(t),l=0;!(s=t.next()).done;)s=s.value,d=r+Ch(s,l++),c+=Mc(s,e,n,d,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function Lc(t,e,n){if(t==null)return t;var r=[],i=0;return Mc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kt={current:null},Uc={transition:null},FE={ReactCurrentDispatcher:Kt,ReactCurrentBatchConfig:Uc,ReactCurrentOwner:Eh};_e.Children={map:Lc,forEach:function(t,e,n){Lc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lc(t,function(){e++}),e},toArray:function(t){return Lc(t,function(e){return e})||[]},only:function(t){if(!Oh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},_e.Component=Fi,_e.Fragment=CE,_e.Profiler=TE,_e.PureComponent=Sh,_e.StrictMode=jE,_e.Suspense=PE,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FE,_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sv({},t.props),i=t.key,s=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,c=Eh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(d in e)dv.call(e,d)&&!fv.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&l!==void 0?l[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){l=Array(d);for(var h=0;h<d;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:js,type:t.type,key:i,ref:s,props:r,_owner:c}},_e.createContext=function(t){return t={$$typeof:DE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_E,_context:t},t.Consumer=t},_e.createElement=hv,_e.createFactory=function(t){var e=hv.bind(null,t);return e.type=t,e},_e.createRef=function(){return{current:null}},_e.forwardRef=function(t){return{$$typeof:AE,render:t}},_e.isValidElement=Oh,_e.lazy=function(t){return{$$typeof:IE,_payload:{_status:-1,_result:t},_init:UE}},_e.memo=function(t,e){return{$$typeof:NE,type:t,compare:e===void 0?null:e}},_e.startTransition=function(t){var e=Uc.transition;Uc.transition={};try{t()}finally{Uc.transition=e}},_e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},_e.useCallback=function(t,e){return Kt.current.useCallback(t,e)},_e.useContext=function(t){return Kt.current.useContext(t)},_e.useDebugValue=function(){},_e.useDeferredValue=function(t){return Kt.current.useDeferredValue(t)},_e.useEffect=function(t,e){return Kt.current.useEffect(t,e)},_e.useId=function(){return Kt.current.useId()},_e.useImperativeHandle=function(t,e,n){return Kt.current.useImperativeHandle(t,e,n)},_e.useInsertionEffect=function(t,e){return Kt.current.useInsertionEffect(t,e)},_e.useLayoutEffect=function(t,e){return Kt.current.useLayoutEffect(t,e)},_e.useMemo=function(t,e){return Kt.current.useMemo(t,e)},_e.useReducer=function(t,e,n){return Kt.current.useReducer(t,e,n)},_e.useRef=function(t){return Kt.current.useRef(t)},_e.useState=function(t){return Kt.current.useState(t)},_e.useSyncExternalStore=function(t,e,n){return Kt.current.useSyncExternalStore(t,e,n)},_e.useTransition=function(){return Kt.current.useTransition()},_e.version="18.2.0";var W=_e,Fc=av(W),zE=vE({__proto__:null,default:Fc},[W]);let U=class PS extends Error{constructor(e="Unexpected error occurred, please contact your system administrator."){super(e),Object.setPrototypeOf(this,PS.prototype)}};function H(t){if(t==null)throw new Error("Did not expect an argument to be undefined");return t}function Ct(){throw new U}function BE(t){return t.displayName??t.name??"<component>"}function VE(t){return typeof t=="string"}function Ba(t){return t!=null&&typeof t=="object"&&t.constructor==={}.constructor}function gv(t,e){return e instanceof Array&&e.every(n=>n===void 0||n instanceof t)}function jt(t){return Array.from(new Set(t))}const WE=t=>t;function nr(t,e,n=WE){const r=[],i=[];return e.forEach(s=>{const c=n(s);return t(s)?r.push(c):i.push(c)}),[r,i]}function jn(...t){return t}function kr(t,e){const n={};return Object.keys(t).forEach(r=>n[r]=e(t[r],r)),n}function HE(t,e){const n={},r={};return Object.keys(t).forEach(i=>{(e(t[i])?n:r)[i]=t[i]}),[n,r]}function GE(t,e){const n={};return Object.keys(t).forEach(r=>{e(t[r],r)&&(n[r]=t[r])}),n}function ia(t,e){const n=[],r={};return t.forEach(i=>{const s=e(i);Object.prototype.hasOwnProperty.call(r,s)||(r[s]=!0,n.push(i))}),n}function qE(t,e){return new Set([...t].filter(n=>!e.has(n)))}function jh(t){return[].concat(...t)}function YE(t,e){return t.filter(n=>!e.includes(n))}function QE(t){return Array.isArray(t)?t:t?[t]:[]}function XE(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function KE(t,e){return Object.prototype.hasOwnProperty.call(e,t)}function Ln(t){return typeof t[0]=="string"?t[0].toLowerCase()+t.slice(1):""}function zi(t){const e=t.split(/\./g);return e.length>=4?e.slice(1,4).join("."):t}function JE(t){const e=t.split(/\./g);return e.length>=4?e[3]:void 0}function ZE(){let t=!1;return W.useMemo(()=>{t=!0},[]),t}function eO(t,e){return Array.from({length:t}).map((n,r)=>e(r))}function sn(t){return e=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null))}function Th(t,e){return sn(e)(t)}function tO(t){return Th(t,e=>e.id)}function Va(t){return t==="ObjectReference"||t==="ObjectReferenceSet"}function nO(t){return t==="Decimal"||t==="Integer"||t==="Long"}function mv(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yv(){const[,t]=W.useState({});return W.useCallback(()=>t({}),[])}function zc(t,e){return _h(t,e,n=>n)}function _h(t,e,n){const r=[];for(const i of t){const s=e(i),c=n(i),l=r.find(d=>d.key===s);l?l.values.push(c):r.push({key:s,values:[c]})}return r}function Ts(...t){const e=W.useRef([...t]);if(e.current.length!==t.length||e.current.some((n,r)=>t[r]!==n))throw new U("The hook is called with different parameters than previously")}function bv(...t){let e="";for(const n of t)n!==void 0&&(e.endsWith("/")&&n.startsWith("/")?e+=n.substring(1):e.endsWith("/")||n.startsWith("/")?e+=n:e+="/"+n);return e}function rO(t,e){const n=new URLSearchParams(t);return new URLSearchParams(e).forEach((r,i)=>{n.set(i,r)}),n.toString()}let vv;function xt(){return H(vv)}function aO(t){vv=t}function Ne(t){return Ih().get(t)}function oa(t){return Object.values(Ne(t)?.attributes??{})}function Bc(t,e){return Ih().get(t)?.attributes[e]?.type}function Dh(t,e){const n=Ih().get(t)?.attributes[e]?.enumeration;if(!n)throw new U(`Attribute ${e} is not accessible or not enumeration`);return n}function wv(t,e){return Va(t?.attributes[e]?.type)}function Ah(t,e){return t===e||!!Ne(t)?.generalizations.includes(e)}const xv=new Map;function iO(t,e){const n=`${t}.${e}`,r=xv.get(n);if(r!==void 0&&!uO)return r;const i=Ne(t);if(!i?.attributes[e])return;const s=i.generalizations.filter(c=>Ne(c)?.attributes[e]).pop()??t;return xv.set(n,s),s}var un;function Ph(t){return Object.values(un).includes(t)}function $v(t,e=!1){return Ah(t,e?"System.Image":"System.FileDocument")}function oO(t){return Ah(t,"System.Image")}function sO(t,e=!1){return $v(t.objectType,e)&&H(t.attributes.HasContents).value===!0}function Nh(t){return Number(BigInt(t)>>48n)}(function(t){t.ChangedBy="System.changedBy",t.Owner="System.owner",t.CreatedDate="createdDate",t.ChangedDate="changedDate"})(un||(un={}));const Vc=new Map;function Ih(){return Vc.size===0&&xt().getConfig("metadata").forEach(t=>{const e=t.entityId??(t.maxObjectId===void 0?void 0:Nh(t.maxObjectId)),n=Object.freeze({entityId:e,name:t.objectType,generalization:t.properties.generalization,generalizations:Object.freeze(t.properties.superclasses),specializations:Object.freeze(t.properties.subclasses),isPersistable:t.persistable,maxObjectId:t.maxObjectId,...t.isRemoteFileEntity&&{isRemoteFileEntity:t.isRemoteFileEntity},needsReachableState:Object.freeze(t.needsReachableState),deleteBehavior:Object.freeze(t.deleteBehavior),attributes:Object.freeze(Object.fromEntries(Object.entries(t.attributes).map(([r,i])=>[r,Object.freeze({name:r,type:i.type,referenceEntity:Va(i.type)?i.klass:void 0,enumeration:i.type==="Enum"?i.klass:void 0,isDateLocalized:i.type==="DateTime"?!!i.localize:void 0,isBidiReference:Va(i.type)?!!i.both:void 0,isSyncable:i.sync!==!1,isAlwaysReadOnly:!!i.readonly,defaultValue:i.defaultValue})]))),indices:(t.indices??[]).map(r=>Object.freeze({attributes:r.attributes.map(i=>Object.freeze({name:i.name,direction:i.direction}))}))});Vc.set(t.objectType,n),e!==void 0&&Vc.set(e,n)}),Vc}const uO=!1;var Wc=[];Object.freeze(Wc);var Rh={};function cn(){return++oe.mobxGuid}function Qe(t){throw Wa(!1,t),"X"}function Wa(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}function Sv(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}Object.freeze(Rh);var Hc=function(){};function Mh(t){return t!==null&&typeof t=="object"}function Bi(t){if(t===null||typeof t!="object")return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function Vi(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function sa(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return Mh(r)&&r[n]===!0}}function Wi(t){return t instanceof Map}function _s(t){return t instanceof Set}function ua(t){return t&&t.toString?t.toString():new String(t).toString()}function kv(t){return t===null?null:typeof t=="object"?""+t:t}var cO=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,ge=Symbol("mobx administration"),Hi=function(){function t(e){e===void 0&&(e="Atom@"+cn()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ce.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},t.prototype.reportObserved=function(){return Mv(this)},t.prototype.reportChanged=function(){Un(),function(e){e.lowestObserverState!==Ce.STALE&&(e.lowestObserverState=Ce.STALE,e.observers.forEach(function(n){n.dependenciesState===Ce.UP_TO_DATE&&(n.isTracing!==ar.NONE&&Lv(n,e),n.onBecomeStale()),n.dependenciesState=Ce.STALE}))}(this),Fn()},t.prototype.toString=function(){return this.name},t}(),Lh=sa("Atom",Hi);function ca(t,e,n){e===void 0&&(e=Hc),n===void 0&&(n=Hc);var r=new Hi(t);return e!==Hc&&Gv("onBecomeObserved",r,e),n!==Hc&&Hv(r,n),r}var la={identity:function(t,e){return t===e},structural:function(t,e){return Kh(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return Kh(t,e,1)}},Uh=function(t,e){return Uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Uh(t,e)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Gc=function(){return Gc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Gc.apply(this,arguments)};function rr(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function Gi(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),c=[];try{for(;(e===void 0||e-- >0)&&!(r=s.next()).done;)c.push(r.value)}catch(l){i={error:l}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return c}function Fh(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Gi(arguments[e]));return t}var qc=Symbol("mobx did run lazy initializers"),Ds=Symbol("mobx pending decorators"),lO={},dO={};function Ha(t){var e,n;if(t[qc]!==!0){var r=t[Ds];if(r){Vi(t,qc,!0);var i=Fh(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var s=rr(i),c=s.next();!c.done;c=s.next()){var l=r[c.value];l.propertyCreator(t,l.prop,l.descriptor,l.decoratorTarget,l.decoratorArguments)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}}}}function Ev(t,e){return function(){var n,r,i=function(s,c,l,d){if(d===!0)return e(s,c,l,s,n),null;if(!Object.prototype.hasOwnProperty.call(s,Ds)){var h=s[Ds];Vi(s,Ds,Gc({},h))}return s[Ds][c]={prop:c,propertyCreator:e,descriptor:l,decoratorTarget:s,decoratorArguments:n},function(g,y){var v=y?lO:dO;return v[g]||(v[g]={configurable:!0,enumerable:y,get:function(){return Ha(this),this[g]},set:function(b){Ha(this),this[g]=b}})}(c,t)};return((r=arguments).length===2||r.length===3)&&(typeof r[1]=="string"||typeof r[1]=="symbol")||r.length===4&&r[3]===!0?(n=Wc,i.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),i)}}function As(t,e,n){return Jv(t)?t:Array.isArray(t)?Tt.array(t,{name:n}):Bi(t)?Tt.object(t,void 0,{name:n}):Wi(t)?Tt.map(t,{name:n}):_s(t)?Tt.set(t,{name:n}):t}function Yc(t){return t}function Qc(t){Wa(t);var e=Ev(!0,function(r,i,s,c,l){var d=s?s.initializer?s.initializer.call(r):s.value:void 0;Xh(r).addObservableProp(i,d,t)}),n=(typeof process<"u"&&process.env,e);return n.enhancer=t,n}var Ov={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function qi(t){return t==null?Ov:typeof t=="string"?{name:t,deep:!0,proxy:!0}:t}Object.freeze(Ov);var zh=Qc(As),fO=Qc(function(t,e,n){return t==null||Fs(t)||sl(t)||ha(t)||pa(t)?t:Array.isArray(t)?Tt.array(t,{name:n,deep:!1}):Bi(t)?Tt.object(t,void 0,{name:n,deep:!1}):Wi(t)?Tt.map(t,{name:n,deep:!1}):_s(t)?Tt.set(t,{name:n,deep:!1}):Qe(!1)}),Cv=Qc(Yc),hO=Qc(function(t,e,n){return Kh(t,e)?e:t});function Xc(t){return t.defaultDecorator?t.defaultDecorator.enhancer:t.deep===!1?Yc:As}var jv={box:function(t,e){arguments.length>2&&Ps("box");var n=qi(e);return new qa(t,Xc(n),n.name,!0,n.equals)},array:function(t,e){arguments.length>2&&Ps("array");var n=qi(e);return function(r,i,s,c){s===void 0&&(s="ObservableArray@"+cn()),c===void 0&&(c=!1);var l=new ew(s,i,c);d=l.values,h=ge,g=l,Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:g});var d,h,g,y=new Proxy(l.values,kO);if(l.proxy=y,r&&r.length){var v=Zc(!0);l.spliceWithArray(0,0,r),el(v)}return y}(t,Xc(n),n.name)},map:function(t,e){arguments.length>2&&Ps("map");var n=qi(e);return new rw(t,Xc(n),n.name)},set:function(t,e){arguments.length>2&&Ps("set");var n=qi(e);return new aw(t,Xc(n),n.name)},object:function(t,e,n){typeof arguments[1]=="string"&&Ps("object");var r=qi(n);if(r.proxy===!1)return Yv({},t,e,r);var i=Qv(r),s=function(c){var l=new Proxy(c,SO);return c[ge].proxy=l,l}(Yv({},void 0,void 0,r));return Xv(s,t,e,i),s},ref:Cv,shallow:fO,deep:zh,struct:hO},Tt=function(t,e,n){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return zh.apply(null,arguments);if(Jv(t))return t;var r=Bi(t)?Tt.object(t,e,n):Array.isArray(t)?Tt.array(t,e):Wi(t)?Tt.map(t,e):_s(t)?Tt.set(t,e):t;if(r!==t)return r;Qe(!1)};function Ps(t){Qe("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys(jv).forEach(function(t){return Tt[t]=jv[t]});var Ce,ar,Bh=Ev(!1,function(t,e,n,r,i){var s=n.get,c=n.set,l=i[0]||{};Xh(t).addComputedProp(t,e,Gc({get:s,set:c,context:t},l))}),pO=Bh({equals:la.structural}),Yi=function(t,e,n){if(typeof e=="string"||t!==null&&typeof t=="object"&&arguments.length===1)return Bh.apply(null,arguments);var r=typeof e=="object"?e:{};return r.get=t,r.set=typeof e=="function"?e:r.set,r.name=r.name||t.name||"",new Ki(r)};Yi.struct=pO,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(Ce||(Ce={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(ar||(ar={}));var Kc=function(t){this.cause=t};function Ns(t){return t instanceof Kc}function Vh(t){switch(t.dependenciesState){case Ce.UP_TO_DATE:return!1;case Ce.NOT_TRACKING:case Ce.STALE:return!0;case Ce.POSSIBLY_STALE:for(var e=Gh(!0),n=Xi(),r=t.observing,i=r.length,s=0;s<i;s++){var c=r[s];if(tl(c)){if(oe.disableErrorBoundaries)c.get();else try{c.get()}catch{return da(n),Is(e),!0}if(t.dependenciesState===Ce.STALE)return da(n),Is(e),!0}}return _v(t),da(n),Is(e),!1}}function Qi(t){var e=t.observers.size>0;oe.computationDepth>0&&e&&Qe(!1),oe.allowStateChanges||!e&&oe.enforceActions!=="strict"||Qe(!1)}function Tv(t,e,n){var r=Gh(!0);_v(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++oe.runId;var i,s=oe.trackingDerivation;if(oe.trackingDerivation=t,oe.disableErrorBoundaries===!0)i=e.call(n);else try{i=e.call(n)}catch(c){i=new Kc(c)}return oe.trackingDerivation=s,function(c){for(var l=c.observing,d=c.observing=c.newObserving,h=Ce.UP_TO_DATE,g=0,y=c.unboundDepsCount,v=0;v<y;v++)(b=d[v]).diffValue===0&&(b.diffValue=1,g!==v&&(d[g]=b),g++),b.dependenciesState>h&&(h=b.dependenciesState);for(d.length=g,c.newObserving=null,y=l.length;y--;)(b=l[y]).diffValue===0&&Iv(b,c),b.diffValue=0;for(;g--;){var b;(b=d[g]).diffValue===1&&(b.diffValue=0,bO(b,c))}h!==Ce.UP_TO_DATE&&(c.dependenciesState=h,c.onBecomeStale())}(t),Is(r),i}function Wh(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)Iv(e[n],t);t.dependenciesState=Ce.NOT_TRACKING}function Hh(t){var e=Xi();try{return t()}finally{da(e)}}function Xi(){var t=oe.trackingDerivation;return oe.trackingDerivation=null,t}function da(t){oe.trackingDerivation=t}function Gh(t){var e=oe.allowStateReads;return oe.allowStateReads=t,e}function Is(t){oe.allowStateReads=t}function _v(t){if(t.dependenciesState!==Ce.UP_TO_DATE){t.dependenciesState=Ce.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=Ce.UP_TO_DATE}}var Jc=0,gO=1,Dv=Object.getOwnPropertyDescriptor(function(){},"name");function Ga(t,e,n){var r=function(){return Av(t,e,n||this,arguments)};return r.isMobxAction=!0,r}function Av(t,e,n,r){var i=function(){var s=!1,c=0,l=Xi();Un();var d=Zc(!0),h=Gh(!0),g={prevDerivation:l,prevAllowStateChanges:d,prevAllowStateReads:h,notifySpy:s,startTime:c,actionId:gO++,parentActionId:Jc};return Jc=g.actionId,g}();try{return e.apply(n,r)}catch(s){throw i.error=s,s}finally{(function(s){Jc!==s.actionId&&Qe("invalid action stack. did you forget to finish an action?"),Jc=s.parentActionId,s.error!==void 0&&(oe.suppressReactionErrors=!0),el(s.prevAllowStateChanges),Is(s.prevAllowStateReads),Fn(),da(s.prevDerivation),oe.suppressReactionErrors=!1})(i)}}function Zc(t){var e=oe.allowStateChanges;return oe.allowStateChanges=t,e}function el(t){oe.allowStateChanges=t}function mO(t){var e,n=oe.computationDepth;oe.computationDepth=0;try{e=t()}finally{oe.computationDepth=n}return e}Dv&&Dv.configurable;var qa=function(t){function e(n,r,i,s,c){i===void 0&&(i="ObservableValue@"+cn()),c===void 0&&(c=la.default);var l=t.call(this,i)||this;return l.enhancer=r,l.name=i,l.equals=c,l.hasUnreportedChange=!1,l.value=r(n,void 0,i),l}return function(n,r){function i(){this.constructor=n}Uh(n,r),n.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(e,t),e.prototype.dehanceValue=function(n){return this.dehancer!==void 0?this.dehancer(n):n},e.prototype.set=function(n){this.value,(n=this.prepareNewValue(n))!==oe.UNCHANGED&&this.setNewValue(n)},e.prototype.prepareNewValue=function(n){if(Qi(this),ir(this)){var r=or(this,{object:this,type:"update",newValue:n});if(!r)return oe.UNCHANGED;n=r.newValue}return n=this.enhancer(n,this.value,this.name),this.equals(this.value,n)?oe.UNCHANGED:n},e.prototype.setNewValue=function(n){var r=this.value;this.value=n,this.reportChanged(),zn(this)&&Bn(this,{type:"update",object:this,newValue:n,oldValue:r})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(n){return Ls(this,n)},e.prototype.observe=function(n,r){return r&&n({object:this,type:"update",newValue:this.value,oldValue:void 0}),Us(this,n)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return kv(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(Hi);sa("ObservableValue",qa);var Ki=function(){function t(e){this.dependenciesState=Ce.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ce.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+cn(),this.value=new Kc(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=ar.NONE,Wa(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+cn(),e.set&&(this.setter=Ga(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?la.structural:la.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return t.prototype.onBecomeStale=function(){(function(e){e.lowestObserverState===Ce.UP_TO_DATE&&(e.lowestObserverState=Ce.POSSIBLY_STALE,e.observers.forEach(function(n){n.dependenciesState===Ce.UP_TO_DATE&&(n.dependenciesState=Ce.POSSIBLY_STALE,n.isTracing!==ar.NONE&&Lv(n,e),n.onBecomeStale())}))})(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(e){return e()})},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(e){return e()})},t.prototype.get=function(){this.isComputing&&Qe("Cycle detected in computation "+this.name+": "+this.derivation),oe.inBatch!==0||this.observers.size!==0||this.keepAlive?(Mv(this),Vh(this)&&this.trackAndCompute()&&function(n){n.lowestObserverState!==Ce.STALE&&(n.lowestObserverState=Ce.STALE,n.observers.forEach(function(r){r.dependenciesState===Ce.POSSIBLY_STALE?r.dependenciesState=Ce.STALE:r.dependenciesState===Ce.UP_TO_DATE&&(n.lowestObserverState=Ce.UP_TO_DATE)}))}(this)):Vh(this)&&(this.warnAboutUntrackedRead(),Un(),this.value=this.computeValue(!1),Fn());var e=this.value;if(Ns(e))throw e.cause;return e},t.prototype.peek=function(){var e=this.computeValue(!1);if(Ns(e))throw e.cause;return e},t.prototype.set=function(e){if(this.setter){Wa(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else Wa(!1,!1)},t.prototype.trackAndCompute=function(){var e=this.value,n=this.dependenciesState===Ce.NOT_TRACKING,r=this.computeValue(!0),i=n||Ns(e)||Ns(r)||!this.equals(e,r);return i&&(this.value=r),i},t.prototype.computeValue=function(e){var n;if(this.isComputing=!0,oe.computationDepth++,e)n=Tv(this,this.derivation,this.scope);else if(oe.disableErrorBoundaries===!0)n=this.derivation.call(this.scope);else try{n=this.derivation.call(this.scope)}catch(r){n=new Kc(r)}return oe.computationDepth--,this.isComputing=!1,n},t.prototype.suspend=function(){this.keepAlive||(Wh(this),this.value=void 0)},t.prototype.observe=function(e,n){var r=this,i=!0,s=void 0;return Vv(function(){var c=r.get();if(!i||n){var l=Xi();e({type:"update",object:r,newValue:c,oldValue:s}),da(l)}i=!1,s=c})},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return kv(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),tl=sa("ComputedValue",Ki),nl=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},yO={};function qh(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:yO}var rl=!0,Pv=!1,oe=function(){var t=qh();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(rl=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new nl().version&&(rl=!1),rl?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new nl):(setTimeout(function(){Pv||Qe("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new nl)}();function Nv(){return oe}function bO(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Iv(t,e){t.observers.delete(e),t.observers.size===0&&Rv(t)}function Rv(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,oe.pendingUnobservations.push(t))}function Un(){oe.inBatch++}function Fn(){if(--oe.inBatch==0){zv();for(var t=oe.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Ki&&n.suspend())}oe.pendingUnobservations=[]}}function Mv(t){var e=oe.trackingDerivation;return e!==null?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(t.observers.size===0&&oe.inBatch>0&&Rv(t),!1)}function Lv(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===ar.BREAK){var n=[];Uv(Kv(Ji(t,r)),n,1),new Function(`debugger;
/*
Tracing '`+t.name+`'

You are entering this break point because derivation '`+t.name+"' is being traced and '"+e.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(t instanceof Ki?t.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+n.join(`
`)+`
*/
    `)()}var r}function Uv(t,e,n){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(n).join("	")+t.name),t.dependencies&&t.dependencies.forEach(function(r){return Uv(r,e,n+1)}))}var Rs=function(){function t(e,n,r,i){e===void 0&&(e="Reaction@"+cn()),i===void 0&&(i=!1),this.name=e,this.onInvalidate=n,this.errorHandler=r,this.requiresObservable=i,this.observing=[],this.newObserving=[],this.dependenciesState=Ce.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+cn(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=ar.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,oe.pendingReactions.push(this),zv())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Un(),this._isScheduled=!1,Vh(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(e){this.reportExceptionInDerivation(e)}}Fn()}},t.prototype.track=function(e){if(!this.isDisposed){Un(),this._isRunning=!0;var n=Tv(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Wh(this),Ns(n)&&this.reportExceptionInDerivation(n.cause),Fn()}},t.prototype.reportExceptionInDerivation=function(e){var n=this;if(this.errorHandler)this.errorHandler(e,this);else{if(oe.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";oe.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),oe.globalReactionErrorHandlers.forEach(function(i){return i(e,n)})}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Un(),Wh(this),Fn()))},t.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[ge]=this,e},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(e){e===void 0&&(e=!1),function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=!1;typeof n[n.length-1]=="boolean"&&(i=n.pop());var s=function(c){switch(c.length){case 0:return oe.trackingDerivation;case 1:return Ji(c[0]);case 2:return Ji(c[0],c[1])}}(n);if(!s)return Qe(!1);s.isTracing===ar.NONE&&console.log("[mobx.trace] '"+s.name+"' tracing enabled"),s.isTracing=i?ar.BREAK:ar.LOG}(this,e)},t}(),Fv=100,Yh=function(t){return t()};function zv(){oe.inBatch>0||oe.isRunningReactions||Yh(vO)}function vO(){oe.isRunningReactions=!0;for(var t=oe.pendingReactions,e=0;t.length>0;){++e===Fv&&(console.error("Reaction doesn't converge to a stable state after "+Fv+" iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction()}oe.isRunningReactions=!1}var al=sa("Reaction",Rs);function wO(t){var e=Yh;Yh=function(n){return t(function(){return e(n)})}}function xO(){Qe(!1)}function Bv(t){return function(e,n,r){if(r){if(r.value)return{value:Ga(t,r.value),enumerable:!1,configurable:!0,writable:!0};var i=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ga(t,i.call(this))}}}return function(s){return function(c,l,d){Object.defineProperty(c,l,{configurable:!0,enumerable:!1,get:function(){},set:function(h){Vi(this,l,ln(s,h))}})}}(t).apply(this,arguments)}}var ln=function(t,e,n,r){return arguments.length===1&&typeof t=="function"?Ga(t.name||"<unnamed action>",t):arguments.length===2&&typeof e=="function"?Ga(t,e):arguments.length===1&&typeof t=="string"?Bv(t):r!==!0?Bv(e).apply(null,arguments):void Vi(t,e,Ga(t.name||e,n.value,this))};function fa(t,e){return typeof t=="string"||t.name,Av(0,typeof t=="function"?t:e,this,void 0)}function Qh(t,e,n){Vi(t,e,Ga(e,n.bind(t)))}function Vv(t,e){e===void 0&&(e=Rh);var n,r=e&&e.name||t.name||"Autorun@"+cn();if(!e.scheduler&&!e.delay)n=new Rs(r,function(){this.track(c)},e.onError,e.requiresObservable);else{var i=Wv(e),s=!1;n=new Rs(r,function(){s||(s=!0,i(function(){s=!1,n.isDisposed||n.track(c)}))},e.onError,e.requiresObservable)}function c(){t(n)}return n.schedule(),n.getDisposer()}ln.bound=function(t,e,n,r){return r===!0?(Qh(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return Qh(this,e,n.value||n.initializer.call(this)),this[e]},set:xO}:{enumerable:!1,configurable:!0,set:function(i){Qh(this,e,i)},get:function(){}}};var $O=function(t){return t()};function Wv(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:$O}function Ms(t,e,n){n===void 0&&(n=Rh);var r,i,s,c=n.name||"Reaction@"+cn(),l=ln(c,n.onError?(r=n.onError,i=e,function(){try{return i.apply(this,arguments)}catch(S){r.call(this,S)}}):e),d=!n.scheduler&&!n.delay,h=Wv(n),g=!0,y=!1,v=n.compareStructural?la.structural:n.equals||la.default,b=new Rs(c,function(){g||d?x():y||(y=!0,h(x))},n.onError,n.requiresObservable);function x(){if(y=!1,!b.isDisposed){var S=!1;b.track(function(){var C=t(b);S=g||!v(s,C),s=C}),g&&n.fireImmediately&&l(s,b),g||S!==!0||l(s,b),g&&(g=!1)}}return b.schedule(),b.getDisposer()}function Hv(t,e,n){return Gv("onBecomeUnobserved",t,e)}function Gv(t,e,n,r){var i=Ji(e),s=n,c=t+"Listeners";return i[c]?i[c].add(s):i[c]=new Set([s]),typeof i[t]!="function"?Qe(!1):function(){var l=i[c];l&&(l.delete(s),l.size===0&&delete i[c])}}function qv(t){var e=t.enforceActions,n=t.computedRequiresReaction,r=t.computedConfigurable,i=t.disableErrorBoundaries,s=t.reactionScheduler,c=t.reactionRequiresObservable,l=t.observableRequiresReaction;if(t.isolateGlobalState===!0&&((oe.pendingReactions.length||oe.inBatch||oe.isRunningReactions)&&Qe("isolateGlobalState should be called before MobX is running any reactions"),Pv=!0,rl&&(--qh().__mobxInstanceCount==0&&(qh().__mobxGlobals=void 0),oe=new nl)),e!==void 0){var d=void 0;switch(e){case!0:case"observed":d=!0;break;case!1:case"never":d=!1;break;case"strict":case"always":d="strict";break;default:Qe("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}oe.enforceActions=d,oe.allowStateChanges=d!==!0&&d!=="strict"}n!==void 0&&(oe.computedRequiresReaction=!!n),c!==void 0&&(oe.reactionRequiresObservable=!!c),l!==void 0&&(oe.observableRequiresReaction=!!l,oe.allowStateReads=!oe.observableRequiresReaction),r!==void 0&&(oe.computedConfigurable=!!r),i!==void 0&&(i===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),oe.disableErrorBoundaries=!!i),s&&wO(s)}function Yv(t,e,n,r){var i=Qv(r=qi(r));return Ha(t),Xh(t,r.name,i.enhancer),e&&Xv(t,e,n,i),t}function Qv(t){return t.defaultDecorator||(t.deep===!1?Cv:zh)}function Xv(t,e,n,r){var i,s;Un();try{var c=cO(e);try{for(var l=rr(c),d=l.next();!d.done;d=l.next()){var h=d.value,g=Object.getOwnPropertyDescriptor(e,h),y=n&&h in n?n[h]:g.get?Bh:r,v=y(t,h,g,!0);v&&Object.defineProperty(t,h,v)}}catch(b){i={error:b}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(i)throw i.error}}}finally{Fn()}}function Kv(t){var e,n,r={name:t.name};return t.observing&&t.observing.length>0&&(r.dependencies=(e=t.observing,n=[],e.forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),n).map(Kv)),r}function Jv(t){return arguments.length!==1&&Qe(!1),function(e){return e!=null&&(Fs(e)||!!e[ge]||Lh(e)||al(e)||tl(e))}(t)}function Zv(t,e,n){if(arguments.length!==2||pa(t))if(Fs(t)){var r=t[ge];r.values.get(e)?r.write(e,n):r.addObservableProp(e,n,r.defaultEnhancer)}else if(ha(t))t.set(e,n);else if(pa(t))t.add(e);else{if(!sl(t))return Qe(!1);typeof e!="number"&&(e=parseInt(e,10)),Wa(e>=0,"Not a valid index: '"+e+"'"),Un(),e>=t.length&&(t.length=e+1),t[e]=n,Fn()}else{Un();var i=e;try{for(var s in i)Zv(t,s,i[s])}finally{Fn()}}}function Er(t,e){e===void 0&&(e=void 0),Un();try{return t.apply(e)}finally{Fn()}}function il(t){return t[ge]}function ol(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"}var SO={has:function(t,e){if(e===ge||e==="constructor"||e===qc)return!0;var n=il(t);return ol(e)?n.has(e):e in t},get:function(t,e){if(e===ge||e==="constructor"||e===qc)return t[e];var n=il(t),r=n.values.get(e);if(r instanceof Hi){var i=r.get();return i===void 0&&n.has(e),i}return ol(e)&&n.has(e),t[e]},set:function(t,e,n){return!!ol(e)&&(Zv(t,e,n),!0)},deleteProperty:function(t,e){return!!ol(e)&&(il(t).remove(e),!0)},ownKeys:function(t){return il(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return Qe("Dynamic observable objects cannot be frozen"),!1}};function ir(t){return t.interceptors!==void 0&&t.interceptors.length>0}function Ls(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),Sv(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function or(t,e){var n=Xi();try{for(var r=Fh(t.interceptors||[]),i=0,s=r.length;i<s&&(Wa(!(e=r[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{da(n)}}function zn(t){return t.changeListeners!==void 0&&t.changeListeners.length>0}function Us(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),Sv(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function Bn(t,e){var n=Xi(),r=t.changeListeners;if(r){for(var i=0,s=(r=r.slice()).length;i<s;i++)r[i](e);da(n)}}var kO={get:function(t,e){return e===ge?t[ge]:e==="length"?t[ge].getArrayLength():typeof e=="number"?Or.get.call(t,e):typeof e!="string"||isNaN(e)?Or.hasOwnProperty(e)?Or[e]:t[e]:Or.get.call(t,parseInt(e))},set:function(t,e,n){return e==="length"&&t[ge].setArrayLength(n),typeof e=="number"&&Or.set.call(t,e,n),typeof e=="symbol"||isNaN(e)?t[e]=n:Or.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return Qe("Observable arrays cannot be frozen"),!1}},ew=function(){function t(e,n,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new Hi(e||"ObservableArray@"+cn()),this.enhancer=function(i,s){return n(i,s,e+"[..]")}}return t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.dehanceValues=function(e){return this.dehancer!==void 0&&e.length>0?e.map(this.dehancer):e},t.prototype.intercept=function(e){return Ls(this,e)},t.prototype.observe=function(e,n){return n===void 0&&(n=!1),n&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Us(this,e)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(e){if(typeof e!="number"||e<0)throw new Error("[mobx.array] Out of range: "+e);var n=this.values.length;if(e!==n)if(e>n){for(var r=new Array(e-n),i=0;i<e-n;i++)r[i]=void 0;this.spliceWithArray(n,0,r)}else this.spliceWithArray(e,n-e)},t.prototype.updateArrayLength=function(e,n){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=n},t.prototype.spliceWithArray=function(e,n,r){var i=this;Qi(this.atom);var s=this.values.length;if(e===void 0?e=0:e>s?e=s:e<0&&(e=Math.max(0,s+e)),n=arguments.length===1?s-e:n==null?0:Math.max(0,Math.min(n,s-e)),r===void 0&&(r=Wc),ir(this)){var c=or(this,{object:this.proxy,type:"splice",index:e,removedCount:n,added:r});if(!c)return Wc;n=c.removedCount,r=c.added}r=r.length===0?r:r.map(function(d){return i.enhancer(d,void 0)});var l=this.spliceItemsIntoValues(e,n,r);return n===0&&r.length===0||this.notifyArraySplice(e,r,l),this.dehanceValues(l)},t.prototype.spliceItemsIntoValues=function(e,n,r){var i;if(r.length<1e4)return(i=this.values).splice.apply(i,Fh([e,n],r));var s=this.values.slice(e,e+n);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+n)),s},t.prototype.notifyArrayChildUpdate=function(e,n,r){var i=!this.owned&&!1,s=zn(this),c=s||i?{object:this.proxy,type:"update",index:e,newValue:n,oldValue:r}:null;this.atom.reportChanged(),s&&Bn(this,c)},t.prototype.notifyArraySplice=function(e,n,r){var i=!this.owned&&!1,s=zn(this),c=s||i?{object:this.proxy,type:"splice",index:e,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom.reportChanged(),s&&Bn(this,c)},t}(),Or={intercept:function(t){return this[ge].intercept(t)},observe:function(t,e){return e===void 0&&(e=!1),this[ge].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[ge];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this[ge];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray(t);case 2:return i.spliceWithArray(t,e)}return i.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[ge].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[ge];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[ge].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[ge];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[ge],n=e.dehanceValues(e.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},get:function(t){var e=this[ge];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var n=this[ge],r=n.values;if(t<r.length){Qi(n.atom);var i=r[t];if(ir(n)){var s=or(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!s)return;e=s.newValue}(e=n.enhancer(e,i))!==i&&(r[t]=e,n.notifyArrayChildUpdate(t,e,i))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(t){typeof Array.prototype[t]=="function"&&(Or[t]=function(){var e=this[ge];e.atom.reportObserved();var n=e.dehanceValues(e.values);return n[t].apply(n,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(t){typeof Array.prototype[t]=="function"&&(Or[t]=function(e,n){var r=this,i=this[ge];return i.atom.reportObserved(),i.dehanceValues(i.values)[t](function(s,c){return e.call(n,s,c,r)},n)})}),["reduce","reduceRight"].forEach(function(t){Or[t]=function(){var e=this,n=this[ge];n.atom.reportObserved();var r=arguments[0];return arguments[0]=function(i,s,c){return s=n.dehanceValue(s),r(i,s,c,e)},n.values[t].apply(n.values,arguments)}});var tw,EO=sa("ObservableArrayAdministration",ew);function sl(t){return Mh(t)&&EO(t[ge])}var nw,OO={},rw=function(){function t(e,n,r){if(n===void 0&&(n=As),r===void 0&&(r="ObservableMap@"+cn()),this.enhancer=n,this.name=r,this[tw]=OO,this._keysAtom=ca(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return t.prototype._has=function(e){return this._data.has(e)},t.prototype.has=function(e){var n=this;if(!oe.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var i=r=new qa(this._has(e),Yc,this.name+"."+ua(e)+"?",!1);this._hasMap.set(e,i),Hv(i,function(){return n._hasMap.delete(e)})}return r.get()},t.prototype.set=function(e,n){var r=this._has(e);if(ir(this)){var i=or(this,{type:r?"update":"add",object:this,newValue:n,name:e});if(!i)return this;n=i.newValue}return r?this._updateValue(e,n):this._addValue(e,n),this},t.prototype.delete=function(e){var n=this;if(Qi(this._keysAtom),ir(this)&&!(i=or(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var r=zn(this),i=r?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return Er(function(){n._keysAtom.reportChanged(),n._updateHasMapEntry(e,!1),n._data.get(e).setNewValue(void 0),n._data.delete(e)}),r&&Bn(this,i),!0}return!1},t.prototype._updateHasMapEntry=function(e,n){var r=this._hasMap.get(e);r&&r.setNewValue(n)},t.prototype._updateValue=function(e,n){var r=this._data.get(e);if((n=r.prepareNewValue(n))!==oe.UNCHANGED){var i=zn(this),s=i?{type:"update",object:this,oldValue:r.value,name:e,newValue:n}:null;r.setNewValue(n),i&&Bn(this,s)}},t.prototype._addValue=function(e,n){var r=this;Qi(this._keysAtom),Er(function(){var s=new qa(n,r.enhancer,r.name+"."+ua(e),!1);r._data.set(e,s),n=s.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()});var i=zn(this);i&&Bn(this,i?{type:"add",object:this,name:e,newValue:n}:null)},t.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var e=this,n=this.keys();return ul({next:function(){var r=n.next(),i=r.done,s=r.value;return{done:i,value:i?void 0:e.get(s)}}})},t.prototype.entries=function(){var e=this,n=this.keys();return ul({next:function(){var r=n.next(),i=r.done,s=r.value;return{done:i,value:i?void 0:[s,e.get(s)]}}})},t.prototype[tw=ge,Symbol.iterator]=function(){return this.entries()},t.prototype.forEach=function(e,n){var r,i;try{for(var s=rr(this),c=s.next();!c.done;c=s.next()){var l=Gi(c.value,2),d=l[0],h=l[1];e.call(n,h,d,this)}}catch(g){r={error:g}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},t.prototype.merge=function(e){var n=this;return ha(e)&&(e=e.toJS()),Er(function(){var r=Zc(!0);try{Bi(e)?function(i){var s=new Set;for(var c in i)s.add(c);return Object.getOwnPropertySymbols(i).forEach(function(l){Object.getOwnPropertyDescriptor(i,l).enumerable&&s.add(l)}),Array.from(s)}(e).forEach(function(i){return n.set(i,e[i])}):Array.isArray(e)?e.forEach(function(i){var s=Gi(i,2),c=s[0],l=s[1];return n.set(c,l)}):Wi(e)?(e.constructor!==Map&&Qe("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach(function(i,s){return n.set(s,i)})):e!=null&&Qe("Cannot initialize map from "+e)}finally{el(r)}}),this},t.prototype.clear=function(){var e=this;Er(function(){Hh(function(){var n,r;try{for(var i=rr(e.keys()),s=i.next();!s.done;s=i.next()){var c=s.value;e.delete(c)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})})},t.prototype.replace=function(e){var n=this;return Er(function(){var r,i,s,c,l=function($){if(Wi($)||ha($))return $;if(Array.isArray($))return new Map($);if(Bi($)){var k=new Map;for(var j in $)k.set(j,$[j]);return k}return Qe("Cannot convert to map from '"+$+"'")}(e),d=new Map,h=!1;try{for(var g=rr(n._data.keys()),y=g.next();!y.done;y=g.next()){var v=y.value;if(!l.has(v))if(n.delete(v))h=!0;else{var b=n._data.get(v);d.set(v,b)}}}catch($){r={error:$}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}try{for(var x=rr(l.entries()),S=x.next();!S.done;S=x.next()){var C=Gi(S.value,2),I=(v=C[0],b=C[1],n._data.has(v));if(n.set(v,b),n._data.has(v)){var P=n._data.get(v);d.set(v,P),I||(h=!0)}}}catch($){s={error:$}}finally{try{S&&!S.done&&(c=x.return)&&c.call(x)}finally{if(s)throw s.error}}if(!h)if(n._data.size!==d.size)n._keysAtom.reportChanged();else for(var N=n._data.keys(),T=d.keys(),A=N.next(),F=T.next();!A.done;){if(A.value!==F.value){n._keysAtom.reportChanged();break}A=N.next(),F=T.next()}n._data=d}),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var e,n,r={};try{for(var i=rr(this),s=i.next();!s.done;s=i.next()){var c=Gi(s.value,2),l=c[0],d=c[1];r[typeof l=="symbol"?l:ua(l)]=d}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map(function(n){return ua(n)+": "+e.get(n)}).join(", ")+" }]"},t.prototype.observe=function(e,n){return Us(this,e)},t.prototype.intercept=function(e){return Ls(this,e)},t}(),ha=sa("ObservableMap",rw),CO={},aw=function(){function t(e,n,r){if(n===void 0&&(n=As),r===void 0&&(r="ObservableSet@"+cn()),this.name=r,this[nw]=CO,this._data=new Set,this._atom=ca(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(i,s){return n(i,s,r)},e&&this.replace(e)}return t.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},t.prototype.clear=function(){var e=this;Er(function(){Hh(function(){var n,r;try{for(var i=rr(e._data.values()),s=i.next();!s.done;s=i.next()){var c=s.value;e.delete(c)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}})})},t.prototype.forEach=function(e,n){var r,i;try{for(var s=rr(this),c=s.next();!c.done;c=s.next()){var l=c.value;e.call(n,l,l,this)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(e){var n=this;if(Qi(this._atom),ir(this)&&!(i=or(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){Er(function(){n._data.add(n.enhancer(e,void 0)),n._atom.reportChanged()});var r=zn(this),i=r?{type:"add",object:this,newValue:e}:null;r&&Bn(this,i)}return this},t.prototype.delete=function(e){var n=this;if(ir(this)&&!(i=or(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var r=zn(this),i=r?{type:"delete",object:this,oldValue:e}:null;return Er(function(){n._atom.reportChanged(),n._data.delete(e)}),r&&Bn(this,i),!0}return!1},t.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},t.prototype.entries=function(){var e=0,n=Array.from(this.keys()),r=Array.from(this.values());return ul({next:function(){var i=e;return e+=1,i<r.length?{value:[n[i],r[i]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var e=this,n=0,r=Array.from(this._data.values());return ul({next:function(){return n<r.length?{value:e.dehanceValue(r[n++]),done:!1}:{done:!0}}})},t.prototype.replace=function(e){var n=this;return pa(e)&&(e=e.toJS()),Er(function(){var r=Zc(!0);try{Array.isArray(e)||_s(e)?(n.clear(),e.forEach(function(i){return n.add(i)})):e!=null&&Qe("Cannot initialize set from "+e)}finally{el(r)}}),this},t.prototype.observe=function(e,n){return Us(this,e)},t.prototype.intercept=function(e){return Ls(this,e)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[nw=ge,Symbol.iterator]=function(){return this.values()},t}(),pa=sa("ObservableSet",aw),iw=function(){function t(e,n,r,i){n===void 0&&(n=new Map),this.target=e,this.values=n,this.name=r,this.defaultEnhancer=i,this.keysAtom=new Hi(r+".keys")}return t.prototype.read=function(e){return this.values.get(e).get()},t.prototype.write=function(e,n){var r=this.target,i=this.values.get(e);if(i instanceof Ki)i.set(n);else{if(ir(this)){if(!(c=or(this,{type:"update",object:this.proxy||r,name:e,newValue:n})))return;n=c.newValue}if((n=i.prepareNewValue(n))!==oe.UNCHANGED){var s=zn(this),c=s?{type:"update",object:this.proxy||r,oldValue:i.value,name:e,newValue:n}:null;i.setNewValue(n),s&&Bn(this,c)}}},t.prototype.has=function(e){var n=this.pendingKeys||(this.pendingKeys=new Map),r=n.get(e);if(r)return r.get();var i=!!this.values.get(e);return r=new qa(i,Yc,this.name+"."+ua(e)+"?",!1),n.set(e,r),r.get()},t.prototype.addObservableProp=function(e,n,r){r===void 0&&(r=this.defaultEnhancer);var i=this.target;if(ir(this)){var s=or(this,{object:this.proxy||i,name:e,type:"add",newValue:n});if(!s)return;n=s.newValue}var c=new qa(n,r,this.name+"."+ua(e),!1);this.values.set(e,c),n=c.value,Object.defineProperty(i,e,function(l){return ow[l]||(ow[l]={configurable:!0,enumerable:!0,get:function(){return this[ge].read(l)},set:function(d){this[ge].write(l,d)}})}(e)),this.notifyPropertyAddition(e,n)},t.prototype.addComputedProp=function(e,n,r){var i,s,c,l=this.target;r.name=r.name||this.name+"."+ua(n),this.values.set(n,new Ki(r)),(e===l||(i=e,s=n,!(c=Object.getOwnPropertyDescriptor(i,s))||c.configurable!==!1&&c.writable!==!1))&&Object.defineProperty(e,n,function(d){return sw[d]||(sw[d]={configurable:oe.computedConfigurable,enumerable:!1,get:function(){return uw(this).read(d)},set:function(h){uw(this).write(d,h)}})}(n))},t.prototype.remove=function(e){if(this.values.has(e)){var n=this.target;if(ir(this)&&!(l=or(this,{object:this.proxy||n,name:e,type:"remove"})))return;try{Un();var r=zn(this),i=this.values.get(e),s=i&&i.get();if(i&&i.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var c=this.pendingKeys.get(e);c&&c.set(!1)}delete this.target[e];var l=r?{type:"remove",object:this.proxy||n,oldValue:s,name:e}:null;r&&Bn(this,l)}finally{Fn()}}},t.prototype.illegalAccess=function(e,n){console.warn("Property '"+n+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(e,n){return Us(this,e)},t.prototype.intercept=function(e){return Ls(this,e)},t.prototype.notifyPropertyAddition=function(e,n){var r=zn(this),i=r?{type:"add",object:this.proxy||this.target,name:e,newValue:n}:null;if(r&&Bn(this,i),this.pendingKeys){var s=this.pendingKeys.get(e);s&&s.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var e,n;this.keysAtom.reportObserved();var r=[];try{for(var i=rr(this.values),s=i.next();!s.done;s=i.next()){var c=Gi(s.value,2),l=c[0];c[1]instanceof qa&&r.push(l)}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t}();function Xh(t,e,n){if(e===void 0&&(e=""),n===void 0&&(n=As),Object.prototype.hasOwnProperty.call(t,ge))return t[ge];Bi(t)||(e=(t.constructor.name||"ObservableObject")+"@"+cn()),e||(e="ObservableObject@"+cn());var r=new iw(t,new Map,ua(e),n);return Vi(t,ge,r),r}var ow=Object.create(null),sw=Object.create(null);function uw(t){var e=t[ge];return e||(Ha(t),t[ge])}var jO=sa("ObservableObjectAdministration",iw);function Fs(t){return!!Mh(t)&&(Ha(t),jO(t[ge]))}function Ji(t,e){if(typeof t=="object"&&t!==null){if(sl(t))return e!==void 0&&Qe(!1),t[ge].atom;if(pa(t))return t[ge];if(ha(t)){var n=t;return e===void 0?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||Qe(!1),r)}var r;if(Ha(t),e&&!t[ge]&&t[e],Fs(t))return e?((r=t[ge].values.get(e))||Qe(!1),r):Qe(!1);if(Lh(t)||tl(t)||al(t))return t}else if(typeof t=="function"&&al(t[ge]))return t[ge];return Qe(!1)}var cw=Object.prototype.toString;function Kh(t,e,n){return n===void 0&&(n=-1),Jh(t,e,n)}function Jh(t,e,n,r,i){if(t===e)return t!==0||1/t==1/e;if(t==null||e==null)return!1;if(t!=t)return e!=e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var c=cw.call(t);if(c!==cw.call(e))return!1;switch(c){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++}t=lw(t),e=lw(e);var l=c==="[object Array]";if(!l){if(typeof t!="object"||typeof e!="object")return!1;var d=t.constructor,h=e.constructor;if(d!==h&&!(typeof d=="function"&&d instanceof d&&typeof h=="function"&&h instanceof h)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[];for(var g=(r=r||[]).length;g--;)if(r[g]===t)return i[g]===e;if(r.push(t),i.push(e),l){if((g=t.length)!==e.length)return!1;for(;g--;)if(!Jh(t[g],e[g],n-1,r,i))return!1}else{var y=Object.keys(t),v=void 0;if(g=y.length,Object.keys(e).length!==g)return!1;for(;g--;)if(!TO(e,v=y[g])||!Jh(t[v],e[v],n-1,r,i))return!1}return r.pop(),i.pop(),!0}function lw(t){return sl(t)?t.slice():Wi(t)||ha(t)||_s(t)||pa(t)?Array.from(t.entries()):t}function TO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ul(t){return t[Symbol.iterator]=_O,t}function _O(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:function(t,e){return(e!==void 0?Ji(t,e):Fs(t)||ha(t)||pa(t)?function(n){return n||Qe("Expecting some object"),Lh(n)||tl(n)||al(n)||ha(n)||pa(n)?n:(Ha(n),n[ge]?n[ge]:void Qe(!1))}(t):Ji(t)).name}},$mobx:ge});let Ya=class NS{constructor(){this.lockMap=new Map}lock(e){for(const r of e){const i=this.lockMap.get(r)??0;this.lockMap.set(r,i+1)}let n=!1;return()=>{if(n)throw new U(`Releasing a lock that was already released for GUIDs ${e.join(", ")}`);for(const r of e){const i=this.lockMap.get(r);if(i===void 0)throw new U(`Releasing a lock that was already released for GUID ${r}`);i>1?this.lockMap.set(r,i-1):this.lockMap.delete(r)}n=!0}}getLockedGuids(){return new Set(this.lockMap.keys())}getLockCount(e){return this.lockMap.get(e)??0}clear(){this.lockMap.clear()}static getInstance(){return NS.instance}};Ya.instance=new Ya;const Cr=new Map,DO=Ya.getInstance();function cl(t){const e=dw(t),n=Cr.get(e)??[];n.push(t),Cr.set(e,n);let r=()=>{};return"guid"in t&&(r=DO.lock([t.guid])),{unsubscribe:()=>{const i=Cr.has(e)?Cr.get(e):[],s=i.indexOf(t);r(),s!==-1&&(i.splice(s,1),i.length===0&&Cr.delete(e))}}}async function wn(...t){const e=[],n=[];for(const s of t){let c;if("entity"in s)c=[s.entity].concat(Ne(s.entity)?.generalizations??[]).reduce((l,d)=>(Cr.get(d)?.forEach(h=>l.push(h)),l),[]);else{const l=dw(s);c=Cr.has(l)?Cr.get(l):[]}c.length&&(c.forEach(l=>{const d="val"in s?l.callback.bind(l,s.val):l.callback.bind(l,void 0);e.push({callback:d,priority:l.priority??0,sync:l.sync??!1})}),n.push(s))}const r=zc(e,s=>s.priority).sort((s,c)=>s.key-c.key),i=[];for(const s of r){const[c,l]=fa(()=>nr(d=>d.sync,s.values,d=>d.callback.apply(void 0)));await Promise.all(c),i.push(...l)}return await Promise.all(i),{handled:n}}function AO(t){const e=[];for(const n of Cr.values())for(const r of n){if(!("guid"in r)||r.guid!==t||r.tag===void 0)break;e.push(r.tag)}return e}function dw(t){if("guid"in t&&"attr"in t&&"val"in t&&t.val)return`${t.guid}:${t.attr}:validation`;if("guid"in t&&"attr"in t)return`${t.guid}:${t.attr}`;if("guid"in t)return t.guid;if("entity"in t)return t.entity;if("topic"in t)return t.topic;if("param"in t)return t.param;throw new U("Unknown subscription or message")}var fw,hw,pw,gw={exports:{}},dn={},mw={exports:{}},yw={};function PO(){return hw||(hw=1,mw.exports=(fw||(fw=1,function(t){function e(J,ce){var he=J.length;J.push(ce);e:for(;0<he;){var Re=he-1>>>1,Fe=J[Re];if(!(0<i(Fe,ce)))break e;J[Re]=ce,J[he]=Fe,he=Re}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var ce=J[0],he=J.pop();if(he!==ce){J[0]=he;e:for(var Re=0,Fe=J.length,zt=Fe>>>1;Re<zt;){var Ee=2*(Re+1)-1,me=J[Ee],be=Ee+1,Oe=J[be];if(0>i(me,he))be<Fe&&0>i(Oe,me)?(J[Re]=Oe,J[be]=he,Re=be):(J[Re]=me,J[Ee]=he,Re=Ee);else{if(!(be<Fe&&0>i(Oe,he)))break e;J[Re]=Oe,J[be]=he,Re=be}}}return ce}function i(J,ce){var he=J.sortIndex-ce.sortIndex;return he!==0?he:J.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,l=c.now();t.unstable_now=function(){return c.now()-l}}var d=[],h=[],g=1,y=null,v=3,b=!1,x=!1,S=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function N(J){for(var ce=n(h);ce!==null;){if(ce.callback===null)r(h);else{if(!(ce.startTime<=J))break;r(h),ce.sortIndex=ce.expirationTime,e(d,ce)}ce=n(h)}}function T(J){if(S=!1,N(J),!x)if(n(d)!==null)x=!0,tt(A);else{var ce=n(h);ce!==null&&vt(T,ce.startTime-J)}}function A(J,ce){x=!1,S&&(S=!1,I(j),j=-1),b=!0;var he=v;try{for(N(ce),y=n(d);y!==null&&(!(y.expirationTime>ce)||J&&!ue());){var Re=y.callback;if(typeof Re=="function"){y.callback=null,v=y.priorityLevel;var Fe=Re(y.expirationTime<=ce);ce=t.unstable_now(),typeof Fe=="function"?y.callback=Fe:y===n(d)&&r(d),N(ce)}else r(d);y=n(d)}if(y!==null)var zt=!0;else{var Ee=n(h);Ee!==null&&vt(T,Ee.startTime-ce),zt=!1}return zt}finally{y=null,v=he,b=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var F,$=!1,k=null,j=-1,q=5,Z=-1;function ue(){return!(t.unstable_now()-Z<q)}function fe(){if(k!==null){var J=t.unstable_now();Z=J;var ce=!0;try{ce=k(!0,J)}finally{ce?F():($=!1,k=null)}}else $=!1}if(typeof P=="function")F=function(){P(fe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,lt=Te.port2;Te.port1.onmessage=fe,F=function(){lt.postMessage(null)}}else F=function(){C(fe,0)};function tt(J){k=J,$||($=!0,F())}function vt(J,ce){j=C(function(){J(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){x||b||(x=!0,tt(A))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var ce=3;break;default:ce=v}var he=v;v=ce;try{return J()}finally{v=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ce){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=v;v=J;try{return ce()}finally{v=he}},t.unstable_scheduleCallback=function(J,ce,he){var Re=t.unstable_now();switch(he=typeof he=="object"&&he!==null&&typeof(he=he.delay)=="number"&&0<he?Re+he:Re,J){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return J={id:g++,callback:ce,priorityLevel:J,startTime:he,expirationTime:Fe=he+Fe,sortIndex:-1},he>Re?(J.sortIndex=he,e(h,J),n(d)===null&&J===n(h)&&(S?(I(j),j=-1):S=!0,vt(T,he-Re))):(J.sortIndex=Fe,e(d,J),x||b||(x=!0,tt(A))),J},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(J){var ce=v;return function(){var he=v;v=ce;try{return J.apply(this,arguments)}finally{v=he}}}}(yw)),yw)),mw.exports}/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function t(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}})(),gw.exports=function(){if(pw)return dn;pw=1;var t=Fc,e=PO();function n(a){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+a,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,o){c(a,o),c(a+"Capture",o)}function c(a,o){for(i[a]=o,a=0;a<o.length;a++)r.add(o[a])}var l=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(a,o,u,f,p,m,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=p,this.mustUseProperty=u,this.propertyName=a,this.type=o,this.sanitizeURL=m,this.removeEmptyString=w}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){b[a]=new v(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var o=a[0];b[o]=new v(o,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){b[a]=new v(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){b[a]=new v(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){b[a]=new v(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){b[a]=new v(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){b[a]=new v(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){b[a]=new v(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){b[a]=new v(a,5,!1,a.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function S(a){return a[1].toUpperCase()}function C(a,o,u,f){var p=b.hasOwnProperty(o)?b[o]:null;(p!==null?p.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(function(m,w,E,O){if(w==null||function(D,R,B,L){if(B!==null&&B.type===0)return!1;switch(typeof R){case"function":case"symbol":return!0;case"boolean":return!L&&(B!==null?!B.acceptsBooleans:(D=D.toLowerCase().slice(0,5))!=="data-"&&D!=="aria-");default:return!1}}(m,w,E,O))return!0;if(O)return!1;if(E!==null)switch(E.type){case 3:return!w;case 4:return w===!1;case 5:return isNaN(w);case 6:return isNaN(w)||1>w}return!1}(o,u,p,f)&&(u=null),f||p===null?function(m){return!!d.call(y,m)||!d.call(g,m)&&(h.test(m)?y[m]=!0:(g[m]=!0,!1))}(o)&&(u===null?a.removeAttribute(o):a.setAttribute(o,""+u)):p.mustUseProperty?a[p.propertyName]=u===null?p.type!==3&&"":u:(o=p.attributeName,f=p.attributeNamespace,u===null?a.removeAttribute(o):(u=(p=p.type)===3||p===4&&u===!0?"":""+u,f?a.setAttributeNS(f,o,u):a.setAttribute(o,u))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var o=a.replace(x,S);b[o]=new v(o,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var o=a.replace(x,S);b[o]=new v(o,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var o=a.replace(x,S);b[o]=new v(o,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){b[a]=new v(a,1,!1,a.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){b[a]=new v(a,1,!1,a.toLowerCase(),null,!0,!0)});var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),N=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),k=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),lt=Symbol.iterator;function tt(a){return a===null||typeof a!="object"?null:typeof(a=lt&&a[lt]||a["@@iterator"])=="function"?a:null}var vt,J=Object.assign;function ce(a){if(vt===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);vt=o&&o[1]||""}return`
`+vt+a}var he=!1;function Re(a,o){if(!a||he)return"";he=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(D){var f=D}Reflect.construct(a,[],o)}else{try{o.call()}catch(D){f=D}a.call(o.prototype)}else{try{throw Error()}catch(D){f=D}a()}}catch(D){if(D&&f&&typeof D.stack=="string"){for(var p=D.stack.split(`
`),m=f.stack.split(`
`),w=p.length-1,E=m.length-1;1<=w&&0<=E&&p[w]!==m[E];)E--;for(;1<=w&&0<=E;w--,E--)if(p[w]!==m[E]){if(w!==1||E!==1)do if(w--,0>--E||p[w]!==m[E]){var O=`
`+p[w].replace(" at new "," at ");return a.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",a.displayName)),O}while(1<=w&&0<=E);break}}}finally{he=!1,Error.prepareStackTrace=u}return(a=a?a.displayName||a.name:"")?ce(a):""}function Fe(a){switch(a.tag){case 5:return ce(a.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return Re(a.type,!1);case 11:return Re(a.type.render,!1);case 1:return Re(a.type,!0);default:return""}}function zt(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case T:return"Fragment";case N:return"Portal";case F:return"Profiler";case A:return"StrictMode";case q:return"Suspense";case Z:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case k:return(a.displayName||"Context")+".Consumer";case $:return(a._context.displayName||"Context")+".Provider";case j:var o=a.render;return(a=a.displayName)||(a=(a=o.displayName||o.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ue:return(o=a.displayName||null)!==null?o:zt(a.type)||"Memo";case fe:o=a._payload,a=a._init;try{return zt(a(o))}catch{}}return null}function Ee(a){var o=a.type;switch(a.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=o.render).displayName||a.name||"",o.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zt(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function me(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":case"object":return a;default:return""}}function be(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Oe(a){a._valueTracker||(a._valueTracker=function(o){var u=be(o)?"checked":"value",f=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),p=""+o[u];if(!o.hasOwnProperty(u)&&f!==void 0&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,w=f.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return m.call(this)},set:function(E){p=""+E,w.call(this,E)}}),Object.defineProperty(o,u,{enumerable:f.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}(a))}function se(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return a&&(f=be(a)?a.checked?"true":"false":a.value),(a=f)!==u&&(o.setValue(a),!0)}function $e(a){if((a=a||(typeof document<"u"?document:void 0))===void 0)return null;try{return a.activeElement||a.body}catch{return a.body}}function gt(a,o){var u=o.checked;return J({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??a._wrapperState.initialChecked})}function Oa(a,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=me(o.value!=null?o.value:u),a._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ca(a,o){(o=o.checked)!=null&&C(a,"checked",o,!1)}function Yn(a,o){Ca(a,o);var u=me(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+u):a.value!==""+u&&(a.value=""+u);else if(f==="submit"||f==="reset")return void a.removeAttribute("value");o.hasOwnProperty("value")?zo(a,o.type,u):o.hasOwnProperty("defaultValue")&&zo(a,o.type,me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(a.defaultChecked=!!o.defaultChecked)}function ja(a,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+a._wrapperState.initialValue,u||o===a.value||(a.value=o),a.defaultValue=o}(u=a.name)!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,u!==""&&(a.name=u)}function zo(a,o,u){o==="number"&&$e(a.ownerDocument)===a||(u==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+u&&(a.defaultValue=""+u))}var Bo=Array.isArray;function di(a,o,u,f){if(a=a.options,o){o={};for(var p=0;p<u.length;p++)o["$"+u[p]]=!0;for(u=0;u<a.length;u++)p=o.hasOwnProperty("$"+a[u].value),a[u].selected!==p&&(a[u].selected=p),p&&f&&(a[u].defaultSelected=!0)}else{for(u=""+me(u),o=null,p=0;p<a.length;p++){if(a[p].value===u)return a[p].selected=!0,void(f&&(a[p].defaultSelected=!0));o!==null||a[p].disabled||(o=a[p])}o!==null&&(o.selected=!0)}}function Cd(a,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return J({},o,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function um(a,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Bo(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}a._wrapperState={initialValue:me(u)}}function cm(a,o){var u=me(o.value),f=me(o.defaultValue);u!=null&&((u=""+u)!==a.value&&(a.value=u),o.defaultValue==null&&a.defaultValue!==u&&(a.defaultValue=u)),f!=null&&(a.defaultValue=""+f)}function lm(a){var o=a.textContent;o===a._wrapperState.initialValue&&o!==""&&o!==null&&(a.value=o)}function dm(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jd(a,o){return a==null||a==="http://www.w3.org/1999/xhtml"?dm(o):a==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var Td,_d,fm=(_d=function(a,o){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=o;else{for((Td=Td||document.createElement("div")).innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Td.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;o.firstChild;)a.appendChild(o.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,o,u,f){MSApp.execUnsafeLocalFunction(function(){return _d(a,o)})}:_d);function Vo(a,o){if(o){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3)return void(u.nodeValue=o)}a.textContent=o}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZS=["Webkit","ms","Moz","O"];function hm(a,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Wo.hasOwnProperty(a)&&Wo[a]?(""+o).trim():o+"px"}function pm(a,o){for(var u in a=a.style,o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,p=hm(u,o[u],f);u==="float"&&(u="cssFloat"),f?a.setProperty(u,p):a[u]=p}}Object.keys(Wo).forEach(function(a){ZS.forEach(function(o){o=o+a.charAt(0).toUpperCase()+a.substring(1),Wo[o]=Wo[a]})});var ek=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dd(a,o){if(o){if(ek[a]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ad(a,o){if(a.indexOf("-")===-1)return typeof o.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=null;function Nd(a){return(a=a.target||a.srcElement||window).correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Id=null,fi=null,hi=null;function gm(a){if(a=ds(a)){if(typeof Id!="function")throw Error(n(280));var o=a.stateNode;o&&(o=Zu(o),Id(a.stateNode,a.type,o))}}function mm(a){fi?hi?hi.push(a):hi=[a]:fi=a}function ym(){if(fi){var a=fi,o=hi;if(hi=fi=null,gm(a),o)for(a=0;a<o.length;a++)gm(o[a])}}function bm(a,o){return a(o)}function vm(){}var Rd=!1;function wm(a,o,u){if(Rd)return a(o,u);Rd=!0;try{return bm(a,o,u)}finally{Rd=!1,(fi!==null||hi!==null)&&(vm(),ym())}}function Ho(a,o){var u=a.stateNode;if(u===null)return null;var f=Zu(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(f=!((a=a.type)==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Md=!1;if(l)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Md=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Md=!1}function tk(a,o,u,f,p,m,w,E,O){var D=Array.prototype.slice.call(arguments,3);try{o.apply(u,D)}catch(R){this.onError(R)}}var qo=!1,Pu=null,Nu=!1,Ld=null,nk={onError:function(a){qo=!0,Pu=a}};function rk(a,o,u,f,p,m,w,E,O){qo=!1,Pu=null,tk.apply(nk,arguments)}function Ta(a){var o=a,u=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do 4098&(o=a).flags&&(u=o.return),a=o.return;while(a)}return o.tag===3?u:null}function xm(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate)!==null&&(o=a.memoizedState),o!==null)return o.dehydrated}return null}function $m(a){if(Ta(a)!==a)throw Error(n(188))}function Sm(a){return(a=function(o){var u=o.alternate;if(!u){if((u=Ta(o))===null)throw Error(n(188));return u!==o?null:o}for(var f=o,p=u;;){var m=f.return;if(m===null)break;var w=m.alternate;if(w===null){if((p=m.return)!==null){f=p;continue}break}if(m.child===w.child){for(w=m.child;w;){if(w===f)return $m(m),o;if(w===p)return $m(m),u;w=w.sibling}throw Error(n(188))}if(f.return!==p.return)f=m,p=w;else{for(var E=!1,O=m.child;O;){if(O===f){E=!0,f=m,p=w;break}if(O===p){E=!0,p=m,f=w;break}O=O.sibling}if(!E){for(O=w.child;O;){if(O===f){E=!0,f=w,p=m;break}if(O===p){E=!0,p=w,f=m;break}O=O.sibling}if(!E)throw Error(n(189))}}if(f.alternate!==p)throw Error(n(190))}if(f.tag!==3)throw Error(n(188));return f.stateNode.current===f?o:u}(a))!==null?km(a):null}function km(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var o=km(a);if(o!==null)return o;a=a.sibling}return null}var Em=e.unstable_scheduleCallback,Om=e.unstable_cancelCallback,ak=e.unstable_shouldYield,ik=e.unstable_requestPaint,mt=e.unstable_now,ok=e.unstable_getCurrentPriorityLevel,Ud=e.unstable_ImmediatePriority,Cm=e.unstable_UserBlockingPriority,Fd=e.unstable_NormalPriority,sk=e.unstable_LowPriority,jm=e.unstable_IdlePriority,Iu=null,Qn=null,Pn=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(uk(a)/ck|0)|0},uk=Math.log,ck=Math.LN2,zd=64,Bd=4194304;function Yo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Ru(a,o){var u=a.pendingLanes;if(u===0)return 0;var f=0,p=a.suspendedLanes,m=a.pingedLanes,w=268435455&u;if(w!==0){var E=w&~p;E!==0?f=Yo(E):(m&=w)!=0&&(f=Yo(m))}else(w=u&~p)!=0?f=Yo(w):m!==0&&(f=Yo(m));if(f===0)return 0;if(o!==0&&o!==f&&!(o&p)&&((p=f&-f)>=(m=o&-o)||p===16&&4194240&m))return o;if(4&f&&(f|=16&u),(o=a.entangledLanes)!==0)for(a=a.entanglements,o&=f;0<o;)p=1<<(u=31-Pn(o)),f|=a[u],o&=~p;return f}function lk(a,o){switch(a){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;default:return-1}}function Vd(a){return(a=-1073741825&a.pendingLanes)!=0?a:1073741824&a?1073741824:0}function Tm(){var a=zd;return!(4194240&(zd<<=1))&&(zd=64),a}function Wd(a){for(var o=[],u=0;31>u;u++)o.push(a);return o}function Qo(a,o,u){a.pendingLanes|=o,o!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[o=31-Pn(o)]=u}function Hd(a,o){var u=a.entangledLanes|=o;for(a=a.entanglements;u;){var f=31-Pn(u),p=1<<f;p&o|a[f]&o&&(a[f]|=o),u&=~p}}var qe=0;function _m(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var Dm,Gd,Am,Pm,Nm,qd=!1,Mu=[],zr=null,Br=null,Vr=null,Xo=new Map,Ko=new Map,Wr=[],dk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Im(a,o){switch(a){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Xo.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ko.delete(o.pointerId)}}function Jo(a,o,u,f,p,m){return a===null||a.nativeEvent!==m?(a={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:m,targetContainers:[p]},o!==null&&(o=ds(o))!==null&&Gd(o),a):(a.eventSystemFlags|=f,o=a.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),a)}function Rm(a){var o=Da(a.target);if(o!==null){var u=Ta(o);if(u!==null){if((o=u.tag)===13){if((o=xm(u))!==null)return a.blockedOn=o,void Nm(a.priority,function(){Am(u)})}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated)return void(a.blockedOn=u.tag===3?u.stateNode.containerInfo:null)}}a.blockedOn=null}function Lu(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var u=Qd(a.domEventName,a.eventSystemFlags,o[0],a.nativeEvent);if(u!==null)return(o=ds(u))!==null&&Gd(o),a.blockedOn=u,!1;var f=new(u=a.nativeEvent).constructor(u.type,u);Pd=f,u.target.dispatchEvent(f),Pd=null,o.shift()}return!0}function Mm(a,o,u){Lu(a)&&u.delete(o)}function fk(){qd=!1,zr!==null&&Lu(zr)&&(zr=null),Br!==null&&Lu(Br)&&(Br=null),Vr!==null&&Lu(Vr)&&(Vr=null),Xo.forEach(Mm),Ko.forEach(Mm)}function Zo(a,o){a.blockedOn===o&&(a.blockedOn=null,qd||(qd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fk)))}function es(a){function o(p){return Zo(p,a)}if(0<Mu.length){Zo(Mu[0],a);for(var u=1;u<Mu.length;u++){var f=Mu[u];f.blockedOn===a&&(f.blockedOn=null)}}for(zr!==null&&Zo(zr,a),Br!==null&&Zo(Br,a),Vr!==null&&Zo(Vr,a),Xo.forEach(o),Ko.forEach(o),u=0;u<Wr.length;u++)(f=Wr[u]).blockedOn===a&&(f.blockedOn=null);for(;0<Wr.length&&(u=Wr[0]).blockedOn===null;)Rm(u),u.blockedOn===null&&Wr.shift()}var pi=I.ReactCurrentBatchConfig,Uu=!0;function hk(a,o,u,f){var p=qe,m=pi.transition;pi.transition=null;try{qe=1,Yd(a,o,u,f)}finally{qe=p,pi.transition=m}}function pk(a,o,u,f){var p=qe,m=pi.transition;pi.transition=null;try{qe=4,Yd(a,o,u,f)}finally{qe=p,pi.transition=m}}function Yd(a,o,u,f){if(Uu){var p=Qd(a,o,u,f);if(p===null)hf(a,o,f,Fu,u),Im(a,f);else if(function(w,E,O,D,R){switch(E){case"focusin":return zr=Jo(zr,w,E,O,D,R),!0;case"dragenter":return Br=Jo(Br,w,E,O,D,R),!0;case"mouseover":return Vr=Jo(Vr,w,E,O,D,R),!0;case"pointerover":var B=R.pointerId;return Xo.set(B,Jo(Xo.get(B)||null,w,E,O,D,R)),!0;case"gotpointercapture":return B=R.pointerId,Ko.set(B,Jo(Ko.get(B)||null,w,E,O,D,R)),!0}return!1}(p,a,o,u,f))f.stopPropagation();else if(Im(a,f),4&o&&-1<dk.indexOf(a)){for(;p!==null;){var m=ds(p);if(m!==null&&Dm(m),(m=Qd(a,o,u,f))===null&&hf(a,o,f,Fu,u),m===p)break;p=m}p!==null&&f.stopPropagation()}else hf(a,o,f,null,u)}}var Fu=null;function Qd(a,o,u,f){if(Fu=null,(a=Da(a=Nd(f)))!==null)if((o=Ta(a))===null)a=null;else if((u=o.tag)===13){if((a=xm(o))!==null)return a;a=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null);return Fu=a,null}function Lm(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ok()){case Ud:return 1;case Cm:return 4;case Fd:case sk:return 16;case jm:return 536870912;default:return 16}default:return 16}}var _a=null,Xd=null,zu=null;function Um(){if(zu)return zu;var a,o,u=Xd,f=u.length,p="value"in _a?_a.value:_a.textContent,m=p.length;for(a=0;a<f&&u[a]===p[a];a++);var w=f-a;for(o=1;o<=w&&u[f-o]===p[m-o];o++);return zu=p.slice(a,1<o?1-o:void 0)}function Bu(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode)===0&&o===13&&(a=13):a=o,a===10&&(a=13),32<=a||a===13?a:0}function Vu(){return!0}function Fm(){return!1}function pn(a){function o(u,f,p,m,w){for(var E in this._reactName=u,this._targetInst=p,this.type=f,this.nativeEvent=m,this.target=w,this.currentTarget=null,a)a.hasOwnProperty(E)&&(u=a[E],this[E]=u?u(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Vu:Fm,this.isPropagationStopped=Fm,this}return J(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Vu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Vu)},persist:function(){},isPersistent:Vu}),o}var Kd,Jd,ts,gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zd=pn(gi),ns=J({},gi,{view:0,detail:0}),gk=pn(ns),Wu=J({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tf,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ts&&(ts&&a.type==="mousemove"?(Kd=a.screenX-ts.screenX,Jd=a.screenY-ts.screenY):Jd=Kd=0,ts=a),Kd)},movementY:function(a){return"movementY"in a?a.movementY:Jd}}),zm=pn(Wu),mk=pn(J({},Wu,{dataTransfer:0})),ef=pn(J({},ns,{relatedTarget:0})),yk=pn(J({},gi,{animationName:0,elapsedTime:0,pseudoElement:0})),bk=pn(J({},gi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}})),Bm=pn(J({},gi,{data:0})),vk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):!!(a=xk[a])&&!!o[a]}function tf(){return $k}var Sk=pn(J({},ns,{key:function(a){if(a.key){var o=vk[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=Bu(a))===13?"Enter":String.fromCharCode(a):a.type==="keydown"||a.type==="keyup"?wk[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tf,charCode:function(a){return a.type==="keypress"?Bu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Bu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}})),Vm=pn(J({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kk=pn(J({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tf})),Ek=pn(J({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ok=pn(J({},Wu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0})),Ck=[9,13,27,32],nf=l&&"CompositionEvent"in window,rs=null;l&&"documentMode"in document&&(rs=document.documentMode);var jk=l&&"TextEvent"in window&&!rs,Wm=l&&(!nf||rs&&8<rs&&11>=rs),Hm=" ",Gm=!1;function qm(a,o){switch(a){case"keyup":return Ck.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(a){return typeof(a=a.detail)=="object"&&"data"in a?a.data:null}var mi=!1,Tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qm(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!Tk[a.type]:o==="textarea"}function Xm(a,o,u,f){mm(f),0<(o=Xu(o,"onChange")).length&&(u=new Zd("onChange","change",null,u,f),a.push({event:u,listeners:o}))}var Hu=null,as=null;function _k(a){py(a,0)}function Gu(a){if(se(xi(a)))return a}function Dk(a,o){if(a==="change")return o}var Km=!1;if(l){var rf;if(l){var af="oninput"in document;if(!af){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),af=typeof Jm.oninput=="function"}rf=af}else rf=!1;Km=rf&&(!document.documentMode||9<document.documentMode)}function Zm(){Hu&&(Hu.detachEvent("onpropertychange",ey),as=Hu=null)}function ey(a){if(a.propertyName==="value"&&Gu(as)){var o=[];Xm(o,as,a,Nd(a)),wm(_k,o)}}function Ak(a,o,u){a==="focusin"?(Zm(),as=u,(Hu=o).attachEvent("onpropertychange",ey)):a==="focusout"&&Zm()}function Pk(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Gu(as)}function Nk(a,o){if(a==="click")return Gu(o)}function Ik(a,o){if(a==="input"||a==="change")return Gu(o)}var Nn=typeof Object.is=="function"?Object.is:function(a,o){return a===o&&(a!==0||1/a==1/o)||a!=a&&o!=o};function is(a,o){if(Nn(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var u=Object.keys(a),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var p=u[f];if(!d.call(o,p)||!Nn(a[p],o[p]))return!1}return!0}function ty(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ny(a,o){var u,f=ty(a);for(a=0;f;){if(f.nodeType===3){if(u=a+f.textContent.length,a<=o&&u>=o)return{node:f,offset:o-a};a=u}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=ty(f)}}function ry(a,o){return!(!a||!o)&&(a===o||(!a||a.nodeType!==3)&&(o&&o.nodeType===3?ry(a,o.parentNode):"contains"in a?a.contains(o):!!a.compareDocumentPosition&&!!(16&a.compareDocumentPosition(o))))}function ay(){for(var a=window,o=$e();o instanceof a.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(!u)break;o=$e((a=o.contentWindow).document)}return o}function of(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}function Rk(a){var o=ay(),u=a.focusedElem,f=a.selectionRange;if(o!==u&&u&&u.ownerDocument&&ry(u.ownerDocument.documentElement,u)){if(f!==null&&of(u)){if(o=f.start,(a=f.end)===void 0&&(a=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(a,u.value.length);else if((a=(o=u.ownerDocument||document)&&o.defaultView||window).getSelection){a=a.getSelection();var p=u.textContent.length,m=Math.min(f.start,p);f=f.end===void 0?m:Math.min(f.end,p),!a.extend&&m>f&&(p=f,f=m,m=p),p=ny(u,m);var w=ny(u,f);p&&w&&(a.rangeCount!==1||a.anchorNode!==p.node||a.anchorOffset!==p.offset||a.focusNode!==w.node||a.focusOffset!==w.offset)&&((o=o.createRange()).setStart(p.node,p.offset),a.removeAllRanges(),m>f?(a.addRange(o),a.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),a.addRange(o)))}}for(o=[],a=u;a=a.parentNode;)a.nodeType===1&&o.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)(a=o[u]).element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Mk=l&&"documentMode"in document&&11>=document.documentMode,yi=null,sf=null,os=null,uf=!1;function iy(a,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;uf||yi==null||yi!==$e(f)||(f="selectionStart"in(f=yi)&&of(f)?{start:f.selectionStart,end:f.selectionEnd}:{anchorNode:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset},os&&is(os,f)||(os=f,0<(f=Xu(sf,"onSelect")).length&&(o=new Zd("onSelect","select",null,o,u),a.push({event:o,listeners:f}),o.target=yi)))}function qu(a,o){var u={};return u[a.toLowerCase()]=o.toLowerCase(),u["Webkit"+a]="webkit"+o,u["Moz"+a]="moz"+o,u}var bi={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},cf={},oy={};function Yu(a){if(cf[a])return cf[a];if(!bi[a])return a;var o,u=bi[a];for(o in u)if(u.hasOwnProperty(o)&&o in oy)return cf[a]=u[o];return a}l&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete bi.animationend.animation,delete bi.animationiteration.animation,delete bi.animationstart.animation),"TransitionEvent"in window||delete bi.transitionend.transition);var sy=Yu("animationend"),uy=Yu("animationiteration"),cy=Yu("animationstart"),ly=Yu("transitionend"),dy=new Map,fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(a,o){dy.set(a,o),s(o,[a])}for(var lf=0;lf<fy.length;lf++){var df=fy[lf];Hr(df.toLowerCase(),"on"+(df[0].toUpperCase()+df.slice(1)))}Hr(sy,"onAnimationEnd"),Hr(uy,"onAnimationIteration"),Hr(cy,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(ly,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lk=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function hy(a,o,u){var f=a.type||"unknown-event";a.currentTarget=u,function(p,m,w,E,O,D,R,B,L){if(rk.apply(this,arguments),qo){if(!qo)throw Error(n(198));var V=Pu;qo=!1,Pu=null,Nu||(Nu=!0,Ld=V)}}(f,o,void 0,a),a.currentTarget=null}function py(a,o){o=!!(4&o);for(var u=0;u<a.length;u++){var f=a[u],p=f.event;f=f.listeners;e:{var m=void 0;if(o)for(var w=f.length-1;0<=w;w--){var E=f[w],O=E.instance,D=E.currentTarget;if(E=E.listener,O!==m&&p.isPropagationStopped())break e;hy(p,E,D),m=O}else for(w=0;w<f.length;w++){if(O=(E=f[w]).instance,D=E.currentTarget,E=E.listener,O!==m&&p.isPropagationStopped())break e;hy(p,E,D),m=O}}}if(Nu)throw a=Ld,Nu=!1,Ld=null,a}function nt(a,o){var u=o[vf];u===void 0&&(u=o[vf]=new Set);var f=a+"__bubble";u.has(f)||(gy(o,a,2,!1),u.add(f))}function ff(a,o,u){var f=0;o&&(f|=4),gy(u,a,f,o)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function us(a){if(!a[Qu]){a[Qu]=!0,r.forEach(function(u){u!=="selectionchange"&&(Lk.has(u)||ff(u,!1,a),ff(u,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[Qu]||(o[Qu]=!0,ff("selectionchange",!1,o))}}function gy(a,o,u,f){switch(Lm(o)){case 1:var p=hk;break;case 4:p=pk;break;default:p=Yd}u=p.bind(null,o,u,a),p=void 0,!Md||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),f?p!==void 0?a.addEventListener(o,u,{capture:!0,passive:p}):a.addEventListener(o,u,!0):p!==void 0?a.addEventListener(o,u,{passive:p}):a.addEventListener(o,u,!1)}function hf(a,o,u,f,p){var m=f;if(!(1&o||2&o||f===null))e:for(;;){if(f===null)return;var w=f.tag;if(w===3||w===4){var E=f.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(w===4)for(w=f.return;w!==null;){var O=w.tag;if((O===3||O===4)&&((O=w.stateNode.containerInfo)===p||O.nodeType===8&&O.parentNode===p))return;w=w.return}for(;E!==null;){if((w=Da(E))===null)return;if((O=w.tag)===5||O===6){f=m=w;continue e}E=E.parentNode}}f=f.return}wm(function(){var D=m,R=Nd(u),B=[];e:{var L=dy.get(a);if(L!==void 0){var V=Zd,X=a;switch(a){case"keypress":if(Bu(u)===0)break e;case"keydown":case"keyup":V=Sk;break;case"focusin":X="focus",V=ef;break;case"focusout":X="blur",V=ef;break;case"beforeblur":case"afterblur":V=ef;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=mk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=kk;break;case sy:case uy:case cy:V=yk;break;case ly:V=Ek;break;case"scroll":V=gk;break;case"wheel":V=Ok;break;case"copy":case"cut":case"paste":V=bk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Vm}var K=!!(4&o),z=!K&&a==="scroll",_=K?L!==null?L+"Capture":null:L;K=[];for(var M,Y=D;Y!==null;){var ne=(M=Y).stateNode;if(M.tag===5&&ne!==null&&(M=ne,_!==null&&(ne=Ho(Y,_))!=null&&K.push(cs(Y,ne,M))),z)break;Y=Y.return}0<K.length&&(L=new V(L,X,null,u,R),B.push({event:L,listeners:K}))}}if(!(7&o)){if(V=a==="mouseout"||a==="pointerout",(!(L=a==="mouseover"||a==="pointerover")||u===Pd||!(X=u.relatedTarget||u.fromElement)||!Da(X)&&!X[yr])&&(V||L)&&(L=R.window===R?R:(L=R.ownerDocument)?L.defaultView||L.parentWindow:window,V?(V=D,(X=(X=u.relatedTarget||u.toElement)?Da(X):null)!==null&&(X!==(z=Ta(X))||X.tag!==5&&X.tag!==6)&&(X=null)):(V=null,X=D),V!==X)){if(K=zm,ne="onMouseLeave",_="onMouseEnter",Y="mouse",a!=="pointerout"&&a!=="pointerover"||(K=Vm,ne="onPointerLeave",_="onPointerEnter",Y="pointer"),z=V==null?L:xi(V),M=X==null?L:xi(X),(L=new K(ne,Y+"leave",V,u,R)).target=z,L.relatedTarget=M,ne=null,Da(R)===D&&((K=new K(_,Y+"enter",X,u,R)).target=M,K.relatedTarget=z,ne=K),z=ne,V&&X)e:{for(_=X,Y=0,M=K=V;M;M=vi(M))Y++;for(M=0,ne=_;ne;ne=vi(ne))M++;for(;0<Y-M;)K=vi(K),Y--;for(;0<M-Y;)_=vi(_),M--;for(;Y--;){if(K===_||_!==null&&K===_.alternate)break e;K=vi(K),_=vi(_)}K=null}else K=null;V!==null&&my(B,L,V,K,!1),X!==null&&z!==null&&my(B,z,X,K,!0)}if((V=(L=D?xi(D):window).nodeName&&L.nodeName.toLowerCase())==="select"||V==="input"&&L.type==="file")var we=Dk;else if(Qm(L))if(Km)we=Ik;else{we=Pk;var te=Ak}else(V=L.nodeName)&&V.toLowerCase()==="input"&&(L.type==="checkbox"||L.type==="radio")&&(we=Nk);switch(we&&(we=we(a,D))?Xm(B,we,u,R):(te&&te(a,L,D),a==="focusout"&&(te=L._wrapperState)&&te.controlled&&L.type==="number"&&zo(L,"number",L.value)),te=D?xi(D):window,a){case"focusin":(Qm(te)||te.contentEditable==="true")&&(yi=te,sf=D,os=null);break;case"focusout":os=sf=yi=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,iy(B,u,R);break;case"selectionchange":if(Mk)break;case"keydown":case"keyup":iy(B,u,R)}var xe;if(nf)e:{switch(a){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else mi?qm(a,u)&&(ye="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(ye="onCompositionStart");ye&&(Wm&&u.locale!=="ko"&&(mi||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&mi&&(xe=Um()):(Xd="value"in(_a=R)?_a.value:_a.textContent,mi=!0)),0<(te=Xu(D,ye)).length&&(ye=new Bm(ye,a,null,u,R),B.push({event:ye,listeners:te}),(xe||(xe=Ym(u))!==null)&&(ye.data=xe))),(xe=jk?function(pe,Be){switch(pe){case"compositionend":return Ym(Be);case"keypress":return Be.which!==32?null:(Gm=!0,Hm);case"textInput":return(pe=Be.data)===Hm&&Gm?null:pe;default:return null}}(a,u):function(pe,Be){if(mi)return pe==="compositionend"||!nf&&qm(pe,Be)?(pe=Um(),zu=Xd=_a=null,mi=!1,pe):null;switch(pe){case"paste":default:return null;case"keypress":if(!(Be.ctrlKey||Be.altKey||Be.metaKey)||Be.ctrlKey&&Be.altKey){if(Be.char&&1<Be.char.length)return Be.char;if(Be.which)return String.fromCharCode(Be.which)}return null;case"compositionend":return Wm&&Be.locale!=="ko"?null:Be.data}}(a,u))&&0<(D=Xu(D,"onBeforeInput")).length&&(R=new Bm("onBeforeInput","beforeinput",null,u,R),B.push({event:R,listeners:D}),R.data=xe)}py(B,o)})}function cs(a,o,u){return{instance:a,listener:o,currentTarget:u}}function Xu(a,o){for(var u=o+"Capture",f=[];a!==null;){var p=a,m=p.stateNode;p.tag===5&&m!==null&&(p=m,(m=Ho(a,u))!=null&&f.unshift(cs(a,m,p)),(m=Ho(a,o))!=null&&f.push(cs(a,m,p))),a=a.return}return f}function vi(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function my(a,o,u,f,p){for(var m=o._reactName,w=[];u!==null&&u!==f;){var E=u,O=E.alternate,D=E.stateNode;if(O!==null&&O===f)break;E.tag===5&&D!==null&&(E=D,p?(O=Ho(u,m))!=null&&w.unshift(cs(u,O,E)):p||(O=Ho(u,m))!=null&&w.push(cs(u,O,E))),u=u.return}w.length!==0&&a.push({event:o,listeners:w})}var Uk=/\r\n?/g,Fk=/\u0000|\uFFFD/g;function yy(a){return(typeof a=="string"?a:""+a).replace(Uk,`
`).replace(Fk,"")}function Ku(a,o,u){if(o=yy(o),yy(a)!==o&&u)throw Error(n(425))}function Ju(){}var pf=null,gf=null;function mf(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yf=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,Bk=typeof queueMicrotask=="function"?queueMicrotask:by!==void 0?function(a){return by.resolve(null).then(a).catch(Vk)}:yf;function Vk(a){setTimeout(function(){throw a})}function bf(a,o){var u=o,f=0;do{var p=u.nextSibling;if(a.removeChild(u),p&&p.nodeType===8)if((u=p.data)==="/$"){if(f===0)return a.removeChild(p),void es(o);f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=p}while(u);es(o)}function Gr(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if((o=a.data)==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return a}function vy(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return a;o--}else u==="/$"&&o++}a=a.previousSibling}return null}var wi=Math.random().toString(36).slice(2),Xn="__reactFiber$"+wi,ls="__reactProps$"+wi,yr="__reactContainer$"+wi,vf="__reactEvents$"+wi,Wk="__reactListeners$"+wi,Hk="__reactHandles$"+wi;function Da(a){var o=a[Xn];if(o)return o;for(var u=a.parentNode;u;){if(o=u[yr]||u[Xn]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(a=vy(a);a!==null;){if(u=a[Xn])return u;a=vy(a)}return o}u=(a=u).parentNode}return null}function ds(a){return!(a=a[Xn]||a[yr])||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function xi(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Zu(a){return a[ls]||null}var wf=[],$i=-1;function qr(a){return{current:a}}function rt(a){0>$i||(a.current=wf[$i],wf[$i]=null,$i--)}function et(a,o){$i++,wf[$i]=a.current,a.current=o}var Yr={},Bt=qr(Yr),nn=qr(!1),Aa=Yr;function Si(a,o){var u=a.type.contextTypes;if(!u)return Yr;var f=a.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var p,m={};for(p in u)m[p]=o[p];return f&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,a.__reactInternalMemoizedMaskedChildContext=m),m}function gn(a){return a.childContextTypes!=null}function xf(){rt(nn),rt(Bt)}function wy(a,o,u){if(Bt.current!==Yr)throw Error(n(168));et(Bt,o),et(nn,u)}function xy(a,o,u){var f=a.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;for(var p in f=f.getChildContext())if(!(p in o))throw Error(n(108,Ee(a)||"Unknown",p));return J({},u,f)}function ec(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Yr,Aa=Bt.current,et(Bt,a),et(nn,nn.current),!0}function $y(a,o,u){var f=a.stateNode;if(!f)throw Error(n(169));u?(a=xy(a,o,Aa),f.__reactInternalMemoizedMergedChildContext=a,rt(nn),rt(Bt),et(Bt,a)):rt(nn),et(nn,u)}var br=null,tc=!1,$f=!1;function Sy(a){br===null?br=[a]:br.push(a)}function Qr(){if(!$f&&br!==null){$f=!0;var a=0,o=qe;try{var u=br;for(qe=1;a<u.length;a++){var f=u[a];do f=f(!0);while(f!==null)}br=null,tc=!1}catch(p){throw br!==null&&(br=br.slice(a+1)),Em(Ud,Qr),p}finally{qe=o,$f=!1}}return null}var ki=[],Ei=0,nc=null,rc=0,$n=[],Sn=0,Pa=null,Kn=1,vr="";function Na(a,o){ki[Ei++]=rc,ki[Ei++]=nc,nc=a,rc=o}function ky(a,o,u){$n[Sn++]=Kn,$n[Sn++]=vr,$n[Sn++]=Pa,Pa=a;var f=Kn;a=vr;var p=32-Pn(f)-1;f&=~(1<<p),u+=1;var m=32-Pn(o)+p;if(30<m){var w=p-p%5;m=(f&(1<<w)-1).toString(32),f>>=w,p-=w,Kn=1<<32-Pn(o)+p|u<<p|f,vr=m+a}else Kn=1<<m|u<<p|f,vr=a}function Sf(a){a.return!==null&&(Na(a,1),ky(a,1,0))}function kf(a){for(;a===nc;)nc=ki[--Ei],ki[Ei]=null,rc=ki[--Ei],ki[Ei]=null;for(;a===Pa;)Pa=$n[--Sn],$n[Sn]=null,vr=$n[--Sn],$n[Sn]=null,Kn=$n[--Sn],$n[Sn]=null}var mn=null,yn=null,at=!1,In=null;function Ey(a,o){var u=Cn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=a,(o=a.deletions)===null?(a.deletions=[u],a.flags|=16):o.push(u)}function Oy(a,o){switch(a.tag){case 5:var u=a.type;return(o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o)!==null&&(a.stateNode=o,mn=a,yn=Gr(o.firstChild),!0);case 6:return(o=a.pendingProps===""||o.nodeType!==3?null:o)!==null&&(a.stateNode=o,mn=a,yn=null,!0);case 13:return(o=o.nodeType!==8?null:o)!==null&&(u=Pa!==null?{id:Kn,overflow:vr}:null,a.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},(u=Cn(18,null,null,0)).stateNode=o,u.return=a,a.child=u,mn=a,yn=null,!0);default:return!1}}function Ef(a){return!(!(1&a.mode)||128&a.flags)}function Of(a){if(at){var o=yn;if(o){var u=o;if(!Oy(a,o)){if(Ef(a))throw Error(n(418));o=Gr(u.nextSibling);var f=mn;o&&Oy(a,o)?Ey(f,u):(a.flags=-4097&a.flags|2,at=!1,mn=a)}}else{if(Ef(a))throw Error(n(418));a.flags=-4097&a.flags|2,at=!1,mn=a}}}function Cy(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;mn=a}function ac(a){if(a!==mn)return!1;if(!at)return Cy(a),at=!0,!1;var o;if((o=a.tag!==3)&&!(o=a.tag!==5)&&(o=(o=a.type)!=="head"&&o!=="body"&&!mf(a.type,a.memoizedProps)),o&&(o=yn)){if(Ef(a))throw jy(),Error(n(418));for(;o;)Ey(a,o),o=Gr(o.nextSibling)}if(Cy(a),a.tag===13){if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(n(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"){if(o===0){yn=Gr(a.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}a=a.nextSibling}yn=null}}else yn=mn?Gr(a.stateNode.nextSibling):null;return!0}function jy(){for(var a=yn;a;)a=Gr(a.nextSibling)}function Oi(){yn=mn=null,at=!1}function Cf(a){In===null?In=[a]:In.push(a)}var Gk=I.ReactCurrentBatchConfig;function Rn(a,o){if(a&&a.defaultProps){for(var u in o=J({},o),a=a.defaultProps)o[u]===void 0&&(o[u]=a[u]);return o}return o}var ic=qr(null),oc=null,Ci=null,jf=null;function Tf(){jf=Ci=oc=null}function _f(a){var o=ic.current;rt(ic),a._currentValue=o}function Df(a,o,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),a===u)break;a=a.return}}function ji(a,o){oc=a,jf=Ci=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&o&&(rn=!0),a.firstContext=null)}function kn(a){var o=a._currentValue;if(jf!==a)if(a={context:a,memoizedValue:o,next:null},Ci===null){if(oc===null)throw Error(n(308));Ci=a,oc.dependencies={lanes:0,firstContext:a}}else Ci=Ci.next=a;return o}var Ia=null;function Af(a){Ia===null?Ia=[a]:Ia.push(a)}function Ty(a,o,u,f){var p=o.interleaved;return p===null?(u.next=u,Af(o)):(u.next=p.next,p.next=u),o.interleaved=u,wr(a,f)}function wr(a,o){a.lanes|=o;var u=a.alternate;for(u!==null&&(u.lanes|=o),u=a,a=a.return;a!==null;)a.childLanes|=o,(u=a.alternate)!==null&&(u.childLanes|=o),u=a,a=a.return;return u.tag===3?u.stateNode:null}var Xr=!1;function Pf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _y(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function xr(a,o){return{eventTime:a,lane:o,tag:0,payload:null,callback:null,next:null}}function Kr(a,o,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,2&ze){var p=f.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),f.pending=o,wr(a,u)}return(p=f.interleaved)===null?(o.next=o,Af(f)):(o.next=p.next,p.next=o),f.interleaved=o,wr(a,u)}function sc(a,o,u){if((o=o.updateQueue)!==null&&(o=o.shared,4194240&u)){var f=o.lanes;u|=f&=a.pendingLanes,o.lanes=u,Hd(a,u)}}function Dy(a,o){var u=a.updateQueue,f=a.alternate;if(f!==null&&u===(f=f.updateQueue)){var p=null,m=null;if((u=u.firstBaseUpdate)!==null){do{var w={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};m===null?p=m=w:m=m.next=w,u=u.next}while(u!==null);m===null?p=m=o:m=m.next=o}else p=m=o;return u={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:f.shared,effects:f.effects},void(a.updateQueue=u)}(a=u.lastBaseUpdate)===null?u.firstBaseUpdate=o:a.next=o,u.lastBaseUpdate=o}function uc(a,o,u,f){var p=a.updateQueue;Xr=!1;var m=p.firstBaseUpdate,w=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var O=E,D=O.next;O.next=null,w===null?m=D:w.next=D,w=O;var R=a.alternate;R!==null&&(E=(R=R.updateQueue).lastBaseUpdate)!==w&&(E===null?R.firstBaseUpdate=D:E.next=D,R.lastBaseUpdate=O)}if(m!==null){var B=p.baseState;for(w=0,R=D=O=null,E=m;;){var L=E.lane,V=E.eventTime;if((f&L)===L){R!==null&&(R=R.next={eventTime:V,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var X=a,K=E;switch(L=o,V=u,K.tag){case 1:if(typeof(X=K.payload)=="function"){B=X.call(V,B,L);break e}B=X;break e;case 3:X.flags=-65537&X.flags|128;case 0:if((L=typeof(X=K.payload)=="function"?X.call(V,B,L):X)==null)break e;B=J({},B,L);break e;case 2:Xr=!0}}E.callback!==null&&E.lane!==0&&(a.flags|=64,(L=p.effects)===null?p.effects=[E]:L.push(E))}else V={eventTime:V,lane:L,tag:E.tag,payload:E.payload,callback:E.callback,next:null},R===null?(D=R=V,O=B):R=R.next=V,w|=L;if((E=E.next)===null){if((E=p.shared.pending)===null)break;E=(L=E).next,L.next=null,p.lastBaseUpdate=L,p.shared.pending=null}}if(R===null&&(O=B),p.baseState=O,p.firstBaseUpdate=D,p.lastBaseUpdate=R,(o=p.shared.interleaved)!==null){p=o;do w|=p.lane,p=p.next;while(p!==o)}else m===null&&(p.shared.lanes=0);La|=w,a.lanes=w,a.memoizedState=B}}function Ay(a,o,u){if(a=o.effects,o.effects=null,a!==null)for(o=0;o<a.length;o++){var f=a[o],p=f.callback;if(p!==null){if(f.callback=null,f=u,typeof p!="function")throw Error(n(191,p));p.call(f)}}}var Py=new t.Component().refs;function Nf(a,o,u,f){u=(u=u(f,o=a.memoizedState))==null?o:J({},o,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var cc={isMounted:function(a){return!!(a=a._reactInternals)&&Ta(a)===a},enqueueSetState:function(a,o,u){a=a._reactInternals;var f=Xt(),p=na(a),m=xr(f,p);m.payload=o,u!=null&&(m.callback=u),(o=Kr(a,m,p))!==null&&(Mn(o,a,p,f),sc(o,a,p))},enqueueReplaceState:function(a,o,u){a=a._reactInternals;var f=Xt(),p=na(a),m=xr(f,p);m.tag=1,m.payload=o,u!=null&&(m.callback=u),(o=Kr(a,m,p))!==null&&(Mn(o,a,p,f),sc(o,a,p))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var u=Xt(),f=na(a),p=xr(u,f);p.tag=2,o!=null&&(p.callback=o),(o=Kr(a,p,f))!==null&&(Mn(o,a,f,u),sc(o,a,f))}};function Ny(a,o,u,f,p,m,w){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,m,w):!(o.prototype&&o.prototype.isPureReactComponent&&is(u,f)&&is(p,m))}function Iy(a,o,u){var f=!1,p=Yr,m=o.contextType;return typeof m=="object"&&m!==null?m=kn(m):(p=gn(o)?Aa:Bt.current,m=(f=(f=o.contextTypes)!=null)?Si(a,p):Yr),o=new o(u,m),a.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=cc,a.stateNode=o,o._reactInternals=a,f&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=p,a.__reactInternalMemoizedMaskedChildContext=m),o}function Ry(a,o,u,f){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==a&&cc.enqueueReplaceState(o,o.state,null)}function If(a,o,u,f){var p=a.stateNode;p.props=u,p.state=a.memoizedState,p.refs=Py,Pf(a);var m=o.contextType;typeof m=="object"&&m!==null?p.context=kn(m):(m=gn(o)?Aa:Bt.current,p.context=Si(a,m)),p.state=a.memoizedState,typeof(m=o.getDerivedStateFromProps)=="function"&&(Nf(a,o,m,u),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&cc.enqueueReplaceState(p,p.state,null),uc(a,u,p,f),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308)}function fs(a,o,u){if((a=u.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(u._owner){if(u=u._owner){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,a));var p=f,m=""+a;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===m?o.ref:(o=function(w){var E=p.refs;E===Py&&(E=p.refs={}),w===null?delete E[m]:E[m]=w},o._stringRef=m,o)}if(typeof a!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,a))}return a}function lc(a,o){throw a=Object.prototype.toString.call(o),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a))}function My(a){return(0,a._init)(a._payload)}function Ly(a){function o(z,_){if(a){var M=z.deletions;M===null?(z.deletions=[_],z.flags|=16):M.push(_)}}function u(z,_){if(!a)return null;for(;_!==null;)o(z,_),_=_.sibling;return null}function f(z,_){for(z=new Map;_!==null;)_.key!==null?z.set(_.key,_):z.set(_.index,_),_=_.sibling;return z}function p(z,_){return(z=aa(z,_)).index=0,z.sibling=null,z}function m(z,_,M){return z.index=M,a?(M=z.alternate)!==null?(M=M.index)<_?(z.flags|=2,_):M:(z.flags|=2,_):(z.flags|=1048576,_)}function w(z){return a&&z.alternate===null&&(z.flags|=2),z}function E(z,_,M,Y){return _===null||_.tag!==6?((_=yh(M,z.mode,Y)).return=z,_):((_=p(_,M)).return=z,_)}function O(z,_,M,Y){var ne=M.type;return ne===T?R(z,_,M.props.children,Y,M.key):_!==null&&(_.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===fe&&My(ne)===_.type)?((Y=p(_,M.props)).ref=fs(z,_,M),Y.return=z,Y):((Y=Tc(M.type,M.key,M.props,null,z.mode,Y)).ref=fs(z,_,M),Y.return=z,Y)}function D(z,_,M,Y){return _===null||_.tag!==4||_.stateNode.containerInfo!==M.containerInfo||_.stateNode.implementation!==M.implementation?((_=bh(M,z.mode,Y)).return=z,_):((_=p(_,M.children||[])).return=z,_)}function R(z,_,M,Y,ne){return _===null||_.tag!==7?((_=za(M,z.mode,Y,ne)).return=z,_):((_=p(_,M)).return=z,_)}function B(z,_,M){if(typeof _=="string"&&_!==""||typeof _=="number")return(_=yh(""+_,z.mode,M)).return=z,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case P:return(M=Tc(_.type,_.key,_.props,null,z.mode,M)).ref=fs(z,null,_),M.return=z,M;case N:return(_=bh(_,z.mode,M)).return=z,_;case fe:return B(z,(0,_._init)(_._payload),M)}if(Bo(_)||tt(_))return(_=za(_,z.mode,M,null)).return=z,_;lc(z,_)}return null}function L(z,_,M,Y){var ne=_!==null?_.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ne!==null?null:E(z,_,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case P:return M.key===ne?O(z,_,M,Y):null;case N:return M.key===ne?D(z,_,M,Y):null;case fe:return L(z,_,(ne=M._init)(M._payload),Y)}if(Bo(M)||tt(M))return ne!==null?null:R(z,_,M,Y,null);lc(z,M)}return null}function V(z,_,M,Y,ne){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return E(_,z=z.get(M)||null,""+Y,ne);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return O(_,z=z.get(Y.key===null?M:Y.key)||null,Y,ne);case N:return D(_,z=z.get(Y.key===null?M:Y.key)||null,Y,ne);case fe:return V(z,_,M,(0,Y._init)(Y._payload),ne)}if(Bo(Y)||tt(Y))return R(_,z=z.get(M)||null,Y,ne,null);lc(_,Y)}return null}function X(z,_,M,Y){for(var ne=null,we=null,te=_,xe=_=0,ye=null;te!==null&&xe<M.length;xe++){te.index>xe?(ye=te,te=null):ye=te.sibling;var pe=L(z,te,M[xe],Y);if(pe===null){te===null&&(te=ye);break}a&&te&&pe.alternate===null&&o(z,te),_=m(pe,_,xe),we===null?ne=pe:we.sibling=pe,we=pe,te=ye}if(xe===M.length)return u(z,te),at&&Na(z,xe),ne;if(te===null){for(;xe<M.length;xe++)(te=B(z,M[xe],Y))!==null&&(_=m(te,_,xe),we===null?ne=te:we.sibling=te,we=te);return at&&Na(z,xe),ne}for(te=f(z,te);xe<M.length;xe++)(ye=V(te,z,xe,M[xe],Y))!==null&&(a&&ye.alternate!==null&&te.delete(ye.key===null?xe:ye.key),_=m(ye,_,xe),we===null?ne=ye:we.sibling=ye,we=ye);return a&&te.forEach(function(Be){return o(z,Be)}),at&&Na(z,xe),ne}function K(z,_,M,Y){var ne=tt(M);if(typeof ne!="function")throw Error(n(150));if((M=ne.call(M))==null)throw Error(n(151));for(var we=ne=null,te=_,xe=_=0,ye=null,pe=M.next();te!==null&&!pe.done;xe++,pe=M.next()){te.index>xe?(ye=te,te=null):ye=te.sibling;var Be=L(z,te,pe.value,Y);if(Be===null){te===null&&(te=ye);break}a&&te&&Be.alternate===null&&o(z,te),_=m(Be,_,xe),we===null?ne=Be:we.sibling=Be,we=Be,te=ye}if(pe.done)return u(z,te),at&&Na(z,xe),ne;if(te===null){for(;!pe.done;xe++,pe=M.next())(pe=B(z,pe.value,Y))!==null&&(_=m(pe,_,xe),we===null?ne=pe:we.sibling=pe,we=pe);return at&&Na(z,xe),ne}for(te=f(z,te);!pe.done;xe++,pe=M.next())(pe=V(te,z,xe,pe.value,Y))!==null&&(a&&pe.alternate!==null&&te.delete(pe.key===null?xe:pe.key),_=m(pe,_,xe),we===null?ne=pe:we.sibling=pe,we=pe);return a&&te.forEach(function(Mi){return o(z,Mi)}),at&&Na(z,xe),ne}return function z(_,M,Y,ne){if(typeof Y=="object"&&Y!==null&&Y.type===T&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:e:{for(var we=Y.key,te=M;te!==null;){if(te.key===we){if((we=Y.type)===T){if(te.tag===7){u(_,te.sibling),(M=p(te,Y.props.children)).return=_,_=M;break e}}else if(te.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===fe&&My(we)===te.type){u(_,te.sibling),(M=p(te,Y.props)).ref=fs(_,te,Y),M.return=_,_=M;break e}u(_,te);break}o(_,te),te=te.sibling}Y.type===T?((M=za(Y.props.children,_.mode,ne,Y.key)).return=_,_=M):((ne=Tc(Y.type,Y.key,Y.props,null,_.mode,ne)).ref=fs(_,M,Y),ne.return=_,_=ne)}return w(_);case N:e:{for(te=Y.key;M!==null;){if(M.key===te){if(M.tag===4&&M.stateNode.containerInfo===Y.containerInfo&&M.stateNode.implementation===Y.implementation){u(_,M.sibling),(M=p(M,Y.children||[])).return=_,_=M;break e}u(_,M);break}o(_,M),M=M.sibling}(M=bh(Y,_.mode,ne)).return=_,_=M}return w(_);case fe:return z(_,M,(te=Y._init)(Y._payload),ne)}if(Bo(Y))return X(_,M,Y,ne);if(tt(Y))return K(_,M,Y,ne);lc(_,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,M!==null&&M.tag===6?(u(_,M.sibling),(M=p(M,Y)).return=_,_=M):(u(_,M),(M=yh(Y,_.mode,ne)).return=_,_=M),w(_)):u(_,M)}}var Ti=Ly(!0),Uy=Ly(!1),hs={},Jn=qr(hs),ps=qr(hs),gs=qr(hs);function Ra(a){if(a===hs)throw Error(n(174));return a}function Rf(a,o){switch(et(gs,o),et(ps,a),et(Jn,hs),a=o.nodeType){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:jd(null,"");break;default:o=jd(o=(a=a===8?o.parentNode:o).namespaceURI||null,a=a.tagName)}rt(Jn),et(Jn,o)}function _i(){rt(Jn),rt(ps),rt(gs)}function Fy(a){Ra(gs.current);var o=Ra(Jn.current),u=jd(o,a.type);o!==u&&(et(ps,a),et(Jn,u))}function Mf(a){ps.current===a&&(rt(Jn),rt(ps))}var dt=qr(0);function dc(a){for(var o=a;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&((u=u.dehydrated)===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(128&o.flags)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Lf=[];function Uf(){for(var a=0;a<Lf.length;a++)Lf[a]._workInProgressVersionPrimary=null;Lf.length=0}var fc=I.ReactCurrentDispatcher,Ff=I.ReactCurrentBatchConfig,Ma=0,ot=null,Nt=null,It=null,hc=!1,ms=!1,ys=0,qk=0;function Vt(){throw Error(n(321))}function zf(a,o){if(o===null)return!1;for(var u=0;u<o.length&&u<a.length;u++)if(!Nn(a[u],o[u]))return!1;return!0}function Bf(a,o,u,f,p,m){if(Ma=m,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,fc.current=a===null||a.memoizedState===null?Kk:Jk,a=u(f,p),ms){m=0;do{if(ms=!1,ys=0,25<=m)throw Error(n(301));m+=1,It=Nt=null,o.updateQueue=null,fc.current=Zk,a=u(f,p)}while(ms)}if(fc.current=mc,o=Nt!==null&&Nt.next!==null,Ma=0,It=Nt=ot=null,hc=!1,o)throw Error(n(300));return a}function Vf(){var a=ys!==0;return ys=0,a}function Zn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ot.memoizedState=It=a:It=It.next=a,It}function En(){if(Nt===null){var a=ot.alternate;a=a!==null?a.memoizedState:null}else a=Nt.next;var o=It===null?ot.memoizedState:It.next;if(o!==null)It=o,Nt=a;else{if(a===null)throw Error(n(310));a={memoizedState:(Nt=a).memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},It===null?ot.memoizedState=It=a:It=It.next=a}return It}function bs(a,o){return typeof o=="function"?o(a):o}function Wf(a){var o=En(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=Nt,p=f.baseQueue,m=u.pending;if(m!==null){if(p!==null){var w=p.next;p.next=m.next,m.next=w}f.baseQueue=p=m,u.pending=null}if(p!==null){m=p.next,f=f.baseState;var E=w=null,O=null,D=m;do{var R=D.lane;if((Ma&R)===R)O!==null&&(O=O.next={lane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),f=D.hasEagerState?D.eagerState:a(f,D.action);else{var B={lane:R,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null};O===null?(E=O=B,w=f):O=O.next=B,ot.lanes|=R,La|=R}D=D.next}while(D!==null&&D!==m);O===null?w=f:O.next=E,Nn(f,o.memoizedState)||(rn=!0),o.memoizedState=f,o.baseState=w,o.baseQueue=O,u.lastRenderedState=f}if((a=u.interleaved)!==null){p=a;do m=p.lane,ot.lanes|=m,La|=m,p=p.next;while(p!==a)}else p===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Hf(a){var o=En(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=u.dispatch,p=u.pending,m=o.memoizedState;if(p!==null){u.pending=null;var w=p=p.next;do m=a(m,w.action),w=w.next;while(w!==p);Nn(m,o.memoizedState)||(rn=!0),o.memoizedState=m,o.baseQueue===null&&(o.baseState=m),u.lastRenderedState=m}return[m,f]}function zy(){}function By(a,o){var u=ot,f=En(),p=o(),m=!Nn(f.memoizedState,p);if(m&&(f.memoizedState=p,rn=!0),f=f.queue,Gf(Hy.bind(null,u,f,a),[a]),f.getSnapshot!==o||m||It!==null&&1&It.memoizedState.tag){if(u.flags|=2048,vs(9,Wy.bind(null,u,f,p,o),void 0,null),Rt===null)throw Error(n(349));30&Ma||Vy(u,o,p)}return p}function Vy(a,o,u){a.flags|=16384,a={getSnapshot:o,value:u},(o=ot.updateQueue)===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.stores=[a]):(u=o.stores)===null?o.stores=[a]:u.push(a)}function Wy(a,o,u,f){o.value=u,o.getSnapshot=f,Gy(o)&&qy(a)}function Hy(a,o,u){return u(function(){Gy(o)&&qy(a)})}function Gy(a){var o=a.getSnapshot;a=a.value;try{var u=o();return!Nn(a,u)}catch{return!0}}function qy(a){var o=wr(a,1);o!==null&&Mn(o,a,1,-1)}function Yy(a){var o=Zn();return typeof a=="function"&&(a=a()),o.memoizedState=o.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:a},o.queue=a,a=a.dispatch=Xk.bind(null,ot,a),[o.memoizedState,a]}function vs(a,o,u,f){return a={tag:a,create:o,destroy:u,deps:f,next:null},(o=ot.updateQueue)===null?(o={lastEffect:null,stores:null},ot.updateQueue=o,o.lastEffect=a.next=a):(u=o.lastEffect)===null?o.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,o.lastEffect=a),a}function Qy(){return En().memoizedState}function pc(a,o,u,f){var p=Zn();ot.flags|=a,p.memoizedState=vs(1|o,u,void 0,f===void 0?null:f)}function gc(a,o,u,f){var p=En();f=f===void 0?null:f;var m=void 0;if(Nt!==null){var w=Nt.memoizedState;if(m=w.destroy,f!==null&&zf(f,w.deps))return void(p.memoizedState=vs(o,u,m,f))}ot.flags|=a,p.memoizedState=vs(1|o,u,m,f)}function Xy(a,o){return pc(8390656,8,a,o)}function Gf(a,o){return gc(2048,8,a,o)}function Ky(a,o){return gc(4,2,a,o)}function Jy(a,o){return gc(4,4,a,o)}function Zy(a,o){return typeof o=="function"?(a=a(),o(a),function(){o(null)}):o!=null?(a=a(),o.current=a,function(){o.current=null}):void 0}function eb(a,o,u){return u=u!=null?u.concat([a]):null,gc(4,4,Zy.bind(null,o,a),u)}function qf(){}function tb(a,o){var u=En();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&zf(o,f[1])?f[0]:(u.memoizedState=[a,o],a)}function nb(a,o){var u=En();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&zf(o,f[1])?f[0]:(a=a(),u.memoizedState=[a,o],a)}function rb(a,o,u){return 21&Ma?(Nn(u,o)||(u=Tm(),ot.lanes|=u,La|=u,a.baseState=!0),o):(a.baseState&&(a.baseState=!1,rn=!0),a.memoizedState=u)}function Yk(a,o){var u=qe;qe=u!==0&&4>u?u:4,a(!0);var f=Ff.transition;Ff.transition={};try{a(!1),o()}finally{qe=u,Ff.transition=f}}function ab(){return En().memoizedState}function Qk(a,o,u){var f=na(a);u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},ib(a)?ob(o,u):(u=Ty(a,o,u,f))!==null&&(Mn(u,a,f,Xt()),sb(u,o,f))}function Xk(a,o,u){var f=na(a),p={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(ib(a))ob(o,p);else{var m=a.alternate;if(a.lanes===0&&(m===null||m.lanes===0)&&(m=o.lastRenderedReducer)!==null)try{var w=o.lastRenderedState,E=m(w,u);if(p.hasEagerState=!0,p.eagerState=E,Nn(E,w)){var O=o.interleaved;return O===null?(p.next=p,Af(o)):(p.next=O.next,O.next=p),void(o.interleaved=p)}}catch{}(u=Ty(a,o,p,f))!==null&&(Mn(u,a,f,p=Xt()),sb(u,o,f))}}function ib(a){var o=a.alternate;return a===ot||o!==null&&o===ot}function ob(a,o){ms=hc=!0;var u=a.pending;u===null?o.next=o:(o.next=u.next,u.next=o),a.pending=o}function sb(a,o,u){if(4194240&u){var f=o.lanes;u|=f&=a.pendingLanes,o.lanes=u,Hd(a,u)}}var mc={readContext:kn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},Kk={readContext:kn,useCallback:function(a,o){return Zn().memoizedState=[a,o===void 0?null:o],a},useContext:kn,useEffect:Xy,useImperativeHandle:function(a,o,u){return u=u!=null?u.concat([a]):null,pc(4194308,4,Zy.bind(null,o,a),u)},useLayoutEffect:function(a,o){return pc(4194308,4,a,o)},useInsertionEffect:function(a,o){return pc(4,2,a,o)},useMemo:function(a,o){var u=Zn();return o=o===void 0?null:o,a=a(),u.memoizedState=[a,o],a},useReducer:function(a,o,u){var f=Zn();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:o},f.queue=a,a=a.dispatch=Qk.bind(null,ot,a),[f.memoizedState,a]},useRef:function(a){return a={current:a},Zn().memoizedState=a},useState:Yy,useDebugValue:qf,useDeferredValue:function(a){return Zn().memoizedState=a},useTransition:function(){var a=Yy(!1),o=a[0];return a=Yk.bind(null,a[1]),Zn().memoizedState=a,[o,a]},useMutableSource:function(){},useSyncExternalStore:function(a,o,u){var f=ot,p=Zn();if(at){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Rt===null)throw Error(n(349));30&Ma||Vy(f,o,u)}p.memoizedState=u;var m={value:u,getSnapshot:o};return p.queue=m,Xy(Hy.bind(null,f,m,a),[a]),f.flags|=2048,vs(9,Wy.bind(null,f,m,u,o),void 0,null),u},useId:function(){var a=Zn(),o=Rt.identifierPrefix;if(at){var u=vr;o=":"+o+"R"+(u=(Kn&~(1<<32-Pn(Kn)-1)).toString(32)+u),0<(u=ys++)&&(o+="H"+u.toString(32)),o+=":"}else o=":"+o+"r"+(u=qk++).toString(32)+":";return a.memoizedState=o},unstable_isNewReconciler:!1},Jk={readContext:kn,useCallback:tb,useContext:kn,useEffect:Gf,useImperativeHandle:eb,useInsertionEffect:Ky,useLayoutEffect:Jy,useMemo:nb,useReducer:Wf,useRef:Qy,useState:function(){return Wf(bs)},useDebugValue:qf,useDeferredValue:function(a){return rb(En(),Nt.memoizedState,a)},useTransition:function(){return[Wf(bs)[0],En().memoizedState]},useMutableSource:zy,useSyncExternalStore:By,useId:ab,unstable_isNewReconciler:!1},Zk={readContext:kn,useCallback:tb,useContext:kn,useEffect:Gf,useImperativeHandle:eb,useInsertionEffect:Ky,useLayoutEffect:Jy,useMemo:nb,useReducer:Hf,useRef:Qy,useState:function(){return Hf(bs)},useDebugValue:qf,useDeferredValue:function(a){var o=En();return Nt===null?o.memoizedState=a:rb(o,Nt.memoizedState,a)},useTransition:function(){return[Hf(bs)[0],En().memoizedState]},useMutableSource:zy,useSyncExternalStore:By,useId:ab,unstable_isNewReconciler:!1};function Di(a,o){try{var u="",f=o;do u+=Fe(f),f=f.return;while(f);var p=u}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:a,source:o,stack:p,digest:null}}function Yf(a,o,u){return{value:a,source:null,stack:u??null,digest:o??null}}function Qf(a,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var eE=typeof WeakMap=="function"?WeakMap:Map;function ub(a,o,u){(u=xr(-1,u)).tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){Sc||(Sc=!0,ch=f),Qf(0,o)},u}function cb(a,o,u){(u=xr(-1,u)).tag=3;var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var p=o.value;u.payload=function(){return f(p)},u.callback=function(){Qf(0,o)}}var m=a.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(u.callback=function(){Qf(0,o),typeof f!="function"&&(ea===null?ea=new Set([this]):ea.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),u}function lb(a,o,u){var f=a.pingCache;if(f===null){f=a.pingCache=new eE;var p=new Set;f.set(o,p)}else(p=f.get(o))===void 0&&(p=new Set,f.set(o,p));p.has(u)||(p.add(u),a=cE.bind(null,a,o,u),o.then(a,a))}function db(a){do{var o;if((o=a.tag===13)&&(o=(o=a.memoizedState)===null||o.dehydrated!==null),o)return a;a=a.return}while(a!==null);return null}function fb(a,o,u,f,p){return 1&a.mode?(a.flags|=65536,a.lanes=p,a):(a===o?a.flags|=65536:(a.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:((o=xr(-1,1)).tag=2,Kr(u,o,1))),u.lanes|=1),a)}var tE=I.ReactCurrentOwner,rn=!1;function an(a,o,u,f){o.child=a===null?Uy(o,null,u,f):Ti(o,a.child,u,f)}function hb(a,o,u,f,p){u=u.render;var m=o.ref;return ji(o,p),f=Bf(a,o,u,f,m,p),u=Vf(),a===null||rn?(at&&u&&Sf(o),o.flags|=1,an(a,o,f,p),o.child):(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~p,$r(a,o,p))}function pb(a,o,u,f,p){if(a===null){var m=u.type;return typeof m!="function"||mh(m)||m.defaultProps!==void 0||u.compare!==null||u.defaultProps!==void 0?((a=Tc(u.type,null,f,o,o.mode,p)).ref=o.ref,a.return=o,o.child=a):(o.tag=15,o.type=m,gb(a,o,m,f,p))}if(m=a.child,!(a.lanes&p)){var w=m.memoizedProps;if((u=(u=u.compare)!==null?u:is)(w,f)&&a.ref===o.ref)return $r(a,o,p)}return o.flags|=1,(a=aa(m,f)).ref=o.ref,a.return=o,o.child=a}function gb(a,o,u,f,p){if(a!==null){var m=a.memoizedProps;if(is(m,f)&&a.ref===o.ref){if(rn=!1,o.pendingProps=f=m,!(a.lanes&p))return o.lanes=a.lanes,$r(a,o,p);131072&a.flags&&(rn=!0)}}return Xf(a,o,u,f,p)}function mb(a,o,u){var f=o.pendingProps,p=f.children,m=a!==null?a.memoizedState:null;if(f.mode==="hidden")if(1&o.mode){if(!(1073741824&u))return a=m!==null?m.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:a,cachePool:null,transitions:null},o.updateQueue=null,et(Pi,bn),bn|=a,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=m!==null?m.baseLanes:u,et(Pi,bn),bn|=f}else o.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Pi,bn),bn|=u;else m!==null?(f=m.baseLanes|u,o.memoizedState=null):f=u,et(Pi,bn),bn|=f;return an(a,o,p,u),o.child}function yb(a,o){var u=o.ref;(a===null&&u!==null||a!==null&&a.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Xf(a,o,u,f,p){var m=gn(u)?Aa:Bt.current;return m=Si(o,m),ji(o,p),u=Bf(a,o,u,f,m,p),f=Vf(),a===null||rn?(at&&f&&Sf(o),o.flags|=1,an(a,o,u,p),o.child):(o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~p,$r(a,o,p))}function bb(a,o,u,f,p){if(gn(u)){var m=!0;ec(o)}else m=!1;if(ji(o,p),o.stateNode===null)bc(a,o),Iy(o,u,f),If(o,u,f,p),f=!0;else if(a===null){var w=o.stateNode,E=o.memoizedProps;w.props=E;var O=w.context,D=u.contextType;D=typeof D=="object"&&D!==null?kn(D):Si(o,D=gn(u)?Aa:Bt.current);var R=u.getDerivedStateFromProps,B=typeof R=="function"||typeof w.getSnapshotBeforeUpdate=="function";B||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==f||O!==D)&&Ry(o,w,f,D),Xr=!1;var L=o.memoizedState;w.state=L,uc(o,f,w,p),O=o.memoizedState,E!==f||L!==O||nn.current||Xr?(typeof R=="function"&&(Nf(o,u,R,f),O=o.memoizedState),(E=Xr||Ny(o,u,E,f,L,O,D))?(B||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=O),w.props=f,w.state=O,w.context=D,f=E):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{w=o.stateNode,_y(a,o),E=o.memoizedProps,D=o.type===o.elementType?E:Rn(o.type,E),w.props=D,B=o.pendingProps,L=w.context,O=typeof(O=u.contextType)=="object"&&O!==null?kn(O):Si(o,O=gn(u)?Aa:Bt.current);var V=u.getDerivedStateFromProps;(R=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==B||L!==O)&&Ry(o,w,f,O),Xr=!1,L=o.memoizedState,w.state=L,uc(o,f,w,p);var X=o.memoizedState;E!==B||L!==X||nn.current||Xr?(typeof V=="function"&&(Nf(o,u,V,f),X=o.memoizedState),(D=Xr||Ny(o,u,D,f,L,X,O)||!1)?(R||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(f,X,O),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(f,X,O)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===a.memoizedProps&&L===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&L===a.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=X),w.props=f,w.state=X,w.context=O,f=D):(typeof w.componentDidUpdate!="function"||E===a.memoizedProps&&L===a.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&L===a.memoizedState||(o.flags|=1024),f=!1)}return Kf(a,o,u,f,m,p)}function Kf(a,o,u,f,p,m){yb(a,o);var w=!!(128&o.flags);if(!f&&!w)return p&&$y(o,u,!1),$r(a,o,m);f=o.stateNode,tE.current=o;var E=w&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,a!==null&&w?(o.child=Ti(o,a.child,null,m),o.child=Ti(o,null,E,m)):an(a,o,E,m),o.memoizedState=f.state,p&&$y(o,u,!0),o.child}function vb(a){var o=a.stateNode;o.pendingContext?wy(0,o.pendingContext,o.pendingContext!==o.context):o.context&&wy(0,o.context,!1),Rf(a,o.containerInfo)}function wb(a,o,u,f,p){return Oi(),Cf(p),o.flags|=256,an(a,o,u,f),o.child}var xb,Jf,$b,Sb,Zf={dehydrated:null,treeContext:null,retryLane:0};function eh(a){return{baseLanes:a,cachePool:null,transitions:null}}function kb(a,o,u){var f,p=o.pendingProps,m=dt.current,w=!1,E=!!(128&o.flags);if((f=E)||(f=(a===null||a.memoizedState!==null)&&!!(2&m)),f?(w=!0,o.flags&=-129):a!==null&&a.memoizedState===null||(m|=1),et(dt,1&m),a===null)return Of(o),(a=o.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&o.mode?a.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(E=p.children,a=p.fallback,w?(p=o.mode,w=o.child,E={mode:"hidden",children:E},1&p||w===null?w=_c(E,p,0,null):(w.childLanes=0,w.pendingProps=E),a=za(a,p,u,null),w.return=o,a.return=o,w.sibling=a,o.child=w,o.child.memoizedState=eh(u),o.memoizedState=Zf,a):th(o,E));if((m=a.memoizedState)!==null&&(f=m.dehydrated)!==null)return function(D,R,B,L,V,X,K){if(B)return 256&R.flags?(R.flags&=-257,yc(D,R,K,L=Yf(Error(n(422))))):R.memoizedState!==null?(R.child=D.child,R.flags|=128,null):(X=L.fallback,V=R.mode,L=_c({mode:"visible",children:L.children},V,0,null),(X=za(X,V,K,null)).flags|=2,L.return=R,X.return=R,L.sibling=X,R.child=L,1&R.mode&&Ti(R,D.child,null,K),R.child.memoizedState=eh(K),R.memoizedState=Zf,X);if(!(1&R.mode))return yc(D,R,K,null);if(V.data==="$!"){if(L=V.nextSibling&&V.nextSibling.dataset)var z=L.dgst;return L=z,yc(D,R,K,L=Yf(X=Error(n(419)),L,void 0))}if(z=!!(K&D.childLanes),rn||z){if((L=Rt)!==null){switch(K&-K){case 4:V=2;break;case 16:V=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:V=32;break;case 536870912:V=268435456;break;default:V=0}(V=V&(L.suspendedLanes|K)?0:V)!==0&&V!==X.retryLane&&(X.retryLane=V,wr(D,V),Mn(L,D,V,-1))}return gh(),yc(D,R,K,L=Yf(Error(n(421))))}return V.data==="$?"?(R.flags|=128,R.child=D.child,R=lE.bind(null,D),V._reactRetry=R,null):(D=X.treeContext,yn=Gr(V.nextSibling),mn=R,at=!0,In=null,D!==null&&($n[Sn++]=Kn,$n[Sn++]=vr,$n[Sn++]=Pa,Kn=D.id,vr=D.overflow,Pa=R),(R=th(R,L.children)).flags|=4096,R)}(a,o,E,p,f,m,u);if(w){w=p.fallback,E=o.mode,f=(m=a.child).sibling;var O={mode:"hidden",children:p.children};return 1&E||o.child===m?(p=aa(m,O)).subtreeFlags=14680064&m.subtreeFlags:((p=o.child).childLanes=0,p.pendingProps=O,o.deletions=null),f!==null?w=aa(f,w):(w=za(w,E,u,null)).flags|=2,w.return=o,p.return=o,p.sibling=w,o.child=p,p=w,w=o.child,E=(E=a.child.memoizedState)===null?eh(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=a.childLanes&~u,o.memoizedState=Zf,p}return a=(w=a.child).sibling,p=aa(w,{mode:"visible",children:p.children}),!(1&o.mode)&&(p.lanes=u),p.return=o,p.sibling=null,a!==null&&((u=o.deletions)===null?(o.deletions=[a],o.flags|=16):u.push(a)),o.child=p,o.memoizedState=null,p}function th(a,o){return(o=_c({mode:"visible",children:o},a.mode,0,null)).return=a,a.child=o}function yc(a,o,u,f){return f!==null&&Cf(f),Ti(o,a.child,null,u),(a=th(o,o.pendingProps.children)).flags|=2,o.memoizedState=null,a}function Eb(a,o,u){a.lanes|=o;var f=a.alternate;f!==null&&(f.lanes|=o),Df(a.return,o,u)}function nh(a,o,u,f,p){var m=a.memoizedState;m===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:p}:(m.isBackwards=o,m.rendering=null,m.renderingStartTime=0,m.last=f,m.tail=u,m.tailMode=p)}function Ob(a,o,u){var f=o.pendingProps,p=f.revealOrder,m=f.tail;if(an(a,o,f.children,u),2&(f=dt.current))f=1&f|2,o.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Eb(a,u,o);else if(a.tag===19)Eb(a,u,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}if(et(dt,f),1&o.mode)switch(p){case"forwards":for(u=o.child,p=null;u!==null;)(a=u.alternate)!==null&&dc(a)===null&&(p=u),u=u.sibling;(u=p)===null?(p=o.child,o.child=null):(p=u.sibling,u.sibling=null),nh(o,!1,p,u,m);break;case"backwards":for(u=null,p=o.child,o.child=null;p!==null;){if((a=p.alternate)!==null&&dc(a)===null){o.child=p;break}a=p.sibling,p.sibling=u,u=p,p=a}nh(o,!0,u,null,m);break;case"together":nh(o,!1,null,null,void 0);break;default:o.memoizedState=null}else o.memoizedState=null;return o.child}function bc(a,o){!(1&o.mode)&&a!==null&&(a.alternate=null,o.alternate=null,o.flags|=2)}function $r(a,o,u){if(a!==null&&(o.dependencies=a.dependencies),La|=o.lanes,!(u&o.childLanes))return null;if(a!==null&&o.child!==a.child)throw Error(n(153));if(o.child!==null){for(u=aa(a=o.child,a.pendingProps),o.child=u,u.return=o;a.sibling!==null;)a=a.sibling,(u=u.sibling=aa(a,a.pendingProps)).return=o;u.sibling=null}return o.child}function ws(a,o){if(!at)switch(a.tailMode){case"hidden":o=a.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Yt(a){var o=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(o)for(var p=a.child;p!==null;)u|=p.lanes|p.childLanes,f|=14680064&p.subtreeFlags,f|=14680064&p.flags,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)u|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=f,a.childLanes=u,o}function nE(a,o,u){var f=o.pendingProps;switch(kf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(o),null;case 1:case 17:return gn(o.type)&&xf(),Yt(o),null;case 3:return f=o.stateNode,_i(),rt(nn),rt(Bt),Uf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),a!==null&&a.child!==null||(ac(o)?o.flags|=4:a===null||a.memoizedState.isDehydrated&&!(256&o.flags)||(o.flags|=1024,In!==null&&(fh(In),In=null))),Jf(a,o),Yt(o),null;case 5:Mf(o);var p=Ra(gs.current);if(u=o.type,a!==null&&o.stateNode!=null)$b(a,o,u,f,p),a.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Yt(o),null}if(a=Ra(Jn.current),ac(o)){f=o.stateNode,u=o.type;var m=o.memoizedProps;switch(f[Xn]=o,f[ls]=m,a=!!(1&o.mode),u){case"dialog":nt("cancel",f),nt("close",f);break;case"iframe":case"object":case"embed":nt("load",f);break;case"video":case"audio":for(p=0;p<ss.length;p++)nt(ss[p],f);break;case"source":nt("error",f);break;case"img":case"image":case"link":nt("error",f),nt("load",f);break;case"details":nt("toggle",f);break;case"input":Oa(f,m),nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!m.multiple},nt("invalid",f);break;case"textarea":um(f,m),nt("invalid",f)}for(var w in Dd(u,m),p=null,m)if(m.hasOwnProperty(w)){var E=m[w];w==="children"?typeof E=="string"?f.textContent!==E&&(m.suppressHydrationWarning!==!0&&Ku(f.textContent,E,a),p=["children",E]):typeof E=="number"&&f.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&Ku(f.textContent,E,a),p=["children",""+E]):i.hasOwnProperty(w)&&E!=null&&w==="onScroll"&&nt("scroll",f)}switch(u){case"input":Oe(f),ja(f,m,!0);break;case"textarea":Oe(f),lm(f);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(f.onclick=Ju)}f=p,o.updateQueue=f,f!==null&&(o.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=dm(u)),a==="http://www.w3.org/1999/xhtml"?u==="script"?((a=w.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof f.is=="string"?a=w.createElement(u,{is:f.is}):(a=w.createElement(u),u==="select"&&(w=a,f.multiple?w.multiple=!0:f.size&&(w.size=f.size))):a=w.createElementNS(a,u),a[Xn]=o,a[ls]=f,xb(a,o,!1,!1),o.stateNode=a;e:{switch(w=Ad(u,f),u){case"dialog":nt("cancel",a),nt("close",a),p=f;break;case"iframe":case"object":case"embed":nt("load",a),p=f;break;case"video":case"audio":for(p=0;p<ss.length;p++)nt(ss[p],a);p=f;break;case"source":nt("error",a),p=f;break;case"img":case"image":case"link":nt("error",a),nt("load",a),p=f;break;case"details":nt("toggle",a),p=f;break;case"input":Oa(a,f),p=gt(a,f),nt("invalid",a);break;case"option":default:p=f;break;case"select":a._wrapperState={wasMultiple:!!f.multiple},p=J({},f,{value:void 0}),nt("invalid",a);break;case"textarea":um(a,f),p=Cd(a,f),nt("invalid",a)}for(m in Dd(u,p),E=p)if(E.hasOwnProperty(m)){var O=E[m];m==="style"?pm(a,O):m==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0)!=null&&fm(a,O):m==="children"?typeof O=="string"?(u!=="textarea"||O!=="")&&Vo(a,O):typeof O=="number"&&Vo(a,""+O):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(i.hasOwnProperty(m)?O!=null&&m==="onScroll"&&nt("scroll",a):O!=null&&C(a,m,O,w))}switch(u){case"input":Oe(a),ja(a,f,!1);break;case"textarea":Oe(a),lm(a);break;case"option":f.value!=null&&a.setAttribute("value",""+me(f.value));break;case"select":a.multiple=!!f.multiple,(m=f.value)!=null?di(a,!!f.multiple,m,!1):f.defaultValue!=null&&di(a,!!f.multiple,f.defaultValue,!0);break;default:typeof p.onClick=="function"&&(a.onclick=Ju)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Yt(o),null;case 6:if(a&&o.stateNode!=null)Sb(a,o,a.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Ra(gs.current),Ra(Jn.current),ac(o)){if(f=o.stateNode,u=o.memoizedProps,f[Xn]=o,(m=f.nodeValue!==u)&&(a=mn)!==null)switch(a.tag){case 3:Ku(f.nodeValue,u,!!(1&a.mode));break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Ku(f.nodeValue,u,!!(1&a.mode))}m&&(o.flags|=4)}else(f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f))[Xn]=o,o.stateNode=f}return Yt(o),null;case 13:if(rt(dt),f=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(at&&yn!==null&&1&o.mode&&!(128&o.flags))jy(),Oi(),o.flags|=98560,m=!1;else if(m=ac(o),f!==null&&f.dehydrated!==null){if(a===null){if(!m)throw Error(n(318));if(!(m=(m=o.memoizedState)!==null?m.dehydrated:null))throw Error(n(317));m[Xn]=o}else Oi(),!(128&o.flags)&&(o.memoizedState=null),o.flags|=4;Yt(o),m=!1}else In!==null&&(fh(In),In=null),m=!0;if(!m)return 65536&o.flags?o:null}return 128&o.flags?(o.lanes=u,o):((f=f!==null)!=(a!==null&&a.memoizedState!==null)&&f&&(o.child.flags|=8192,1&o.mode&&(a===null||1&dt.current?Ot===0&&(Ot=3):gh())),o.updateQueue!==null&&(o.flags|=4),Yt(o),null);case 4:return _i(),Jf(a,o),a===null&&us(o.stateNode.containerInfo),Yt(o),null;case 10:return _f(o.type._context),Yt(o),null;case 19:if(rt(dt),(m=o.memoizedState)===null)return Yt(o),null;if(f=!!(128&o.flags),(w=m.rendering)===null)if(f)ws(m,!1);else{if(Ot!==0||a!==null&&128&a.flags)for(a=o.child;a!==null;){if((w=dc(a))!==null){for(o.flags|=128,ws(m,!1),(f=w.updateQueue)!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)a=f,(m=u).flags&=14680066,(w=m.alternate)===null?(m.childLanes=0,m.lanes=a,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,a=w.dependencies,m.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),u=u.sibling;return et(dt,1&dt.current|2),o.child}a=a.sibling}m.tail!==null&&mt()>Ni&&(o.flags|=128,f=!0,ws(m,!1),o.lanes=4194304)}else{if(!f)if((a=dc(w))!==null){if(o.flags|=128,f=!0,(u=a.updateQueue)!==null&&(o.updateQueue=u,o.flags|=4),ws(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!at)return Yt(o),null}else 2*mt()-m.renderingStartTime>Ni&&u!==1073741824&&(o.flags|=128,f=!0,ws(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):((u=m.last)!==null?u.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=mt(),o.sibling=null,u=dt.current,et(dt,f?1&u|2:1&u),o):(Yt(o),null);case 22:case 23:return ph(),f=o.memoizedState!==null,a!==null&&a.memoizedState!==null!==f&&(o.flags|=8192),f&&1&o.mode?1073741824&bn&&(Yt(o),6&o.subtreeFlags&&(o.flags|=8192)):Yt(o),null;case 24:case 25:return null}throw Error(n(156,o.tag))}function rE(a,o){switch(kf(o),o.tag){case 1:return gn(o.type)&&xf(),65536&(a=o.flags)?(o.flags=-65537&a|128,o):null;case 3:return _i(),rt(nn),rt(Bt),Uf(),65536&(a=o.flags)&&!(128&a)?(o.flags=-65537&a|128,o):null;case 5:return Mf(o),null;case 13:if(rt(dt),(a=o.memoizedState)!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Oi()}return 65536&(a=o.flags)?(o.flags=-65537&a|128,o):null;case 19:return rt(dt),null;case 4:return _i(),null;case 10:return _f(o.type._context),null;case 22:case 23:return ph(),null;default:return null}}xb=function(a,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)a.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Jf=function(){},$b=function(a,o,u,f){var p=a.memoizedProps;if(p!==f){a=o.stateNode,Ra(Jn.current);var m,w=null;switch(u){case"input":p=gt(a,p),f=gt(a,f),w=[];break;case"select":p=J({},p,{value:void 0}),f=J({},f,{value:void 0}),w=[];break;case"textarea":p=Cd(a,p),f=Cd(a,f),w=[];break;default:typeof p.onClick!="function"&&typeof f.onClick=="function"&&(a.onclick=Ju)}for(D in Dd(u,f),u=null,p)if(!f.hasOwnProperty(D)&&p.hasOwnProperty(D)&&p[D]!=null)if(D==="style"){var E=p[D];for(m in E)E.hasOwnProperty(m)&&(u||(u={}),u[m]="")}else D!=="dangerouslySetInnerHTML"&&D!=="children"&&D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?w||(w=[]):(w=w||[]).push(D,null));for(D in f){var O=f[D];if(E=p?.[D],f.hasOwnProperty(D)&&O!==E&&(O!=null||E!=null))if(D==="style")if(E){for(m in E)!E.hasOwnProperty(m)||O&&O.hasOwnProperty(m)||(u||(u={}),u[m]="");for(m in O)O.hasOwnProperty(m)&&E[m]!==O[m]&&(u||(u={}),u[m]=O[m])}else u||(w||(w=[]),w.push(D,u)),u=O;else D==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(w=w||[]).push(D,O)):D==="children"?typeof O!="string"&&typeof O!="number"||(w=w||[]).push(D,""+O):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&(i.hasOwnProperty(D)?(O!=null&&D==="onScroll"&&nt("scroll",a),w||E===O||(w=[])):(w=w||[]).push(D,O))}u&&(w=w||[]).push("style",u);var D=w;(o.updateQueue=D)&&(o.flags|=4)}},Sb=function(a,o,u,f){u!==f&&(o.flags|=4)};var vc=!1,Wt=!1,aE=typeof WeakSet=="function"?WeakSet:Set,ie=null;function Ai(a,o){var u=a.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){ft(a,o,f)}else u.current=null}function Cb(a,o,u){try{u()}catch(f){ft(a,o,f)}}var jb=!1;function xs(a,o,u){var f=o.updateQueue;if((f=f!==null?f.lastEffect:null)!==null){var p=f=f.next;do{if((p.tag&a)===a){var m=p.destroy;p.destroy=void 0,m!==void 0&&Cb(o,u,m)}p=p.next}while(p!==f)}}function wc(a,o){if((o=(o=o.updateQueue)!==null?o.lastEffect:null)!==null){var u=o=o.next;do{if((u.tag&a)===a){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function rh(a){var o=a.ref;if(o!==null){var u=a.stateNode;a.tag,a=u,typeof o=="function"?o(a):o.current=a}}function Tb(a){var o=a.alternate;o!==null&&(a.alternate=null,Tb(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode)!==null&&(delete o[Xn],delete o[ls],delete o[vf],delete o[Wk],delete o[Hk]),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function _b(a){return a.tag===5||a.tag===3||a.tag===4}function Db(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||_b(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function ah(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(a,o):u.insertBefore(a,o):(u.nodeType===8?(o=u.parentNode).insertBefore(a,u):(o=u).appendChild(a),(u=u._reactRootContainer)!=null||o.onclick!==null||(o.onclick=Ju));else if(f!==4&&(a=a.child)!==null)for(ah(a,o,u),a=a.sibling;a!==null;)ah(a,o,u),a=a.sibling}function ih(a,o,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,o?u.insertBefore(a,o):u.appendChild(a);else if(f!==4&&(a=a.child)!==null)for(ih(a,o,u),a=a.sibling;a!==null;)ih(a,o,u),a=a.sibling}var Qt=null,er=!1;function Jr(a,o,u){for(u=u.child;u!==null;)Ab(a,o,u),u=u.sibling}function Ab(a,o,u){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(Iu,u)}catch{}switch(u.tag){case 5:Wt||Ai(u,o);case 6:var f=Qt,p=er;Qt=null,Jr(a,o,u),er=p,(Qt=f)!==null&&(er?(a=Qt,u=u.stateNode,a.nodeType===8?a.parentNode.removeChild(u):a.removeChild(u)):Qt.removeChild(u.stateNode));break;case 18:Qt!==null&&(er?(a=Qt,u=u.stateNode,a.nodeType===8?bf(a.parentNode,u):a.nodeType===1&&bf(a,u),es(a)):bf(Qt,u.stateNode));break;case 4:f=Qt,p=er,Qt=u.stateNode.containerInfo,er=!0,Jr(a,o,u),Qt=f,er=p;break;case 0:case 11:case 14:case 15:if(!Wt&&(f=u.updateQueue)!==null&&(f=f.lastEffect)!==null){p=f=f.next;do{var m=p,w=m.destroy;m=m.tag,w!==void 0&&(2&m||4&m)&&Cb(u,o,w),p=p.next}while(p!==f)}Jr(a,o,u);break;case 1:if(!Wt&&(Ai(u,o),typeof(f=u.stateNode).componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(E){ft(u,o,E)}Jr(a,o,u);break;case 21:Jr(a,o,u);break;case 22:1&u.mode?(Wt=(f=Wt)||u.memoizedState!==null,Jr(a,o,u),Wt=f):Jr(a,o,u);break;default:Jr(a,o,u)}}function Pb(a){var o=a.updateQueue;if(o!==null){a.updateQueue=null;var u=a.stateNode;u===null&&(u=a.stateNode=new aE),o.forEach(function(f){var p=dE.bind(null,a,f);u.has(f)||(u.add(f),f.then(p,p))})}}function tr(a,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var p=u[f];try{var m=a,w=o,E=w;e:for(;E!==null;){switch(E.tag){case 5:Qt=E.stateNode,er=!1;break e;case 3:case 4:Qt=E.stateNode.containerInfo,er=!0;break e}E=E.return}if(Qt===null)throw Error(n(160));Ab(m,w,p),Qt=null,er=!1;var O=p.alternate;O!==null&&(O.return=null),p.return=null}catch(D){ft(p,o,D)}}if(12854&o.subtreeFlags)for(o=o.child;o!==null;)Nb(o,a),o=o.sibling}function Nb(a,o){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(tr(o,a),Sr(a),4&f){try{xs(3,a,a.return),wc(3,a)}catch(K){ft(a,a.return,K)}try{xs(5,a,a.return)}catch(K){ft(a,a.return,K)}}break;case 1:tr(o,a),Sr(a),512&f&&u!==null&&Ai(u,u.return);break;case 5:if(tr(o,a),Sr(a),512&f&&u!==null&&Ai(u,u.return),32&a.flags){var p=a.stateNode;try{Vo(p,"")}catch(K){ft(a,a.return,K)}}if(4&f&&(p=a.stateNode)!=null){var m=a.memoizedProps,w=u!==null?u.memoizedProps:m,E=a.type,O=a.updateQueue;if(a.updateQueue=null,O!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&Ca(p,m),Ad(E,w);var D=Ad(E,m);for(w=0;w<O.length;w+=2){var R=O[w],B=O[w+1];R==="style"?pm(p,B):R==="dangerouslySetInnerHTML"?fm(p,B):R==="children"?Vo(p,B):C(p,R,B,D)}switch(E){case"input":Yn(p,m);break;case"textarea":cm(p,m);break;case"select":var L=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!m.multiple;var V=m.value;V!=null?di(p,!!m.multiple,V,!1):L!==!!m.multiple&&(m.defaultValue!=null?di(p,!!m.multiple,m.defaultValue,!0):di(p,!!m.multiple,m.multiple?[]:"",!1))}p[ls]=m}catch(K){ft(a,a.return,K)}}break;case 6:if(tr(o,a),Sr(a),4&f){if(a.stateNode===null)throw Error(n(162));p=a.stateNode,m=a.memoizedProps;try{p.nodeValue=m}catch(K){ft(a,a.return,K)}}break;case 3:if(tr(o,a),Sr(a),4&f&&u!==null&&u.memoizedState.isDehydrated)try{es(o.containerInfo)}catch(K){ft(a,a.return,K)}break;case 4:default:tr(o,a),Sr(a);break;case 13:tr(o,a),Sr(a),8192&(p=a.child).flags&&(m=p.memoizedState!==null,p.stateNode.isHidden=m,!m||p.alternate!==null&&p.alternate.memoizedState!==null||(uh=mt())),4&f&&Pb(a);break;case 22:if(R=u!==null&&u.memoizedState!==null,1&a.mode?(Wt=(D=Wt)||R,tr(o,a),Wt=D):tr(o,a),Sr(a),8192&f){if(D=a.memoizedState!==null,(a.stateNode.isHidden=D)&&!R&&1&a.mode)for(ie=a,R=a.child;R!==null;){for(B=ie=R;ie!==null;){switch(V=(L=ie).child,L.tag){case 0:case 11:case 14:case 15:xs(4,L,L.return);break;case 1:Ai(L,L.return);var X=L.stateNode;if(typeof X.componentWillUnmount=="function"){f=L,u=L.return;try{o=f,X.props=o.memoizedProps,X.state=o.memoizedState,X.componentWillUnmount()}catch(K){ft(f,u,K)}}break;case 5:Ai(L,L.return);break;case 22:if(L.memoizedState!==null){Mb(B);continue}}V!==null?(V.return=L,ie=V):Mb(B)}R=R.sibling}e:for(R=null,B=a;;){if(B.tag===5){if(R===null){R=B;try{p=B.stateNode,D?typeof(m=p.style).setProperty=="function"?m.setProperty("display","none","important"):m.display="none":(E=B.stateNode,w=(O=B.memoizedProps.style)!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=hm("display",w))}catch(K){ft(a,a.return,K)}}}else if(B.tag===6){if(R===null)try{B.stateNode.nodeValue=D?"":B.memoizedProps}catch(K){ft(a,a.return,K)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===a)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===a)break e;for(;B.sibling===null;){if(B.return===null||B.return===a)break e;R===B&&(R=null),B=B.return}R===B&&(R=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:tr(o,a),Sr(a),4&f&&Pb(a);case 21:}}function Sr(a){var o=a.flags;if(2&o){try{e:{for(var u=a.return;u!==null;){if(_b(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var p=f.stateNode;32&f.flags&&(Vo(p,""),f.flags&=-33),ih(a,Db(a),p);break;case 3:case 4:var m=f.stateNode.containerInfo;ah(a,Db(a),m);break;default:throw Error(n(161))}}catch(w){ft(a,a.return,w)}a.flags&=-3}4096&o&&(a.flags&=-4097)}function iE(a,o,u){ie=a,Ib(a)}function Ib(a,o,u){for(var f=!!(1&a.mode);ie!==null;){var p=ie,m=p.child;if(p.tag===22&&f){var w=p.memoizedState!==null||vc;if(!w){var E=p.alternate,O=E!==null&&E.memoizedState!==null||Wt;E=vc;var D=Wt;if(vc=w,(Wt=O)&&!D)for(ie=p;ie!==null;)O=(w=ie).child,w.tag===22&&w.memoizedState!==null?Lb(p):O!==null?(O.return=w,ie=O):Lb(p);for(;m!==null;)ie=m,Ib(m),m=m.sibling;ie=p,vc=E,Wt=D}Rb(a)}else 8772&p.subtreeFlags&&m!==null?(m.return=p,ie=m):Rb(a)}}function Rb(a){for(;ie!==null;){var o=ie;if(8772&o.flags){var u=o.alternate;try{if(8772&o.flags)switch(o.tag){case 0:case 11:case 15:Wt||wc(5,o);break;case 1:var f=o.stateNode;if(4&o.flags&&!Wt)if(u===null)f.componentDidMount();else{var p=o.elementType===o.type?u.memoizedProps:Rn(o.type,u.memoizedProps);f.componentDidUpdate(p,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var m=o.updateQueue;m!==null&&Ay(o,m,f);break;case 3:var w=o.updateQueue;if(w!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:case 1:u=o.child.stateNode}Ay(o,w,u)}break;case 5:var E=o.stateNode;if(u===null&&4&o.flags){u=E;var O=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&u.focus();break;case"img":O.src&&(u.src=O.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(o.memoizedState===null){var D=o.alternate;if(D!==null){var R=D.memoizedState;if(R!==null){var B=R.dehydrated;B!==null&&es(B)}}}break;default:throw Error(n(163))}Wt||512&o.flags&&rh(o)}catch(L){ft(o,o.return,L)}}if(o===a){ie=null;break}if((u=o.sibling)!==null){u.return=o.return,ie=u;break}ie=o.return}}function Mb(a){for(;ie!==null;){var o=ie;if(o===a){ie=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ie=u;break}ie=o.return}}function Lb(a){for(;ie!==null;){var o=ie;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{wc(4,o)}catch(O){ft(o,u,O)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var p=o.return;try{f.componentDidMount()}catch(O){ft(o,p,O)}}var m=o.return;try{rh(o)}catch(O){ft(o,m,O)}break;case 5:var w=o.return;try{rh(o)}catch(O){ft(o,w,O)}}}catch(O){ft(o,o.return,O)}if(o===a){ie=null;break}var E=o.sibling;if(E!==null){E.return=o.return,ie=E;break}ie=o.return}}var Ub,oE=Math.ceil,xc=I.ReactCurrentDispatcher,oh=I.ReactCurrentOwner,On=I.ReactCurrentBatchConfig,ze=0,Rt=null,wt=null,Lt=0,bn=0,Pi=qr(0),Ot=0,$s=null,La=0,$c=0,sh=0,Ss=null,vn=null,uh=0,Ni=1/0,Zr=null,Sc=!1,ch=null,ea=null,kc=!1,ta=null,Ec=0,ks=0,lh=null,Oc=-1,Cc=0;function Xt(){return 6&ze?mt():Oc!==-1?Oc:Oc=mt()}function na(a){return 1&a.mode?2&ze&&Lt!==0?Lt&-Lt:Gk.transition!==null?(Cc===0&&(Cc=Tm()),Cc):(a=qe)!==0?a:a=(a=window.event)===void 0?16:Lm(a.type):1}function Mn(a,o,u,f){if(50<ks)throw ks=0,lh=null,Error(n(185));Qo(a,u,f),2&ze&&a===Rt||(a===Rt&&(!(2&ze)&&($c|=u),Ot===4&&ra(a,Lt)),on(a,f),u===1&&ze===0&&!(1&o.mode)&&(Ni=mt()+500,tc&&Qr()))}function on(a,o){var u=a.callbackNode;(function(p,m){for(var w=p.suspendedLanes,E=p.pingedLanes,O=p.expirationTimes,D=p.pendingLanes;0<D;){var R=31-Pn(D),B=1<<R,L=O[R];L===-1?B&w&&!(B&E)||(O[R]=lk(B,m)):L<=m&&(p.expiredLanes|=B),D&=~B}})(a,o);var f=Ru(a,a===Rt?Lt:0);if(f===0)u!==null&&Om(u),a.callbackNode=null,a.callbackPriority=0;else if(o=f&-f,a.callbackPriority!==o){if(u!=null&&Om(u),o===1)a.tag===0?function(p){tc=!0,Sy(p)}(zb.bind(null,a)):Sy(zb.bind(null,a)),Bk(function(){!(6&ze)&&Qr()}),u=null;else{switch(_m(f)){case 1:u=Ud;break;case 4:u=Cm;break;case 16:default:u=Fd;break;case 536870912:u=jm}u=Yb(u,Fb.bind(null,a))}a.callbackPriority=o,a.callbackNode=u}}function Fb(a,o){if(Oc=-1,Cc=0,6&ze)throw Error(n(327));var u=a.callbackNode;if(Ri()&&a.callbackNode!==u)return null;var f=Ru(a,a===Rt?Lt:0);if(f===0)return null;if(30&f||f&a.expiredLanes||o)o=jc(a,f);else{o=f;var p=ze;ze|=2;var m=Vb();for(Rt===a&&Lt===o||(Zr=null,Ni=mt()+500,Fa(a,o));;)try{uE();break}catch(E){Bb(a,E)}Tf(),xc.current=m,ze=p,wt!==null?o=0:(Rt=null,Lt=0,o=Ot)}if(o!==0){if(o===2&&(p=Vd(a))!==0&&(f=p,o=dh(a,p)),o===1)throw u=$s,Fa(a,0),ra(a,f),on(a,mt()),u;if(o===6)ra(a,f);else{if(p=a.current.alternate,!(30&f||function(E){for(var O=E;;){if(16384&O.flags){var D=O.updateQueue;if(D!==null&&(D=D.stores)!==null)for(var R=0;R<D.length;R++){var B=D[R],L=B.getSnapshot;B=B.value;try{if(!Nn(L(),B))return!1}catch{return!1}}}if(D=O.child,16384&O.subtreeFlags&&D!==null)D.return=O,O=D;else{if(O===E)break;for(;O.sibling===null;){if(O.return===null||O.return===E)return!0;O=O.return}O.sibling.return=O.return,O=O.sibling}}return!0}(p)||(o=jc(a,f),o===2&&(m=Vd(a),m!==0&&(f=m,o=dh(a,m))),o!==1)))throw u=$s,Fa(a,0),ra(a,f),on(a,mt()),u;switch(a.finishedWork=p,a.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:case 5:Ii(a,vn,Zr);break;case 3:if(ra(a,f),(130023424&f)===f&&10<(o=uh+500-mt())){if(Ru(a,0)!==0)break;if(((p=a.suspendedLanes)&f)!==f){Xt(),a.pingedLanes|=a.suspendedLanes&p;break}a.timeoutHandle=yf(Ii.bind(null,a,vn,Zr),o);break}Ii(a,vn,Zr);break;case 4:if(ra(a,f),(4194240&f)===f)break;for(o=a.eventTimes,p=-1;0<f;){var w=31-Pn(f);m=1<<w,(w=o[w])>p&&(p=w),f&=~m}if(f=p,10<(f=(120>(f=mt()-f)?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*oE(f/1960))-f)){a.timeoutHandle=yf(Ii.bind(null,a,vn,Zr),f);break}Ii(a,vn,Zr);break;default:throw Error(n(329))}}}return on(a,mt()),a.callbackNode===u?Fb.bind(null,a):null}function dh(a,o){var u=Ss;return a.current.memoizedState.isDehydrated&&(Fa(a,o).flags|=256),(a=jc(a,o))!==2&&(o=vn,vn=u,o!==null&&fh(o)),a}function fh(a){vn===null?vn=a:vn.push.apply(vn,a)}function ra(a,o){for(o&=~sh,o&=~$c,a.suspendedLanes|=o,a.pingedLanes&=~o,a=a.expirationTimes;0<o;){var u=31-Pn(o),f=1<<u;a[u]=-1,o&=~f}}function zb(a){if(6&ze)throw Error(n(327));Ri();var o=Ru(a,0);if(!(1&o))return on(a,mt()),null;var u=jc(a,o);if(a.tag!==0&&u===2){var f=Vd(a);f!==0&&(o=f,u=dh(a,f))}if(u===1)throw u=$s,Fa(a,0),ra(a,o),on(a,mt()),u;if(u===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=o,Ii(a,vn,Zr),on(a,mt()),null}function hh(a,o){var u=ze;ze|=1;try{return a(o)}finally{(ze=u)===0&&(Ni=mt()+500,tc&&Qr())}}function Ua(a){ta!==null&&ta.tag===0&&!(6&ze)&&Ri();var o=ze;ze|=1;var u=On.transition,f=qe;try{if(On.transition=null,qe=1,a)return a()}finally{qe=f,On.transition=u,!(6&(ze=o))&&Qr()}}function ph(){bn=Pi.current,rt(Pi)}function Fa(a,o){a.finishedWork=null,a.finishedLanes=0;var u=a.timeoutHandle;if(u!==-1&&(a.timeoutHandle=-1,zk(u)),wt!==null)for(u=wt.return;u!==null;){var f=u;switch(kf(f),f.tag){case 1:(f=f.type.childContextTypes)!=null&&xf();break;case 3:_i(),rt(nn),rt(Bt),Uf();break;case 5:Mf(f);break;case 4:_i();break;case 13:case 19:rt(dt);break;case 10:_f(f.type._context);break;case 22:case 23:ph()}u=u.return}if(Rt=a,wt=a=aa(a.current,null),Lt=bn=o,Ot=0,$s=null,sh=$c=La=0,vn=Ss=null,Ia!==null){for(o=0;o<Ia.length;o++)if((f=(u=Ia[o]).interleaved)!==null){u.interleaved=null;var p=f.next,m=u.pending;if(m!==null){var w=m.next;m.next=p,f.next=w}u.pending=f}Ia=null}return a}function Bb(a,o){for(;;){var u=wt;try{if(Tf(),fc.current=mc,hc){for(var f=ot.memoizedState;f!==null;){var p=f.queue;p!==null&&(p.pending=null),f=f.next}hc=!1}if(Ma=0,It=Nt=ot=null,ms=!1,ys=0,oh.current=null,u===null||u.return===null){Ot=1,$s=o,wt=null;break}e:{var m=a,w=u.return,E=u,O=o;if(o=Lt,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var D=O,R=E,B=R.tag;if(!(1&R.mode||B!==0&&B!==11&&B!==15)){var L=R.alternate;L?(R.updateQueue=L.updateQueue,R.memoizedState=L.memoizedState,R.lanes=L.lanes):(R.updateQueue=null,R.memoizedState=null)}var V=db(w);if(V!==null){V.flags&=-257,fb(V,w,E,0,o),1&V.mode&&lb(m,D,o),O=D;var X=(o=V).updateQueue;if(X===null){var K=new Set;K.add(O),o.updateQueue=K}else X.add(O);break e}if(!(1&o)){lb(m,D,o),gh();break e}O=Error(n(426))}else if(at&&1&E.mode){var z=db(w);if(z!==null){!(65536&z.flags)&&(z.flags|=256),fb(z,w,E,0,o),Cf(Di(O,E));break e}}m=O=Di(O,E),Ot!==4&&(Ot=2),Ss===null?Ss=[m]:Ss.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,o&=-o,m.lanes|=o,Dy(m,ub(0,O,o));break e;case 1:E=O;var _=m.type,M=m.stateNode;if(!(128&m.flags||typeof _.getDerivedStateFromError!="function"&&(M===null||typeof M.componentDidCatch!="function"||ea!==null&&ea.has(M)))){m.flags|=65536,o&=-o,m.lanes|=o,Dy(m,cb(m,E,o));break e}}m=m.return}while(m!==null)}Hb(u)}catch(Y){o=Y,wt===u&&u!==null&&(wt=u=u.return);continue}break}}function Vb(){var a=xc.current;return xc.current=mc,a===null?mc:a}function gh(){Ot!==0&&Ot!==3&&Ot!==2||(Ot=4),Rt===null||!(268435455&La)&&!(268435455&$c)||ra(Rt,Lt)}function jc(a,o){var u=ze;ze|=2;var f=Vb();for(Rt===a&&Lt===o||(Zr=null,Fa(a,o));;)try{sE();break}catch(p){Bb(a,p)}if(Tf(),ze=u,xc.current=f,wt!==null)throw Error(n(261));return Rt=null,Lt=0,Ot}function sE(){for(;wt!==null;)Wb(wt)}function uE(){for(;wt!==null&&!ak();)Wb(wt)}function Wb(a){var o=Ub(a.alternate,a,bn);a.memoizedProps=a.pendingProps,o===null?Hb(a):wt=o,oh.current=null}function Hb(a){var o=a;do{var u=o.alternate;if(a=o.return,32768&o.flags){if((u=rE(u,o))!==null)return u.flags&=32767,void(wt=u);if(a===null)return Ot=6,void(wt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}else if((u=nE(u,o,bn))!==null)return void(wt=u);if((o=o.sibling)!==null)return void(wt=o);wt=o=a}while(o!==null);Ot===0&&(Ot=5)}function Ii(a,o,u){var f=qe,p=On.transition;try{On.transition=null,qe=1,function(m,w,E,O){do Ri();while(ta!==null);if(6&ze)throw Error(n(327));E=m.finishedWork;var D=m.finishedLanes;if(E===null)return null;if(m.finishedWork=null,m.finishedLanes=0,E===m.current)throw Error(n(177));m.callbackNode=null,m.callbackPriority=0;var R=E.lanes|E.childLanes;if(function(V,X){var K=V.pendingLanes&~X;V.pendingLanes=X,V.suspendedLanes=0,V.pingedLanes=0,V.expiredLanes&=X,V.mutableReadLanes&=X,V.entangledLanes&=X,X=V.entanglements;var z=V.eventTimes;for(V=V.expirationTimes;0<K;){var _=31-Pn(K),M=1<<_;X[_]=0,z[_]=-1,V[_]=-1,K&=~M}}(m,R),m===Rt&&(wt=Rt=null,Lt=0),!(2064&E.subtreeFlags)&&!(2064&E.flags)||kc||(kc=!0,Yb(Fd,function(){return Ri(),null})),R=!!(15990&E.flags),15990&E.subtreeFlags||R){R=On.transition,On.transition=null;var B=qe;qe=1;var L=ze;ze|=4,oh.current=null,function(V,X){if(pf=Uu,of(V=ay())){if("selectionStart"in V)var K={start:V.selectionStart,end:V.selectionEnd};else e:{var z=(K=(K=V.ownerDocument)&&K.defaultView||window).getSelection&&K.getSelection();if(z&&z.rangeCount!==0){K=z.anchorNode;var _=z.anchorOffset,M=z.focusNode;z=z.focusOffset;try{K.nodeType,M.nodeType}catch{K=null;break e}var Y=0,ne=-1,we=-1,te=0,xe=0,ye=V,pe=null;t:for(;;){for(var Be;ye!==K||_!==0&&ye.nodeType!==3||(ne=Y+_),ye!==M||z!==0&&ye.nodeType!==3||(we=Y+z),ye.nodeType===3&&(Y+=ye.nodeValue.length),(Be=ye.firstChild)!==null;)pe=ye,ye=Be;for(;;){if(ye===V)break t;if(pe===K&&++te===_&&(ne=Y),pe===M&&++xe===z&&(we=Y),(Be=ye.nextSibling)!==null)break;pe=(ye=pe).parentNode}ye=Be}K=ne===-1||we===-1?null:{start:ne,end:we}}else K=null}K=K||{start:0,end:0}}else K=null;for(gf={focusedElem:V,selectionRange:K},Uu=!1,ie=X;ie!==null;)if(V=(X=ie).child,1028&X.subtreeFlags&&V!==null)V.return=X,ie=V;else for(;ie!==null;){X=ie;try{var Mi=X.alternate;if(1024&X.flags)switch(X.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Mi!==null){var ev=Mi.memoizedProps,mE=Mi.memoizedState,tv=X.stateNode,yE=tv.getSnapshotBeforeUpdate(X.elementType===X.type?ev:Rn(X.type,ev),mE);tv.__reactInternalSnapshotBeforeUpdate=yE}break;case 3:var Li=X.stateNode.containerInfo;Li.nodeType===1?Li.textContent="":Li.nodeType===9&&Li.documentElement&&Li.removeChild(Li.documentElement);break;default:throw Error(n(163))}}catch(bE){ft(X,X.return,bE)}if((V=X.sibling)!==null){V.return=X.return,ie=V;break}ie=X.return}Mi=jb,jb=!1}(m,E),Nb(E,m),Rk(gf),Uu=!!pf,gf=pf=null,m.current=E,iE(E),ik(),ze=L,qe=B,On.transition=R}else m.current=E;if(kc&&(kc=!1,ta=m,Ec=D),(R=m.pendingLanes)===0&&(ea=null),function(V){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(Iu,V,void 0,!(128&~V.current.flags))}catch{}}(E.stateNode),on(m,mt()),w!==null)for(O=m.onRecoverableError,E=0;E<w.length;E++)O((D=w[E]).value,{componentStack:D.stack,digest:D.digest});if(Sc)throw Sc=!1,m=ch,ch=null,m;1&Ec&&m.tag!==0&&Ri(),1&(R=m.pendingLanes)?m===lh?ks++:(ks=0,lh=m):ks=0,Qr()}(a,o,u,f)}finally{On.transition=p,qe=f}return null}function Ri(){if(ta!==null){var a=_m(Ec),o=On.transition,u=qe;try{if(On.transition=null,qe=16>a?16:a,ta===null)var f=!1;else{if(a=ta,ta=null,Ec=0,6&ze)throw Error(n(331));var p=ze;for(ze|=4,ie=a.current;ie!==null;){var m=ie,w=m.child;if(16&ie.flags){var E=m.deletions;if(E!==null){for(var O=0;O<E.length;O++){var D=E[O];for(ie=D;ie!==null;){var R=ie;switch(R.tag){case 0:case 11:case 15:xs(8,R,m)}var B=R.child;if(B!==null)B.return=R,ie=B;else for(;ie!==null;){var L=(R=ie).sibling,V=R.return;if(Tb(R),R===D){ie=null;break}if(L!==null){L.return=V,ie=L;break}ie=V}}}var X=m.alternate;if(X!==null){var K=X.child;if(K!==null){X.child=null;do{var z=K.sibling;K.sibling=null,K=z}while(K!==null)}}ie=m}}if(2064&m.subtreeFlags&&w!==null)w.return=m,ie=w;else e:for(;ie!==null;){if(2048&(m=ie).flags)switch(m.tag){case 0:case 11:case 15:xs(9,m,m.return)}var _=m.sibling;if(_!==null){_.return=m.return,ie=_;break e}ie=m.return}}var M=a.current;for(ie=M;ie!==null;){var Y=(w=ie).child;if(2064&w.subtreeFlags&&Y!==null)Y.return=w,ie=Y;else e:for(w=M;ie!==null;){if(2048&(E=ie).flags)try{switch(E.tag){case 0:case 11:case 15:wc(9,E)}}catch(we){ft(E,E.return,we)}if(E===w){ie=null;break e}var ne=E.sibling;if(ne!==null){ne.return=E.return,ie=ne;break e}ie=E.return}}if(ze=p,Qr(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(Iu,a)}catch{}f=!0}return f}finally{qe=u,On.transition=o}}return!1}function Gb(a,o,u){a=Kr(a,o=ub(0,o=Di(u,o),1),1),o=Xt(),a!==null&&(Qo(a,1,o),on(a,o))}function ft(a,o,u){if(a.tag===3)Gb(a,a,u);else for(;o!==null;){if(o.tag===3){Gb(o,a,u);break}if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ea===null||!ea.has(f))){o=Kr(o,a=cb(o,a=Di(u,a),1),1),a=Xt(),o!==null&&(Qo(o,1,a),on(o,a));break}}o=o.return}}function cE(a,o,u){var f=a.pingCache;f!==null&&f.delete(o),o=Xt(),a.pingedLanes|=a.suspendedLanes&u,Rt===a&&(Lt&u)===u&&(Ot===4||Ot===3&&(130023424&Lt)===Lt&&500>mt()-uh?Fa(a,0):sh|=u),on(a,o)}function qb(a,o){o===0&&(1&a.mode?(o=Bd,!(130023424&(Bd<<=1))&&(Bd=4194304)):o=1);var u=Xt();(a=wr(a,o))!==null&&(Qo(a,o,u),on(a,u))}function lE(a){var o=a.memoizedState,u=0;o!==null&&(u=o.retryLane),qb(a,u)}function dE(a,o){var u=0;switch(a.tag){case 13:var f=a.stateNode,p=a.memoizedState;p!==null&&(u=p.retryLane);break;case 19:f=a.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),qb(a,u)}function Yb(a,o){return Em(a,o)}function fE(a,o,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(a,o,u,f){return new fE(a,o,u,f)}function mh(a){return!(!(a=a.prototype)||!a.isReactComponent)}function aa(a,o){var u=a.alternate;return u===null?((u=Cn(a.tag,o,a.key,a.mode)).elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=o,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=14680064&a.flags,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,o=a.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u}function Tc(a,o,u,f,p,m){var w=2;if(f=a,typeof a=="function")mh(a)&&(w=1);else if(typeof a=="string")w=5;else e:switch(a){case T:return za(u.children,p,m,o);case A:w=8,p|=8;break;case F:return(a=Cn(12,u,o,2|p)).elementType=F,a.lanes=m,a;case q:return(a=Cn(13,u,o,p)).elementType=q,a.lanes=m,a;case Z:return(a=Cn(19,u,o,p)).elementType=Z,a.lanes=m,a;case Te:return _c(u,p,m,o);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case $:w=10;break e;case k:w=9;break e;case j:w=11;break e;case ue:w=14;break e;case fe:w=16,f=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return(o=Cn(w,u,o,p)).elementType=a,o.type=f,o.lanes=m,o}function za(a,o,u,f){return(a=Cn(7,a,f,o)).lanes=u,a}function _c(a,o,u,f){return(a=Cn(22,a,f,o)).elementType=Te,a.lanes=u,a.stateNode={isHidden:!1},a}function yh(a,o,u){return(a=Cn(6,a,null,o)).lanes=u,a}function bh(a,o,u){return(o=Cn(4,a.children!==null?a.children:[],a.key,o)).lanes=u,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}function hE(a,o,u,f,p){this.tag=o,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wd(0),this.expirationTimes=Wd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wd(0),this.identifierPrefix=f,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function vh(a,o,u,f,p,m,w,E,O){return a=new hE(a,o,u,E,O),o===1?(o=1,m===!0&&(o|=8)):o=0,m=Cn(3,null,null,o),a.current=m,m.stateNode=a,m.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pf(m),a}function Qb(a){if(!a)return Yr;e:{if(Ta(a=a._reactInternals)!==a||a.tag!==1)throw Error(n(170));var o=a;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(gn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(a.tag===1){var u=a.type;if(gn(u))return xy(a,u,o)}return o}function Xb(a,o,u,f,p,m,w,E,O){return(a=vh(u,f,!0,a,0,m,0,E,O)).context=Qb(null),u=a.current,(m=xr(f=Xt(),p=na(u))).callback=o??null,Kr(u,m,p),a.current.lanes=p,Qo(a,p,f),on(a,f),a}function Dc(a,o,u,f){var p=o.current,m=Xt(),w=na(p);return u=Qb(u),o.context===null?o.context=u:o.pendingContext=u,(o=xr(m,w)).payload={element:a},(f=f===void 0?null:f)!==null&&(o.callback=f),(a=Kr(p,o,w))!==null&&(Mn(a,p,w,m),sc(a,p,w)),w}function Ac(a){return(a=a.current).child?(a.child.tag,a.child.stateNode):null}function Kb(a,o){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<o?u:o}}function wh(a,o){Kb(a,o),(a=a.alternate)&&Kb(a,o)}Ub=function(a,o,u){if(a!==null)if(a.memoizedProps!==o.pendingProps||nn.current)rn=!0;else{if(!(a.lanes&u||128&o.flags))return rn=!1,function(B,L,V){switch(L.tag){case 3:vb(L),Oi();break;case 5:Fy(L);break;case 1:gn(L.type)&&ec(L);break;case 4:Rf(L,L.stateNode.containerInfo);break;case 10:var X=L.type._context,K=L.memoizedProps.value;et(ic,X._currentValue),X._currentValue=K;break;case 13:if((X=L.memoizedState)!==null)return X.dehydrated!==null?(et(dt,1&dt.current),L.flags|=128,null):V&L.child.childLanes?kb(B,L,V):(et(dt,1&dt.current),(B=$r(B,L,V))!==null?B.sibling:null);et(dt,1&dt.current);break;case 19:if(X=!!(V&L.childLanes),128&B.flags){if(X)return Ob(B,L,V);L.flags|=128}if((K=L.memoizedState)!==null&&(K.rendering=null,K.tail=null,K.lastEffect=null),et(dt,dt.current),X)break;return null;case 22:case 23:return L.lanes=0,mb(B,L,V)}return $r(B,L,V)}(a,o,u);rn=!!(131072&a.flags)}else rn=!1,at&&1048576&o.flags&&ky(o,rc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;bc(a,o),a=o.pendingProps;var p=Si(o,Bt.current);ji(o,u),p=Bf(null,o,f,a,p,u);var m=Vf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,gn(f)?(m=!0,ec(o)):m=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Pf(o),p.updater=cc,o.stateNode=p,p._reactInternals=o,If(o,f,a,u),o=Kf(null,o,f,!0,m,u)):(o.tag=0,at&&m&&Sf(o),an(null,o,p,u),o=o.child),o;case 16:f=o.elementType;e:{switch(bc(a,o),a=o.pendingProps,f=(p=f._init)(f._payload),o.type=f,p=o.tag=function(B){if(typeof B=="function")return mh(B)?1:0;if(B!=null){if((B=B.$$typeof)===j)return 11;if(B===ue)return 14}return 2}(f),a=Rn(f,a),p){case 0:o=Xf(null,o,f,a,u);break e;case 1:o=bb(null,o,f,a,u);break e;case 11:o=hb(null,o,f,a,u);break e;case 14:o=pb(null,o,f,Rn(f.type,a),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,p=o.pendingProps,Xf(a,o,f,p=o.elementType===f?p:Rn(f,p),u);case 1:return f=o.type,p=o.pendingProps,bb(a,o,f,p=o.elementType===f?p:Rn(f,p),u);case 3:e:{if(vb(o),a===null)throw Error(n(387));f=o.pendingProps,p=(m=o.memoizedState).element,_y(a,o),uc(o,f,null,u);var w=o.memoizedState;if(f=w.element,m.isDehydrated){if(m={element:f,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=m,o.memoizedState=m,256&o.flags){o=wb(a,o,f,u,p=Di(Error(n(423)),o));break e}if(f!==p){o=wb(a,o,f,u,p=Di(Error(n(424)),o));break e}for(yn=Gr(o.stateNode.containerInfo.firstChild),mn=o,at=!0,In=null,u=Uy(o,null,f,u),o.child=u;u;)u.flags=-3&u.flags|4096,u=u.sibling}else{if(Oi(),f===p){o=$r(a,o,u);break e}an(a,o,f,u)}o=o.child}return o;case 5:return Fy(o),a===null&&Of(o),f=o.type,p=o.pendingProps,m=a!==null?a.memoizedProps:null,w=p.children,mf(f,p)?w=null:m!==null&&mf(f,m)&&(o.flags|=32),yb(a,o),an(a,o,w,u),o.child;case 6:return a===null&&Of(o),null;case 13:return kb(a,o,u);case 4:return Rf(o,o.stateNode.containerInfo),f=o.pendingProps,a===null?o.child=Ti(o,null,f,u):an(a,o,f,u),o.child;case 11:return f=o.type,p=o.pendingProps,hb(a,o,f,p=o.elementType===f?p:Rn(f,p),u);case 7:return an(a,o,o.pendingProps,u),o.child;case 8:case 12:return an(a,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,p=o.pendingProps,m=o.memoizedProps,w=p.value,et(ic,f._currentValue),f._currentValue=w,m!==null)if(Nn(m.value,w)){if(m.children===p.children&&!nn.current){o=$r(a,o,u);break e}}else for((m=o.child)!==null&&(m.return=o);m!==null;){var E=m.dependencies;if(E!==null){w=m.child;for(var O=E.firstContext;O!==null;){if(O.context===f){if(m.tag===1){(O=xr(-1,u&-u)).tag=2;var D=m.updateQueue;if(D!==null){var R=(D=D.shared).pending;R===null?O.next=O:(O.next=R.next,R.next=O),D.pending=O}}m.lanes|=u,(O=m.alternate)!==null&&(O.lanes|=u),Df(m.return,u,o),E.lanes|=u;break}O=O.next}}else if(m.tag===10)w=m.type===o.type?null:m.child;else if(m.tag===18){if((w=m.return)===null)throw Error(n(341));w.lanes|=u,(E=w.alternate)!==null&&(E.lanes|=u),Df(w,u,o),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===o){w=null;break}if((m=w.sibling)!==null){m.return=w.return,w=m;break}w=w.return}m=w}an(a,o,p.children,u),o=o.child}return o;case 9:return p=o.type,f=o.pendingProps.children,ji(o,u),f=f(p=kn(p)),o.flags|=1,an(a,o,f,u),o.child;case 14:return p=Rn(f=o.type,o.pendingProps),pb(a,o,f,p=Rn(f.type,p),u);case 15:return gb(a,o,o.type,o.pendingProps,u);case 17:return f=o.type,p=o.pendingProps,p=o.elementType===f?p:Rn(f,p),bc(a,o),o.tag=1,gn(f)?(a=!0,ec(o)):a=!1,ji(o,u),Iy(o,f,p),If(o,f,p,u),Kf(null,o,f,!0,a,u);case 19:return Ob(a,o,u);case 22:return mb(a,o,u)}throw Error(n(156,o.tag))};var Jb=typeof reportError=="function"?reportError:function(a){console.error(a)};function xh(a){this._internalRoot=a}function Pc(a){this._internalRoot=a}function $h(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Nc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Zb(){}function Ic(a,o,u,f,p){var m=u._reactRootContainer;if(m){var w=m;if(typeof p=="function"){var E=p;p=function(){var O=Ac(w);E.call(O)}}Dc(o,w,a,p)}else w=function(O,D,R,B,L){if(L){if(typeof B=="function"){var V=B;B=function(){var _=Ac(X);V.call(_)}}var X=Xb(D,B,O,0,null,!1,0,"",Zb);return O._reactRootContainer=X,O[yr]=X.current,us(O.nodeType===8?O.parentNode:O),Ua(),X}for(;L=O.lastChild;)O.removeChild(L);if(typeof B=="function"){var K=B;B=function(){var _=Ac(z);K.call(_)}}var z=vh(O,0,!1,null,0,!1,0,"",Zb);return O._reactRootContainer=z,O[yr]=z.current,us(O.nodeType===8?O.parentNode:O),Ua(function(){Dc(D,z,R,B)}),z}(u,o,a,p,f);return Ac(w)}Pc.prototype.render=xh.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(n(409));Dc(a,o,null,null)},Pc.prototype.unmount=xh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;Ua(function(){Dc(null,a,null,null)}),o[yr]=null}},Pc.prototype.unstable_scheduleHydration=function(a){if(a){var o=Pm();a={blockedOn:null,target:a,priority:o};for(var u=0;u<Wr.length&&o!==0&&o<Wr[u].priority;u++);Wr.splice(u,0,a),u===0&&Rm(a)}},Dm=function(a){switch(a.tag){case 3:var o=a.stateNode;if(o.current.memoizedState.isDehydrated){var u=Yo(o.pendingLanes);u!==0&&(Hd(o,1|u),on(o,mt()),!(6&ze)&&(Ni=mt()+500,Qr()))}break;case 13:Ua(function(){var f=wr(a,1);if(f!==null){var p=Xt();Mn(f,a,1,p)}}),wh(a,1)}},Gd=function(a){if(a.tag===13){var o=wr(a,134217728);o!==null&&Mn(o,a,134217728,Xt()),wh(a,134217728)}},Am=function(a){if(a.tag===13){var o=na(a),u=wr(a,o);u!==null&&Mn(u,a,o,Xt()),wh(a,o)}},Pm=function(){return qe},Nm=function(a,o){var u=qe;try{return qe=a,o()}finally{qe=u}},Id=function(a,o,u){switch(o){case"input":if(Yn(a,u),o=u.name,u.type==="radio"&&o!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==a&&f.form===a.form){var p=Zu(f);if(!p)throw Error(n(90));se(f),Yn(f,p)}}}break;case"textarea":cm(a,u);break;case"select":(o=u.value)!=null&&di(a,!!u.multiple,o,!1)}},bm=hh,vm=Ua;var pE={usingClientEntryPoint:!1,Events:[ds,xi,Zu,mm,ym,hh]},Es={findFiberByHostInstance:Da,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},gE={bundleType:Es.bundleType,version:Es.version,rendererPackageName:Es.rendererPackageName,rendererConfig:Es.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return(a=Sm(a))===null?null:a.stateNode},findFiberByHostInstance:Es.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Iu=Rc.inject(gE),Qn=Rc}catch{}}return dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pE,dn.createPortal=function(a,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$h(o))throw Error(n(200));return function(f,p,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:w==null?null:""+w,children:f,containerInfo:p,implementation:m}}(a,o,null,u)},dn.createRoot=function(a,o){if(!$h(a))throw Error(n(299));var u=!1,f="",p=Jb;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=vh(a,1,!1,null,0,u,0,f,p),a[yr]=o.current,us(a.nodeType===8?a.parentNode:a),new xh(o)},dn.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return(a=Sm(o))===null?null:a.stateNode},dn.flushSync=function(a){return Ua(a)},dn.hydrate=function(a,o,u){if(!Nc(o))throw Error(n(200));return Ic(null,a,o,!0,u)},dn.hydrateRoot=function(a,o,u){if(!$h(a))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,p=!1,m="",w=Jb;if(u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onRecoverableError!==void 0&&(w=u.onRecoverableError)),o=Xb(o,null,a,1,u??null,p,0,m,w),a[yr]=o.current,us(a),f)for(a=0;a<f.length;a++)p=(p=(u=f[a])._getVersion)(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,p]:o.mutableSourceEagerHydrationData.push(u,p);return new Pc(o)},dn.render=function(a,o,u){if(!Nc(o))throw Error(n(200));return Ic(null,a,o,!1,u)},dn.unmountComponentAtNode=function(a){if(!Nc(a))throw Error(n(40));return!!a._reactRootContainer&&(Ua(function(){Ic(null,null,a,!1,function(){a._reactRootContainer=null,a[yr]=null})}),!0)},dn.unstable_batchedUpdates=hh,dn.unstable_renderSubtreeIntoContainer=function(a,o,u,f){if(!Nc(u))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Ic(a,o,u,!1,f)},dn.version="18.2.0-next-9e3b772b8-20220608",dn}();var Zi=gw.exports,ll={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO=W,IO=Symbol.for("react.element"),RO=Symbol.for("react.fragment"),MO=Object.prototype.hasOwnProperty,LO=NO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UO={key:!0,ref:!0,__self:!0,__source:!0};function bw(t,e,n){var r,i={},s=null,c=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)MO.call(e,r)&&!UO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IO,type:t,key:s,ref:c,props:i,_owner:LO.current}}ll.Fragment=RO,ll.jsx=bw,ll.jsxs=bw;var G=ll;const FO=["trace","debug","info","warn","error","critical"],Ut={Auth:"Auth",AppCenter:"AppCenter",Client:"Client",OTA:"OTA",SelectiveSync:"SelectiveSync",Nanoflow:"Nanoflow",NanoflowDebugger:"NanoflowDebugger",Database:"Database",FileSystem:"FileSystem",Navigation:"Navigation",Network:"Network",Startup:"Startup",Synchronization:"Synchronization"};let _t=class Au{constructor(){this.logHandlers=[],this.loggers=new Map,this.delayedLogs=[],this.processLog=(e,n,...r)=>{this.shouldProcessLog(e,n,...r)&&this.logHandlers.forEach(i=>i(e,n,...r))},this.processLogDebounced=(e,n,...r)=>{this.shouldProcessLog(e,n,...r)&&(this.delayTimer&&clearTimeout(this.delayTimer),this.delayedLogs.push({level:e,node:n,args:r}),this.delayTimer=setTimeout(()=>{this.delayedLogs.forEach(i=>{this.logHandlers.forEach(s=>s(i.level,i.node,...i.args))}),this.delayedLogs=[]},500))}}addHandler(e){this.logHandlers.push(e)}removeHandler(e){const n=this.logHandlers.indexOf(e);n!==-1&&this.logHandlers.splice(n,1)}getLogFilter(){return this.filter}setLogFilter(e){this.filter=e}getLogger(e=Ut.Client){if(!this.loggers.has(e)){if(!Object.prototype.hasOwnProperty.call(Ut,e)){const i=this.getLogger();return i.warn(`Invalid log node requested: "${e}". Returning a logger with default node instead.`),i}const n=i=>Object.assign({},...FO.map(s=>({[s]:(...c)=>{i(s==="warn"?"warning":s,e,...c)}})),{log:(s,...c)=>{i(s,e,...c)}}),r={...n(this.processLog),debounced:n(this.processLogDebounced)};this.loggers.set(e,r)}return this.loggers.get(e)}shouldProcessLog(e,n,...r){return this.filter===void 0||this.filter(e,n,...r)}static get(){return Au.instance||(Au.instance=new Au),Au.instance}};function zO(){if(typeof window.addEventListener=="function"){const t=_t.get().getLogger();window.addEventListener("error",e=>t.error(e.error??e.message)),window.addEventListener("unhandledrejection",e=>t.error(e.reason))}}function BO(){_t.get().addHandler(function(){const t={};return["debug","info","log","warn","error"].forEach(e=>{t[e]=console[e];const n=function(r){switch(r){case"warn":return"warning";case"log":return"debug";default:return r}}(e);console[e]=(...r)=>_t.get().getLogger().log(n,...r)}),(e,n,...r)=>{const i=function(d){switch(d){case"trace":return"debug";case"critical":return"error";case"warning":return"warn";default:return d}}(e);if(i===void 0)return;const[s,...c]=r,l=typeof s=="string"?[`[${n}] ${s}`,...c]:[`[${n}]`,...r];t[i].call(console,...l)}}())}const VO=(t,e,...n)=>!n.some(r=>typeof r=="string"&&r.includes("setstate-in-render"));var ga=Os(function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(s=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!=0;){var c=s[i];if(!t(e[c],n[c]))return!1}return!0}return e!=e&&n!=n});let vw;function WO(t){vw=t}function Dt(t){vw(t)}const HO={status:"loading"};function Vn(){return HO}const GO={status:"unavailable"};function Ht(){return GO}function Xe(t){return{status:"available",value:t}}function Zh(t,e){return t.status==="available"?t.value:e}function ww(t){return t.status==="available"?t.value:Ct()}function sr(t,e){return eo(t,n=>Xe(e(n)))}function eo(t,e){return t.status==="available"?e(t.value):t}const xw=Symbol("mobxComputed");function qO(t,e,n){let r;const i=[],s=Sw(e),c=ca(t,()=>{r=cl({tag:t,...n,priority:s,callback:()=>new Promise(d=>{r?(i.push(d),c.reportChanged()):d()})})},()=>{H(r).unsubscribe(),r=void 0,l()}),l=()=>{i.splice(0).forEach(d=>d())};return[ur(t,()=>c.reportObserved()),l]}function YO(t,e){let n;const r=ca(t,()=>{n=setInterval(()=>r.reportChanged(),e)},()=>{clearInterval(H(n)),n=void 0});return ur(t,()=>r.reportObserved())}function dl(t){return ur(`Constant value ${t}`,()=>t)}function zs(t,e){const n=Yi(()=>(ap(),e()),{name:t});let r,i;return Se(`Handle response of ${Ln(t)}`,()=>{const s=n.get();if("status"in s)return r=void 0,i=void 0,s;if(s===r)return H(i).get();const c=Array.isArray(s)?s[0]:Vn(),l=Tt.box(c,{deep:!1});return(Array.isArray(s)?s[1]:s).then(ln(d=>l.set(d)),ln(d=>{Dt(d),l.set(Ht())})),r=s,i=l,i.get()})}function Se(t,e){const n=Yi(e,{name:t});return ur(t,()=>n.get(),n)}function QO(t,e){const n=Yi(e,{name:t,equals:ga});return ur(t,()=>n.get(),n)}function $w(t,e){const n=Tt.box(e,{deep:!1,name:`Box for ${t}`});return[ur(t,()=>n.get()),r=>n.set(r)]}function ep(t){let e;return ur(`Previous value of ${Ln(t.name)}`,()=>{const n=e;return e=t.dependOn(),n})}function XO(t,e){const n=Yi(e,{name:t});return{...ur(t,()=>n.get(),n),muted:function(r){if(n.dependenciesState!==Ce.UP_TO_DATE)r();else{const i=n.get.bind(n);n.onBecomeStale=()=>{n.get=()=>{n.dependenciesState=Ce.STALE;try{return i()}finally{n.dependenciesState=Ce.UP_TO_DATE,delete n.get}},rp(()=>n.observing.forEach(s=>{s.get&&s.get(),s.lowestObserverState=Ce.UP_TO_DATE}))};try{r()}finally{delete n.onBecomeStale,n.dependenciesState=Ce.UP_TO_DATE}}}}}function tp(t,e,n,r,i){kw();const s=Yi(()=>e.dependOn(),{name:`Computation for ${Ln(t)}`});let c;const l=ca(t,()=>{i&&fa(i),n&&(c=s.observe(ln(({newValue:d,oldValue:h})=>n(d,h)),!0))},()=>{c&&c(),r&&fa(r)});return ur(t,()=>(l.reportObserved(),s.get()),s)}function KO(t,e,n=!1){const r=Ms(()=>t.dependOn(),i=>e(i,r),{fireImmediately:n});return r}function Wn(t,e){ap();const n=Nv().trackingDerivation;if(!n)throw new U;const r=n.__subscriptionHandlers??(n.__subscriptionHandlers=new Map),i=JSON.stringify(t);let s=r.get(i);const c=Sw(e);if(s)s.priority!==c&&Ct();else{const l=Tt.box(jn(void 0),{deep:!1,name:`Store for validation subscription ${i}`});let d,h;h=ca(i,"val"in t?()=>{d=cl({...t,priority:c,callback:g=>(l.set([g]),new Promise(y=>e.addUpdateCallback(y))),sync:!0})}:()=>{d=cl({...t,priority:c,callback:()=>(l.set([void 0]),new Promise(g=>e.addUpdateCallback(g))),sync:!0})},()=>{H(d).unsubscribe(),d=void 0}),s={name:i,atom:h,box:l,priority:c},r.set(i,s)}return s.atom.reportObserved(),s.box.get()}function Sw(t){return t.getSubscriptionPriority()}function np(t,e,n){const r=ca(t,n,e);return jn(ur(t,()=>{r.reportObserved(),r.isBeingObserved||(n?.(),e?.())}),()=>r.reportChanged())}function Tn(t){const e=fl;fl=!0;try{const n=t[xw];return n&&n.dependenciesState!==Ce.NOT_TRACKING?n.value:Hh(()=>t.dependOn())}finally{fl=e}}function rp(t){new Rs(`Run side effect ${t.name}`,t).schedule()}function ur(t,e,n){return kw(),{name:t,dependOn:()=>(ap(),e()),...n?{[xw]:n}:{}}}function Bs(t){return t!=null&&typeof t=="object"&&"dependOn"in t}function kw(){if(Ew())throw new U}let fl=!1;function ap(){if(!Ew()&&!fl)throw new U}function Ew(){return Nv().trackingDerivation!=null}function JO(t){Ts(t);const[e,n]=W.useState(()=>Tn(t));return W.useEffect(()=>Ms(()=>t.dependOn(),n,{name:`Copy '${t.name}' to state`,fireImmediately:!1}),[]),e}const ZO=Array(3).fill(null).map(()=>Math.floor(20*Math.random())).map(t=>"abcdefghijklmnopqrst"[t]).join("");let eC=0;function Hn(t="id"){return`${t}_${ZO}_${eC++}`}var tC=20,nC=1,Qa=1e6,Ow=1e6,rC=-7,aC=21,iC=!1,Vs="[big.js] ",Xa=Vs+"Invalid ",hl=Xa+"decimal places",oC=Xa+"rounding mode",Cw=Vs+"Division by zero",Je={},cr=void 0,sC=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function jw(){function t(e){var n=this;if(!(n instanceof t))return e===cr?jw():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0)throw TypeError(Xa+"number");e=e===0&&1/e<0?"-0":String(e)}uC(n,e)}n.constructor=t}return t.prototype=Je,t.DP=tC,t.RM=nC,t.NE=rC,t.PE=aC,t.strict=iC,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function uC(t,e){var n,r,i;if(!sC.test(e))throw Error(Xa+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function Ka(t,e,n,r){var i=t.c;if(n===cr&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(oC);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==cr))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==cr||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e--,r)for(;++i[e]>9;)i[e]=0,e--||(++t.e,i.unshift(1));for(e=i.length;!i[--e];)i.pop()}return t}function to(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}Je.abs=function(){var t=new this.constructor(this);return t.s=1,t},Je.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,c=t.s,l=n.e,d=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-c:0;if(s!=c)return s;if(e=s<0,l!=d)return l>d^e?1:-1;for(c=(l=r.length)<(d=i.length)?l:d,s=-1;++s<c;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return l==d?0:l>d^e?1:-1},Je.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,c=n.DP;if(c!==~~c||c<0||c>Qa)throw Error(hl);if(!i[0])throw Error(Cw);if(!r[0])return t.s=s,t.c=[t.e=0],t;var l,d,h,g,y,v=i.slice(),b=l=i.length,x=r.length,S=r.slice(0,l),C=S.length,I=t,P=I.c=[],N=0,T=c+(I.e=e.e-t.e)+1;for(I.s=s,s=T<0?0:T,v.unshift(0);C++<l;)S.push(0);do{for(h=0;h<10;h++){if(l!=(C=S.length))g=l>C?1:-1;else for(y=-1,g=0;++y<l;)if(i[y]!=S[y]){g=i[y]>S[y]?1:-1;break}if(g<0){for(d=C==l?i:v;C;){if(S[--C]<d[C]){for(y=C;y&&!S[--y];)S[y]=9;--S[y],S[C]+=10}S[C]-=d[C]}for(;!S[0];)S.shift()}else break}P[N++]=g?h:++h,S[0]&&g?S[C]=r[b]||0:S=[r[b]]}while((b++<x||S[0]!==cr)&&s--);return!P[0]&&N!=1&&(P.shift(),I.e--,T--),N>T&&Ka(I,T,n.RM,S[0]!==cr),I},Je.eq=function(t){return this.cmp(t)===0},Je.gt=function(t){return this.cmp(t)>0},Je.gte=function(t){return this.cmp(t)>-1},Je.lt=function(t){return this.cmp(t)<0},Je.lte=function(t){return this.cmp(t)<1},Je.minus=Je.sub=function(t){var e,n,r,i,s=this,c=s.constructor,l=s.s,d=(t=new c(t)).s;if(l!=d)return t.s=-d,s.plus(t);var h=s.c.slice(),g=s.e,y=t.c,v=t.e;if(!h[0]||!y[0])return y[0]?t.s=-d:h[0]?t=new c(s):t.s=1,t;if(l=g-v){for((i=l<0)?(l=-l,r=h):(v=g,r=y),r.reverse(),d=l;d--;)r.push(0);r.reverse()}else for(n=((i=h.length<y.length)?h:y).length,l=d=0;d<n;d++)if(h[d]!=y[d]){i=h[d]<y[d];break}if(i&&(r=h,h=y,y=r,t.s=-t.s),(d=(n=y.length)-(e=h.length))>0)for(;d--;)h[e++]=0;for(d=e;n>l;){if(h[--n]<y[n]){for(e=n;e&&!h[--e];)h[e]=9;--h[e],h[n]+=10}h[n]-=y[n]}for(;h[--d]===0;)h.pop();for(;h[0]===0;)h.shift(),--v;return h[0]||(t.s=1,h=[v=0]),t.c=h,t.e=v,t},Je.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(Cw);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))},Je.plus=Je.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var c=i.e,l=i.c,d=t.e,h=t.c;if(!l[0]||!h[0])return h[0]||(l[0]?t=new s(i):t.s=i.s),t;if(l=l.slice(),e=c-d){for(e>0?(d=c,r=h):(e=-e,r=l),r.reverse();e--;)r.push(0);r.reverse()}for(l.length-h.length<0&&(r=h,h=l,l=r),e=h.length,n=0;e;l[e]%=10)n=(l[--e]=l[e]+h[e]+n)/10|0;for(n&&(l.unshift(n),++d),e=l.length;l[--e]===0;)l.pop();return t.c=l,t.e=d,t},Je.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-Ow||t>Ow)throw Error(Xa+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r},Je.prec=function(t,e){if(t!==~~t||t<1||t>Qa)throw Error(Xa+"precision");return Ka(new this.constructor(this),t,e)},Je.round=function(t,e){if(t===cr)t=0;else if(t!==~~t||t<-Qa||t>Qa)throw Error(hl);return Ka(new this.constructor(this),t+this.e+1,e)},Je.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,c=r.e,l=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Vs+"No square root");s=Math.sqrt(r+""),s===0||s===1/0?(e=r.c.join(""),e.length+c&1||(e+="0"),s=Math.sqrt(e),c=((c+1)/2|0)-(c<0||c&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+c)):t=new i(s+""),c=t.e+(i.DP+=4);do n=t,t=l.times(n.plus(r.div(n)));while(n.c.slice(0,c).join("")!==t.c.slice(0,c).join(""));return Ka(t,(i.DP-=4)+t.e+1,i.RM)},Je.times=Je.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,c=i.length,l=s.length,d=n.e,h=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=d+h,c<l&&(e=i,i=s,s=e,h=c,c=l,l=h),e=new Array(h=c+l);h--;)e[h]=0;for(d=l;d--;){for(l=0,h=c+d;h>d;)l=e[h]+s[d]*i[h-d-1]+l,e[h--]=l%10,l=l/10|0;e[h]=l}for(l?++t.e:e.shift(),d=e.length;!e[--d];)e.pop();return t.c=e,t},Je.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==cr){if(t!==~~t||t<0||t>Qa)throw Error(hl);for(n=Ka(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return to(n,!0,!!r)},Je.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==cr){if(t!==~~t||t<0||t>Qa)throw Error(hl);for(n=Ka(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return to(n,!1,!!r)},Je.toJSON=Je.toString=function(){var t=this,e=t.constructor;return to(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])},Je.toNumber=function(){var t=Number(to(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Vs+"Imprecise conversion");return t},Je.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==cr){if(t!==~~t||t<1||t>Qa)throw Error(Xa+"precision");for(n=Ka(new r(n),t,e);n.c.length<t;)n.c.push(0)}return to(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)},Je.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Vs+"valueOf disallowed");return to(t,t.e<=e.NE||t.e>=e.PE,!0)};var ee=jw();function jr(t){return function(e,n){var r;if((n!=null&&n.context?String(n.context):"standalone")==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,s=n!=null&&n.width?String(n.width):i;r=t.formattingValues[s]||t.formattingValues[i]}else{var c=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;r=t.values[l]||t.values[c]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function Tr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;var c,l=s[0],d=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],h=Array.isArray(d)?function(g,y){for(var v=0;v<g.length;v++)if(y(g[v]))return v}(d,function(g){return g.test(l)}):function(g,y){for(var v in g)if(g.hasOwnProperty(v)&&y(g[v]))return v}(d,function(g){return g.test(l)});return c=t.valueCallback?t.valueCallback(h):h,{value:c=n.valueCallback?n.valueCallback(c):c,rest:e.slice(l.length)}}}function ip(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var Ws,cC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},lC={date:ip({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ip({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ip({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},dC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hs={code:"en-US",formatDistance:function(t,e,n){var r,i=cC[t];return r=typeof i=="string"?i:e===1?i.one:i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:lC,formatRelative:function(t,e,n,r){return dC[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:jr({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:jr({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:jr({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:jr({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:jr({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Ws={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(Ws.matchPattern);if(!n)return null;var r=n[0],i=t.match(Ws.parsePattern);if(!i)return null;var s=Ws.valueCallback?Ws.valueCallback(i[0]):i[0];return{value:s=e.valueCallback?e.valueCallback(s):s,rest:t.slice(r.length)}}),era:Tr({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Tr({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Tr({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Tr({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Tr({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function _r(t){return new RegExp(`^(${t.map(Tw).join("|")})`,"i")}function lr(t){return t.map(e=>new RegExp(`^${Tw(e)}`,"i"))}function Tw(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}let pl,op;function fC(t,e){const n=t.code.toLowerCase().replace("_","-");pl={...t,code:n},op=function({dates:r,firstDayOfWeek:i,minimalDaysInFirstWeek:s}){const c={wide:r.eras},l={narrow:r.months,abbreviated:r.abbreviatedMonths,wide:r.months},d={narrow:r.shortMonths,abbreviated:r.abbreviatedShortMonths,wide:r.shortMonths},h={narrow:r.shortWeekdays,short:r.shortWeekdays,abbreviated:r.shortWeekdays,wide:r.weekdays},g={wide:{am:r.dayPeriods[0],pm:r.dayPeriods[1]}},y={any:_r(r.eras)},v={any:lr(r.eras)},b={narrow:_r(r.shortMonths),abbreviated:_r(r.shortMonths),wide:_r(r.months)},x={narrow:lr(r.shortMonths),abbreviated:lr(r.shortMonths),wide:lr(r.months)},S={narrow:_r(r.shortWeekdays),short:_r(r.shortWeekdays),abbreviated:_r(r.shortWeekdays),wide:_r(r.weekdays)},C={narrow:lr(r.shortWeekdays),short:lr(r.shortWeekdays),abbreviated:lr(r.shortWeekdays),wide:lr(r.weekdays)},I={any:_r(r.dayPeriods)},P={any:{am:H(lr(r.dayPeriods)[0]),pm:H(lr(r.dayPeriods)[1])}};return{...Hs,options:{weekStartsOn:i,firstWeekContainsDate:s},localize:{...Hs.localize,era:jr({values:c,defaultWidth:"wide"}),month:jr({formattingValues:d,values:l,defaultWidth:"wide"}),day:jr({values:h,defaultWidth:"wide"}),dayPeriod:jr({values:g,defaultWidth:"wide"})},match:{...Hs.match,era:Tr({matchPatterns:y,defaultMatchWidth:"any",parsePatterns:v,defaultParseWidth:"any"}),month:Tr({matchPatterns:b,defaultMatchWidth:"wide",parsePatterns:x,defaultParseWidth:"wide"}),day:Tr({matchPatterns:S,defaultMatchWidth:"wide",parsePatterns:C,defaultParseWidth:"wide"}),dayPeriod:Tr({matchPatterns:I,defaultMatchWidth:"any",parsePatterns:P,defaultParseWidth:"any"})}}}(pl),ee.RM=e==="HALF_UP"?ee.roundHalfUp:ee.roundHalfEven}function Dr(){if(!pl)throw new Error("Locale not initialized");return pl}function gl(){if(!op)throw new Error("DateFns locale not initialized");return op}let _w=0,Dw={};function Aw(t){return t[_w]}function hC(t,e){const n=t.indexOf(e);_w=n>-1?n:0}function pC(t){Dw=t}function Me(t,e,...n){const r=Dw[`${t}.${e}`];return r?H(Aw(r)).replace(/\{(\d+)\}/g,(i,s)=>n[s-1]??i):"[No translation]"}function Ja(t){let e=Me("mendix.signin",t);return e==="[No translation]"&&window.i18nMap&&(e=window.i18nMap[t]),e}var sp={},gC=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Pw=new RegExp("(%[a-f0-9]{2})|([^%]+?)","gi"),Nw=new RegExp("(%[a-f0-9]{2})+","gi");function up(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],up(n),up(r))}function mC(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(Pw)||[],n=1;n<e.length;n++)e=(t=up(e,n).join("")).match(Pw)||[];return t}}var yC=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return function(e){for(var n={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=Nw.exec(e);r;){try{n[r[0]]=decodeURIComponent(r[0])}catch{var i=mC(r[0]);i!==r[0]&&(n[r[0]]=i)}r=Nw.exec(e)}n["%C2"]="\uFFFD";for(var s=Object.keys(n),c=0;c<s.length;c++){var l=s[c];e=e.replace(new RegExp(l,"g"),n[l])}return e}(t)}},bC=(t,e)=>{if(typeof t!="string"||typeof e!="string")throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const n=t.indexOf(e);return n===-1?[t]:[t.slice(0,n),t.slice(n+e.length)]},vC=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),s=0;s<r.length;s++){var c=r[s],l=t[c];(i?e.indexOf(c)!==-1:e(c,l,t))&&(n[c]=l)}return n};(function(t){const e=gC,n=yC,r=bC,i=vC,s=Symbol("encodeFragmentIdentifier");function c(x){if(typeof x!="string"||x.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function l(x,S){return S.encode?S.strict?e(x):encodeURIComponent(x):x}function d(x,S){return S.decode?n(x):x}function h(x){return Array.isArray(x)?x.sort():typeof x=="object"?h(Object.keys(x)).sort((S,C)=>Number(S)-Number(C)).map(S=>x[S]):x}function g(x){const S=x.indexOf("#");return S!==-1&&(x=x.slice(0,S)),x}function y(x){const S=(x=g(x)).indexOf("?");return S===-1?"":x.slice(S+1)}function v(x,S){return S.parseNumbers&&!Number.isNaN(Number(x))&&typeof x=="string"&&x.trim()!==""?x=Number(x):!S.parseBooleans||x===null||x.toLowerCase()!=="true"&&x.toLowerCase()!=="false"||(x=x.toLowerCase()==="true"),x}function b(x,S){c((S=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},S)).arrayFormatSeparator);const C=function(P){let N;switch(P.arrayFormat){case"index":return(T,A,F)=>{N=/\[(\d*)\]$/.exec(T),T=T.replace(/\[\d*\]$/,""),N?(F[T]===void 0&&(F[T]={}),F[T][N[1]]=A):F[T]=A};case"bracket":return(T,A,F)=>{N=/(\[\])$/.exec(T),T=T.replace(/\[\]$/,""),N?F[T]!==void 0?F[T]=[].concat(F[T],A):F[T]=[A]:F[T]=A};case"colon-list-separator":return(T,A,F)=>{N=/(:list)$/.exec(T),T=T.replace(/:list$/,""),N?F[T]!==void 0?F[T]=[].concat(F[T],A):F[T]=[A]:F[T]=A};case"comma":case"separator":return(T,A,F)=>{const $=typeof A=="string"&&A.includes(P.arrayFormatSeparator),k=typeof A=="string"&&!$&&d(A,P).includes(P.arrayFormatSeparator);A=k?d(A,P):A;const j=$||k?A.split(P.arrayFormatSeparator).map(q=>d(q,P)):A===null?A:d(A,P);F[T]=j};case"bracket-separator":return(T,A,F)=>{const $=/(\[\])$/.test(T);if(T=T.replace(/\[\]$/,""),!$)return void(F[T]=A&&d(A,P));const k=A===null?[]:A.split(P.arrayFormatSeparator).map(j=>d(j,P));F[T]!==void 0?F[T]=[].concat(F[T],k):F[T]=k};default:return(T,A,F)=>{F[T]!==void 0?F[T]=[].concat(F[T],A):F[T]=A}}}(S),I=Object.create(null);if(typeof x!="string"||!(x=x.trim().replace(/^[?#&]/,"")))return I;for(const P of x.split("&")){if(P==="")continue;let[N,T]=r(S.decode?P.replace(/\+/g," "):P,"=");T=T===void 0?null:["comma","separator","bracket-separator"].includes(S.arrayFormat)?T:d(T,S),C(d(N,S),T,I)}for(const P of Object.keys(I)){const N=I[P];if(typeof N=="object"&&N!==null)for(const T of Object.keys(N))N[T]=v(N[T],S);else I[P]=v(N,S)}return S.sort===!1?I:(S.sort===!0?Object.keys(I).sort():Object.keys(I).sort(S.sort)).reduce((P,N)=>{const T=I[N];return T&&typeof T=="object"&&!Array.isArray(T)?P[N]=h(T):P[N]=T,P},Object.create(null))}t.extract=y,t.parse=b,t.stringify=(x,S)=>{if(!x)return"";c((S=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},S)).arrayFormatSeparator);const C=T=>S.skipNull&&x[T]==null||S.skipEmptyString&&x[T]==="",I=function(T){switch(T.arrayFormat){case"index":return A=>(F,$)=>{const k=F.length;return $===void 0||T.skipNull&&$===null||T.skipEmptyString&&$===""?F:$===null?[...F,[l(A,T),"[",k,"]"].join("")]:[...F,[l(A,T),"[",l(k,T),"]=",l($,T)].join("")]};case"bracket":return A=>(F,$)=>$===void 0||T.skipNull&&$===null||T.skipEmptyString&&$===""?F:$===null?[...F,[l(A,T),"[]"].join("")]:[...F,[l(A,T),"[]=",l($,T)].join("")];case"colon-list-separator":return A=>(F,$)=>$===void 0||T.skipNull&&$===null||T.skipEmptyString&&$===""?F:$===null?[...F,[l(A,T),":list="].join("")]:[...F,[l(A,T),":list=",l($,T)].join("")];case"comma":case"separator":case"bracket-separator":{const A=T.arrayFormat==="bracket-separator"?"[]=":"=";return F=>($,k)=>k===void 0||T.skipNull&&k===null||T.skipEmptyString&&k===""?$:(k=k===null?"":k,$.length===0?[[l(F,T),A,l(k,T)].join("")]:[[$,l(k,T)].join(T.arrayFormatSeparator)])}default:return A=>(F,$)=>$===void 0||T.skipNull&&$===null||T.skipEmptyString&&$===""?F:$===null?[...F,l(A,T)]:[...F,[l(A,T),"=",l($,T)].join("")]}}(S),P={};for(const T of Object.keys(x))C(T)||(P[T]=x[T]);const N=Object.keys(P);return S.sort!==!1&&N.sort(S.sort),N.map(T=>{const A=x[T];return A===void 0?"":A===null?l(T,S):Array.isArray(A)?A.length===0&&S.arrayFormat==="bracket-separator"?l(T,S)+"[]":A.reduce(I(T),[]).join("&"):l(T,S)+"="+l(A,S)}).filter(T=>T.length>0).join("&")},t.parseUrl=(x,S)=>{S=Object.assign({decode:!0},S);const[C,I]=r(x,"#");return Object.assign({url:C.split("?")[0]||"",query:b(y(x),S)},S&&S.parseFragmentIdentifier&&I?{fragmentIdentifier:d(I,S)}:{})},t.stringifyUrl=(x,S)=>{S=Object.assign({encode:!0,strict:!0,[s]:!0},S);const C=g(x.url).split("?")[0]||"",I=t.extract(x.url),P=t.parse(I,{sort:!1}),N=Object.assign(P,x.query);let T=t.stringify(N,S);T&&(T=`?${T}`);let A=function(F){let $="";const k=F.indexOf("#");return k!==-1&&($=F.slice(k)),$}(x.url);return x.fragmentIdentifier&&(A=`#${S[s]?l(x.fragmentIdentifier,S):x.fragmentIdentifier}`),`${C}${T}${A}`},t.pick=(x,S,C)=>{C=Object.assign({parseFragmentIdentifier:!0,[s]:!1},C);const{url:I,query:P,fragmentIdentifier:N}=t.parseUrl(x,C);return t.stringifyUrl({url:I,query:i(P,S),fragmentIdentifier:N},C)},t.exclude=(x,S,C)=>{const I=Array.isArray(S)?P=>!S.includes(P):(P,N)=>!S(P,N);return t.pick(x,I,C)}})(sp);var no=Os(sp);let xn=class{constructor(){this.startedAt=0,this.reset()}measure(){const e=performance.now()-this.startedAt;return{ms:e,toString:()=>e.toFixed(1)}}reset(){this.startedAt=performance.now()}},Gs=class IS extends Error{constructor(e){super(e),Object.setPrototypeOf(this,IS.prototype)}},Ar=class RS extends Gs{constructor(e){super(e),Object.setPrototypeOf(this,RS.prototype)}},Za=class MS extends Gs{constructor(e){super(e),Object.setPrototypeOf(this,MS.prototype)}},cp=class LS extends Za{constructor(e){super(e),Object.setPrototypeOf(this,LS.prototype)}},qs=[];function Ys(t){return qs.push(t),()=>{const e=qs.indexOf(t);e!==-1&&qs.splice(e,1)}}async function Iw(t,e){return async function n(r,i){return r===qs.length?e(i):H(qs[r])(i,s=>n(r+1,s))}(0,t)}let wC=class extends Error{},Pr=class US extends Error{constructor(e,n){super(n??"Internal server error"),this.status=e,Object.setPrototypeOf(this,US.prototype)}},Qs=class FS extends Pr{constructor(e){super(e),Object.setPrototypeOf(this,FS.prototype)}},ml=class zS extends Error{constructor(e={}){super(),this.original=e,Object.setPrototypeOf(this,zS.prototype)}};const Rw=_t.get().getLogger(Ut.Network).debounced;async function xC(t,e){Rw.trace(`Starting GET ${t}`);const n=new xn,r={url:t,init:{method:"get",headers:new Headers,cache:"force-cache",credentials:"include"}},i=await Iw(r,Mw);if(Rw.trace(`Finished GET ${t} in ${n.measure()} milliseconds. Response code ${i.status}.`),!i.ok)throw new Pr(i.status,i.statusText);switch(e){case"text":return i.text();case"json":return lp(i);case"blob":return i.blob()}}async function Mw(t){let e;t.init.body=Ba(t.body)?JSON.stringify(t.body):t.body;try{e=await window.fetch(t.url,t.init)}catch(n){throw new Ar(n instanceof Error?n.message:String(n))}switch(e.status){case 200:return e;case 400:case 401:case 402:case 403:case 460:throw new Qs(e.status);case 502:case 504:throw new Pr(e.status,e.statusText);case 551:throw new ml(await e.json());case 560:const n=await Lw(e);throw n?new cp(n):new Pr(e.status);case 12029:throw new Ar("No connection");default:throw new Pr(e.status,await Lw(e))}}async function Lw(t){const e=await lp(t);return e&&"description"in e?e.description:void 0}async function lp(t){const e=await t.text();try{return JSON.parse(e)}catch{throw new wC(`Expected response body to be JSON. Instead received: "${e}"`)}}const $t=function(t){const e=_t.get().getLogger(Ut.Network);return async function(n,r){const i=typeof(s=r)=="object"&&s!==null&&"action"in s&&typeof s.action=="string"?r.action:void 0;var s;i!==void 0?e.trace(`Starting runtime action: ${i}`):e.trace(`Starting POST ${n}`);const c=new xn,l=await t(n,r);return i!==void 0?e.trace(`Finished runtime action "${i}" in ${c.measure()} milliseconds.`):e.trace(`Finished POST ${n} in ${c.measure()} milliseconds.`),l}}(async function(t,e){const n={url:t,body:e,init:{method:"post",headers:new Headers({Accept:"application/json",...Ba(e)?{"Content-Type":"application/json"}:{}}),redirect:"error",credentials:"include"}};return lp(await Iw(n,Mw))});async function dp(t,e){return $t(At(),{action:"retrieve_by_ids",params:{ids:t,schema:e}})}async function $C(t,e,n,r,i,s){return $t(At(),{action:"retrieve_by_path",params:{id:t,path:e,entity:n,direction:r},changes:i,objects:s})}async function Uw(t,e={},n=!1){return $t(At(),{action:"retrieve_by_xpath",params:{xpath:t,schema:e,count:n}})}async function fp(t,e,n,r,i){return $t(At(),{action:"runtimeOperation",operationId:t,params:e,options:n,changes:r,objects:i})}async function Fw(t,e,n,r,i){return $t(At(),{action:"executeaction",params:{...t,asyncid:i},changes:n,objects:r,context:e.getGuids()})}async function SC(t){return $t(At(),{action:"poll_background_job",params:{asyncid:t}})}async function kC(t,e,n){return $t(At(),{action:"instantiate",params:{objecttype:t},changes:e,objects:n})}async function EC(t,e){return $t(At(),{action:"validate",params:{},changes:t,objects:e})}async function OC(t,e,n,r){return $t(At(),{action:"commit",params:{guids:t},changes:n,objects:r,context:e.getGuids()})}async function CC(t,e,n){return $t(At(),{action:"rollback",params:{guids:t},changes:e,objects:n})}async function jC(t,e,n){return $t(At(),{action:"delete",params:{guids:t},changes:e,objects:n})}async function ro(t,e,n,r,i,s){return $t(At(),{action:"runtimeOperation",operationId:t,params:e,asyncid:s,validationGuids:i,changes:n,objects:r})}async function TC(t,e,n){return $t(At(),{action:"login",params:{username:t,password:e,useAuthToken:n}})}async function _C(t){return $t(At(),{action:"get_session_data",params:{...t,version:2}})}async function DC(t){return $t(At(),{action:"logout",params:{}})}async function AC(){return $t(At(),{action:"keepalive",params:{}})}async function PC(t,e,n,r){await $t(At(),{action:"export",params:{...t,asyncid:r},changes:e,objects:n})}async function NC(t,e,n,r,i,s){return $t(At(),{action:"synchronize_objects",changes:t,fileGuidMapping:e,returnObjects:n,deletes:r,extraGuidsToRetrieve:i??[],incompatibleChanges:s??[]})}async function IC(t){return $t(At(),{action:"create_guids",params:{entities:t}})}async function zw(t,e,n,r,i,s){const c=mx.remoteUrl+"file?"+sp.stringify({...n,guid:t}),l=new FormData;return l.append("data",JSON.stringify({changes:i,objects:s})),e?l.append("blob",r,e):l.append("blob",r),$t(c,l)}function At(t=mx.remoteUrl){return t+"xas/"}var hp;(function(t){t[t.Sunday=0]="Sunday",t[t.Monday=1]="Monday",t[t.Tuesday=2]="Tuesday",t[t.Wednesday=3]="Wednesday",t[t.Thursday=4]="Thursday",t[t.Friday=5]="Friday",t[t.Saturday=6]="Saturday"})(hp||(hp={}));async function RC(t,e){return t.then(n=>(e(),n),n=>(e(),Promise.reject(n)))}async function MC(){return new Promise(()=>{})}async function Xs(t=0){return new Promise(e=>{setTimeout(()=>{e()},t)})}async function pp(t,e,...n){return new Promise((r,i)=>t[e](...n,r,i))}let LC=new Date().getTime();async function yl(t,e=0){const n=LC++;await t(n);let r=e,i=500;for(;;){try{const s=await SC(n);if(s.response.finished)return s}catch(s){if(r--<=0)throw s}await Xs(i),i=Math.min(i+500,8e3)}}const gp={};function Bw(t){return gp[t]}let Vw,Ww,Hw;function it(){return H(Vw)}function Nr(){return H(Ww)}function yt(){return H(Hw)}function UC(t,e,n,r,i){fC(t.locale,t.uiconfig.roundingmode),hC(e,t.locale.code),function(s={}){for(const[c,l]of Object.entries(s))for(const d of l.split(",")){const h=JSON.parse(c);gp[d]={parameters:h.p},h.a&&(gp[d].followedAssociations=h.a.map(([g,y])=>({association:g,fromEntity:y})))}}(n),Ww=r,Hw=i}function FC(t){Vw=t}function zC(t){const e=H(Ne(t.objectType)),n=Object.entries(t.attributes).filter(([r,i])=>e.attributes[r]?.isSyncable&&!i.readonly&&!i.inaccessible).map(([r,i])=>({[r]:{value:i.value}}));return Object.assign({},...n)}const BC=6e4;function VC(){return"GUID:"+Hn()}function ei(t){return!t.startsWith("GUID:")}const WC=sn(t=>t.guid),HC=sn(t=>t.getGuid());function GC(t){const e=Object.keys(t.attributes).map(n=>({[n]:{value:t.attributes[n]?.value}}));return Object.assign({},...e)}function qC(t){const{attributes:e}=t;return["FileID","HasContents","Size"].every(n=>n in e)&&e.HasContents?.value}function YC(t,e){const n=s(t),r=s(e),i=[];for(const[c,l]of n){if(!r.has(c)){i.push(c);continue}const d=r.get(c);for(const[h,g]of l){const y=d.get(h);if(y&&y!==g){i.push(c);break}}}return new Set(i);function s(c){return new Map(c.map(l=>[l.objectType,new Map(Object.entries(l.attributes).map(([d,{type:h}])=>[d,h]))]))}}async function ti(t){return new Promise((e,n)=>it().get({guids:t,callback:e,error:n}))}async function ao(t){return new Promise((e,n)=>it().get({guid:t,callback(r){e(r??void 0)},error:n}))}const QC={String:null,Integer:null,Long:null,Decimal:null,Enum:null,HashString:null,ObjectReference:null,ObjectReferenceSet:[],DateTime:null,Boolean:!1,AutoNumber:"0",Binary:null,EnumSet:null};function Gw(t,e){const n={guid:t,objectType:e.name,attributes:{}};return oa(e.name).forEach(r=>{const i=!e.isPersistable&&Ph(r.name)?function(s){switch(s){case un.Owner:case un.ChangedBy:return xt().getUserId();case un.CreatedDate:case un.ChangedDate:return Date.now()}}(r.name):r.defaultValue===void 0?QC[r.type]:r.type==="DateTime"&&r.defaultValue==="[%CurrentDateTime%]"?new Date().getTime():r.defaultValue;n.attributes[r.name]={value:i,readonly:r.isAlwaysReadOnly}}),n}function qw(t,e,n,r){let i=[],s=[];const c=Qw(n);if(e==="reverse")i=r.getAllObjects().filter(l=>l.getReferences(c).includes(t));else{const l=r.getObject(t);l&&({cachedObjects:i,uncachedGuids:s}=Yw(l,r,c))}return{cachedObjects:i,uncachedGuids:s}}function Yw(t,e,n){const r=t.getReferences(n);return{cachedObjects:r.map(i=>e.getObject(i)).filter(i=>i!==null),uncachedGuids:r.filter(i=>!e.has(i))}}function Qw(t){const e=t.split("/");return e.length===1?t:e[0]}function mp(t){const e=Nh(t);return Ne(e)?.name}function Xw(t){const e=mp(t);if(e===void 0)throw new U(`Can't find entity for guid '${t}'`);return e}function ma(t){if(ei(t)){const e=mp(t);return e!==void 0&&mx.isOffline(e)}return!0}function io(t){return xt().isOffline()&&!(t&&yt().hasOnlineSyncMode(t))}function bl(t,e,n,r){var i,s=arguments.length,c=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(i=t[l])&&(c=(s<3?i(c):s>3?i(e,n,c):i(e,n))||c);return s>3&&c&&Object.defineProperty(e,n,c),c}typeof SuppressedError=="function"&&SuppressedError;const ni="*;";function oo(t,e){return e.startsWith(t)}let vl=class{constructor(){this.recordGroups=new Map,this.mirrorCount=new Map,this.usedSlotsCount=new Map,this.slotObservers=new Map}get$(e,n,r){const i=this.getOrCreateGroup(e,n);let s;return Se(`backend.get$(${e}, ${n}, ${r})`,()=>{if(s)return s.get();const c=i.filter(([l])=>oo(l,r)).pop();return c?(c[0]===r&&(s=c[1]),c[1].get()):void 0})}set(e,n,r,i){const s=this.getOrCreateGroup(e,n),c=s.filter(([h])=>oo(h,r)).pop();if(c)return void c[1].set(i);const l=jn(r,Tt.box(i,{deep:!1,name:`backend.box(${e}, ${n}, ${r})`,equals:ga})),d=s.findIndex(([h])=>h.length>r.length);d===-1?s.push(l):s.splice(d,0,l),this.usedSlotsCount.set(n,(this.usedSlotsCount.get(n)??0)+1)}getAllEntries$(e,n){const r=this.slotObservers.get(e)??ca(`backend.slot(${e})`);return this.slotObservers.set(e,r),Se(`backend.getAll$(${e}, ${n})`,()=>{r.reportObserved();const i=[];for(const[s,c]of this.recordGroups.entries()){const[l,d]=s.split("\xBB");if(l===e)for(const[h,g]of c.toJS().reverse())n&&!oo(n,h)||i.push({widgetId:d,path:h,value:g.get()})}return i})}free(e,n,r){let i=this.usedSlotsCount.get(n)??0;const s=this.groupKey(e,n),c=this.recordGroups.get(s);c!==void 0&&(this.hasMirrors(s,r)||c.filter(([l])=>oo(r,l)).forEach(l=>{c.remove(l),i--}),c.length===0&&this.recordGroups.delete(s),i<1?this.usedSlotsCount.delete(n):this.usedSlotsCount.set(n,i))}getUsedSlots(){return Array.from(this.usedSlotsCount.entries()).filter(([e,n])=>n>0).map(([e])=>e)}groupKey(e,n){return`${n}\xBB${e}`}getOrCreateGroup(e,n){const r=this.groupKey(e,n),i=this.recordGroups.get(r);if(i)return i;const s=Tt.array([],{deep:!1,name:`backend.group(${e}, ${n})`});return this.recordGroups.set(r,s),this.slotObservers.get(n)?.reportChanged(),s}hasMirrors(e,n){const r=this.mirrorCount.get(e);if(r===void 0)return!1;for(let i=r.length-1;i>=0;i--){const s=r[i]?.[0];if(s&&oo(n,s))return!0}return!1}registerLocalMirror(e,n,r){const i=this.groupKey(e,n),s=this.mirrorCount.get(i)??[];let c=s.findIndex(([l])=>l===r);if(c===-1){const l=[r,0];let d=-1;for(let h=s.length-1;h>=0;h--){const g=s[h]?.[0];if(g!==void 0&&oo(r,g)){d=h;break}}d===-1?(c=s.length,s.push(l)):(s.splice(d,0,l),c=d)}s[c][1]++,this.mirrorCount.set(i,s)}unregisterLocalMirror(e,n,r){const i=this.groupKey(e,n),s=this.mirrorCount.get(i);if(s===void 0)return;const c=s.findIndex(([d])=>d===r);if(c===-1)return;let l=s[c][1];l--,l<1?s.splice(c,1):s[c][1]=l,s.length===0?this.mirrorCount.delete(i):this.mirrorCount.set(i,s)}};bl([ln],vl.prototype,"set",null),bl([ln],vl.prototype,"free",null);const XC=["selection"];let yp=class{constructor(e,n,r,i){this.backend=e,this.path=n,this.onBackendUpdateRequested=r,this.subscriptionPriority=i,this.localMirrors=new Map,this.updateCallbacks=[],this.destroyed=!1}useSlot(e,n){const r=this.getOrCreateLocalMirror(e,n,XC.includes(n));return jn(r.value$,ln(r.setValue))}useBackendSlot(e,n){return this.backend.get$(e,n,this.path)}getAll$(e){const n=this.backend.getAllEntries$(e,this.path);return Se("getAll$({slot})",()=>n.dependOn().map(r=>r.value))}getSubscriptionPriority(){return this.subscriptionPriority}addUpdateCallback(e){this.destroyed?e():(this.updateCallbacks.push(e),this.onBackendUpdateRequested())}updateFromBackend(){for(const e of this.localMirrors.values())e.updateFromBackend();this.flushUpdateCallbacks()}destroy(){for(const e of this.localMirrors.values())e.free();this.localMirrors.clear(),this.flushUpdateCallbacks(),this.destroyed=!0}flushUpdateCallbacks(){this.updateCallbacks.splice(0).forEach(e=>e())}getOrCreateLocalMirror(e,n,r){const i=`${e}\u2192${n}`,s=this.localMirrors.get(i);if(s)return s;let c;const l=this.backend.get$(e,n,this.path);let d,h;r&&this.backend.registerLocalMirror(e,n,this.path);const[g,y]=np(`localValue(${e}, ${n})`,()=>{H(h)(),h=void 0},()=>{d=c=Tn(l),h=Ms(()=>l.dependOn(),x=>{x!==d&&(d=x,this.onBackendUpdateRequested())},{name:`copy backendValue for (${e}, ${n})`})});let v=!1;const b={value$:Se(`get$(${e}, ${n})`,()=>(g.dependOn(),c)),setValue:x=>{if(!this.localMirrors.has(i))throw new Error(`Error trying to set value to ${i}. The slot has already been freed.`);v=!0,ga(x,c)||y(),this.backend.set(e,n,this.path,x),d=c=x},updateFromBackend:()=>{h===void 0||ga(d,c)||(y(),c=d)},free:()=>{if(n!=="localvariable")return r?(this.backend.unregisterLocalMirror(e,n,this.path),v&&this.backend.set(e,n,this.path,void 0),void this.backend.free(e,n,this.path)):void(v&&this.backend.free(e,n,this.path))}};return this.localMirrors.set(i,b),b}};bl([ln],yp.prototype,"updateFromBackend",null),bl([ln],yp.prototype,"destroy",null);const wl=W.createContext(void 0),so=W.createContext(void 0),bp=W.createContext(0);function Kw(t){return G.jsx(wl.Provider,{value:t.backend,children:G.jsx(so.Provider,{value:"*;",children:t.children})})}function Jw(){const t=H(W.useContext(wl)),e=H(W.useContext(so)),n=W.useContext(bp),r=yv(),i=W.useMemo(()=>new yp(t,e,r,n),[t,e,r,n]);return W.useLayoutEffect(()=>()=>i.destroy(),[t]),i.updateFromBackend(),i}function KC(t,e){const n=H(W.useContext(wl)),r=H(W.useContext(so));return Ts(n,r,t,e),[W.useMemo(()=>n.get$(t,e,r),[]),W.useCallback(i=>n.set(t,e,r,i),[])]}function JC(t,e){const n=H(W.useContext(wl)),r=H(W.useContext(so));Ts(n,r,t,e),W.useLayoutEffect(()=>()=>n.free(t,e,r),[])}function Zw(t){const e=function(n,r){if(r.includes(";"))throw new U(`Illegal character ';' in namespace: ${r}`);return`${n}${r};`}(H(W.useContext(so)),t.namespace);return G.jsxs(so.Provider,{value:e,children:[t.setupStore?G.jsx(ZC,{callback:t.setupStore}):null,t.children]})}function ZC(t){const e=Jw();return W.useMemo(()=>t.callback(e),[t.callback,e]),null}const e0={},t0={},n0={};function ej(t,e,n){const r=JSON.stringify([t,e,n]),i=e0[r];if(i)return i;const s=Hn("assoc");return e0[r]=s,t0[s]=Object.freeze({associationPath:t,dataSourceId:e,selectableObjectsId:n}),s}function xl(t){return t0[t]}function tj(t,e){n0[t]=e}function r0(t){return n0[t]}const a0={},i0={},$l={};function nj(t,e){const n=JSON.stringify([t,e]),r=a0[n];if(r)return r;const i=Hn("attr");return a0[n]=i,i0[i]=Object.freeze({attributePath:t,dataSourceId:e}),i}function vp(t){return i0[t]}function rj(t,e,n=!1,r){$l[t]=[e,n,r]}function o0(t){return $l[t]?.[0]}function aj(t){return $l[t]?.[1]??!1}function ij(t){return $l[t]?.[2]}const wp=Symbol("filterExpression"),Ks=Symbol("dataSourceId"),s0={};function oj(t,e){s0[t]=e}function Sl(t){return s0[t]}function uo(t){return t[wp]||(t[wp]=!0,Object.freeze(t)),t}function sj(t,e){if(t===void 0)return!0;if(!u0(t))throw new U("setFilter: argument must be a FilterCondition and be created with the filter API or obtained from a ListValue");return function n(r){switch(r.type){case"attribute":const i=vp(r.attributeId);if(i===void 0)throw new U(`setFilter: FilterCondition uses an attribute with invalid id '${r.attributeId}'`);if(!Sl(r.attributeId))throw new U(`setFilter: FilterCondition uses an attribute with id '${r.attributeId}' which is not filterable`);if(i.dataSourceId!==e)throw new U(`"setFilter: FilterCondition uses an attribute with id '${r.attributeId}' which is linked to a different data source`);break;case"literal":break;case"function":"arg"in r?n(r.arg):"arg1"in r?(n(r.arg1),n(r.arg2)):r.args.forEach(n);break;case"association":const s=xl(r.associationId);if(s===void 0)throw new U(`setFilter: FilterCondition uses an association with invalid id '${r.associationId}'`);if(!Sl(r.associationId))throw new U(`setFilter: FilterCondition uses an association with id '${r.associationId}' which is not filterable`);if(s.dataSourceId!==e)throw new U(`"setFilter: FilterCondition uses an association with id '${r.associationId}' which is linked to a different data source`)}}(t),!0}function u0(t){return El(t)&&t.type==="function"}function uj(t){return kl(t)||xp(t)||c0(t)}function kl(t){return El(t)&&t.type==="attribute"}function xp(t){return El(t)&&t.type==="literal"}function c0(t){return El(t)&&t.type==="association"}function El(t){return typeof t=="object"&&t!==null&&wp in t&&Object.isFrozen(t)}function cj(t,e){return ga(t,e)}const $p=Symbol("mxObject"),Sp=Symbol("dataSourceId");function l0(t,e){return{id:t.getGuid(),[$p]:t,[Sp]:e}}function d0(t,e,n){function r(i){throw new Error(n?`${i} (${n})`:i)}return Ol(t)||r("Only an ObjectItem can be passed to a template."),h0(t,e)||r("An ObjectItem can only be passed to a template that is linked to the same data source."),t[$p]}function Ol(t){return typeof t=="object"&&t!=null&&$p in t&&Sp in t}function f0(t){return Array.isArray(t)&&t.every(Ol)}function kp(t){return t[Sp]}function h0(t,e){return kp(t)===e}function p0(t){return function(e){if(!function(n){return typeof n!="string"?!1:vp(n)!==void 0}(e))throw new U(`Argument of function "attribute" is not a valid attribute id: ${e}`);if(!Sl(e))throw new U(`Argument of function "attribute" is not a filterable attribute id: ${e}`)}(t),uo({type:"attribute",attributeId:t})}function Js(t){const e=function(r){const i=typeof r;switch(i){case"boolean":case"string":case"undefined":return i;case"object":if(r instanceof ee)return"Numeric";if(r instanceof Date)return"DateTime";if(Ol(r))return"Reference";if(f0(r)){if(r.length===0)throw new U('Argument of function "literal" cannot be an empty array, use empty() instead.');return"ReferenceSet"}}throw new U(`Argument of function "literal" is not a valid literal value: ${r}`)}(t),n=function(r,i){switch(i){case"Reference":const s=r;return{value:s.id,[Ks]:kp(s)};case"ReferenceSet":const c=r,l=c.map(kp);if(jt(l).length>1)throw new U('Argument of function "literal" cannot contain object items from multiple data sources');return{value:Object.freeze(c.map(d=>d.id)),[Ks]:l[0]};default:return{value:Object.freeze(r)}}}(t,e);return uo({type:"literal",...n,valueType:e})}function lj(t){return function(e){if(!function(n){return typeof n!="string"?!1:xl(n)!==void 0}(e))throw new U(`Argument of function "association" is not a valid association id: ${e}`);if(!Sl(e))throw new U(`Argument of function "association" is not a filterable association id: ${e}`)}(t),uo({type:"association",associationId:t})}function dj(...t){return v0("and",t),w0("and",t),y0("and",...t)}function g0(...t){return v0("or",t),w0("or",t),y0("or",...t)}function fj(t,e){return _n("equals",t,0),_n("equals",e,1),Dn("equals",t,e),E0("equals",t,e),$0("equals",t,e),Jt("=",t,e)}function hj(t,e){return _n("notEqual",t,0),_n("notEqual",e,1),Dn("notEqual",t,e),E0("notEqual",t,e),$0("notEqual",t,e),Jt("!=",t,e)}const Cl=["string","Numeric","DateTime"];function pj(t,e){return _n("greaterThan",t,0),_n("greaterThan",e,1),Dn("greaterThan",t,e,Cl),Jt(">",t,e)}function gj(t,e){return _n("lessThan",t,0),_n("lessThan",e,1),Dn("lessThan",t,e,Cl),Jt("<",t,e)}function mj(t,e){return _n("greaterThanOrEqual",t,0),_n("greaterThanOrEqual",e,1),Dn("greaterThanOrEqual",t,e,Cl),Jt(">=",t,e)}function yj(t,e){return _n("lessThanOrEqual",t,0),_n("lessThanOrEqual",e,1),Dn("lessThanOrEqual",t,e,Cl),Jt("<=",t,e)}const Ep=["String","Integer","Long","Decimal","AutoNumber"];function m0(t,e){switch(Zs("attribute or association expression",n=>kl(n)||c0(n),"contains",t,0),Ir("contains",e,1),t.type){case"association":dr("contains",0,Op(t.associationId),["ReferenceSet"]),dr("contains",1,co(e),["Reference","ReferenceSet"]),x0("contains",t,e);break;case"attribute":dr("contains",0,eu(t.attributeId),Ep),dr("contains",1,co(e),["string"]);break;default:Ct()}return Jt("contains",t,e)}function bj(t,e){return ya("startsWith",t,0),Ir("startsWith",e,1),dr("startsWith",0,eu(t.attributeId),Ep),dr("startsWith",1,co(e),["string"]),Jt("starts-with",t,e)}function vj(t,e){return ya("endsWith",t,0),Ir("endsWith",e,1),dr("endsWith",0,eu(t.attributeId),Ep),dr("endsWith",1,co(e),["string"]),Jt("ends-with",t,e)}function wj(t,e){return ya("dayEquals",t,0),Ir("dayEquals",e,1),Dn("dayEquals",t,e,["DateTime"]),Jt("day:=",t,e)}function xj(t,e){return ya("dayNotEqual",t,0),Ir("dayNotEqual",e,1),Dn("dayNotEqual",t,e,["DateTime"]),Jt("day:!=",t,e)}function $j(t,e){return ya("dayGreaterThan",t,0),Ir("dayGreaterThan",e,1),Dn("dayGreaterThan",t,e,["DateTime"]),Jt("day:>",t,e)}function Sj(t,e){return ya("dayLessThan",t,0),Ir("dayLessThan",e,1),Dn("dayLessThan",t,e,["DateTime"]),Jt("day:<",t,e)}function kj(t,e){return ya("dayGreaterThanOrEqual",t,0),Ir("dayGreaterThanOrEqual",e,1),Dn("dayGreaterThanOrEqual",t,e,["DateTime"]),Jt("day:>=",t,e)}function Ej(t,e){return ya("dayLessThanOrEqual",t,0),Ir("dayLessThanOrEqual",e,1),Dn("dayLessThanOrEqual",t,e,["DateTime"]),Jt("day:<=",t,e)}function Jt(t,e,n){return b0(t,{arg1:e,arg2:n})}function y0(t,...e){return b0(t,{args:Object.freeze(e)})}function b0(t,e){return uo({type:"function",name:t,...e})}function v0(t,e){if(e.length<2)throw new U(`The "${t}" function requires at least two arguments.`)}function w0(t,e){e.forEach((n,r)=>Oj(t,n,r))}function Oj(t,e,n){Zs("filter condition",u0,t,e,n)}function _n(t,e,n){Zs("value expression",uj,t,e,n)}function ya(t,e,n){Zs("attribute expression",kl,t,e,n)}function Ir(t,e,n){Zs("literal expression",xp,t,e,n)}function Zs(t,e,n,r,i){const s=i!==void 0?`Argument #${i}`:"Argument";if(r==null)throw new U(`${s} of function "${n}" cannot be ${r}`);if(!e(r))throw new U(`${s} of function "${n}" is not a valid ${t}`)}function Dn(t,e,n,r=[]){const i=co(e),s=co(n);if(dr(t,0,i,r),dr(t,1,s,r),i!==s&&i!=="undefined"&&s!=="undefined")throw new U(`The arguments of function "${t}" have incompatible types (${i} != ${s}).`);x0(t,e,n)}function x0(t,e,n){const r=O0(e),i=O0(n);if(r!==i&&r!==void 0&&i!==void 0)throw new U(`The arguments of function "${t}" are incompatible, because they are not referring to objects from the same data source.`)}function $0(t,e,n){if(S0(t,0,e),S0(t,1,n),k0(e)&&k0(n))throw new U(`The arguments of function "${t}" cannot both be reference set associations.`)}function S0(t,e,n){if(xp(n)&&n.valueType==="ReferenceSet")throw new U(`Argument #${e} of function "${t}" cannot be a reference set literal, only empty().`)}function k0(t){return t.type==="association"&&Op(t.associationId)==="ReferenceSet"}function E0(t,e,n){const r=C0(e)?j0(e.attributeId):void 0,i=C0(n)?j0(n.attributeId):void 0;if(r===void 0&&i===void 0)return;if(r!==void 0&&i!==void 0){if(!ga(r,i)){const l=`[${r.join(", ")}]`,d=`[${i.join(", ")}]`;throw new U(`Arguments of function "${t}" are incompatible enum attributes (${l} != ${d}).`)}return}const s=r??i;function c(l,d){if(d.type!=="literal")return;const h=d.value;if(h!==void 0&&!s.includes(h)){const g=`[${s.join(", ")}]`;throw new U(`Argument #${l} of function "${t}" has an invalid enum literal value (${h} != ${g}).`)}}c(0,e),c(1,n)}function dr(t,e,n,r){if(r.length!==0&&!r.includes(n)){const i=r.length===1?r[0]:`[${r.join(", ")}]`;throw new U(`Argument #${e} of function "${t}" has an incompatible type (${n} != ${i}).`)}}function co(t){switch(t.type){case"attribute":return function(e){const n=eu(e);switch(n){case"Boolean":return"boolean";case"DateTime":return"DateTime";case"AutoNumber":case"Integer":case"Long":case"Decimal":return"Numeric";case"Enum":case"String":case"HashString":return"string";case"Binary":case"EnumSet":case"ObjectReference":case"ObjectReferenceSet":throw new U("Unsupported attribute type: "+n)}}(t.attributeId);case"literal":return t.valueType;case"association":return Op(t.associationId)}}function O0(t){switch(t.type){case"attribute":return;case"literal":return t[Ks];case"association":return xl(t.associationId)?.selectableObjectsId}}function eu(t){return H(o0(t))}function Op(t){return H(r0(t))}function C0(t){return t.type==="attribute"&&eu(t.attributeId)==="Enum"}function j0(t){return H(ij(t))}const Rr="$$globalScope",jl=new Map;function T0(t){Object.entries(t).forEach(([e,n])=>{jl.has(e)||jl.set(e,n)})}function _0(t,e){const n=H(jl.get(t)).find(([r])=>r===e);return n?n[1]:e}function D0(t){return H(jl.get(t)).map(([e])=>e)}function Tl(t,e){switch(e){case"DateTime":return t!==""?new Date(t):void 0;case"AutoNumber":return new ee(t);case"String":return t;default:return t!==""?t:void 0}}function ba(t){return t===void 0?"":t instanceof Date?t.getTime():t}function A0(t,e){return Tl(_l(t,e),e)}function Cp(t){return jp(ba(t))}function _l(t,e){if(t==null)return"";switch(e){case"Integer":case"Long":case"Decimal":return new ee(t);case"Date":case"DateTime":return t;case"Boolean":return!!t;case"ObjectReferenceSet":return Array.isArray(t)&&t.length>0?t:"";default:return String(t)}}function Cj(t,e,n){const r=Bc(e,n);if(!r)throw new U(`Attribute ${n} is not accessible.`);r==="Enum"?function(i){if(!i)throw new U(`Value ${t} is not assignable to attribute of type ${r}.`)}(t===void 0||typeof t=="string"&&D0(Dh(e,n)).includes(t)):P0(t,r)}function P0(t,e,n=!1,r="Attribute"){switch(e){case"String":case"ObjectReference":case"HashString":return i(typeof t=="string"||t===void 0);case"ObjectReferenceSet":return i(Array.isArray(t)&&t.every(s=>typeof s=="string")||t===void 0&&n);case"Boolean":return i(typeof t=="boolean");case"DateTime":return i(t===void 0||t instanceof Date&&!isNaN(t.getTime()));case"Integer":case"Long":case"Decimal":return i(t instanceof ee||t===void 0);default:throw new U(`${r} type ${e} is not supported.`)}function i(s){if(!s)throw new U(`Value '${t}' is not assignable to ${r.toLowerCase()} of type ${e}.`)}}function jp(t,e=!1){return t===""?e?"":null:t instanceof ee?t.toString():t}function jj(t,e){if(t==null||t==="")return e==="ObjectReferenceSet"?[]:"";switch(e){case"Boolean":return!!t;case"Decimal":case"Integer":case"Long":return new ee(t);case"DateTime":return Number(t);case"ObjectReference":if(Array.isArray(t))throw new Error("Trying to set single object reference to multiple values");return t.toString();case"ObjectReferenceSet":if(!Array.isArray(t))throw new Error("Trying to set object reference set to single value");return t.map(n=>n.toString());default:return String(t)}}function Tj(t){if(typeof t=="number"&&t>=0&&Math.floor(t)===t)return!0;throw new U(`Value ${t} should be a positive integer.`)}function _j(t){if(typeof t=="boolean")return!0;throw new U(`Value ${t} should be a boolean.`)}function Dj(t,e){if(t!==""&&t!=null)return Array.isArray(t)?t.length?{guids:t}:void 0:e==="ObjectReference"?{guid:typeof t=="string"?t:Ct()}:{value:t}}function Tp(t,e){if(t!==void 0)switch(e){case"object":return{id:t};case"list":return{ids:t};case"primitive":return{primitive:t}}}function Aj(t){if(t)return"object"in t?Xe(t.object):"id"in t?t.id:"ids"in t?t.ids:"primitive"in t?t.primitive:Ct()}function Pj(t,e){switch(e){case"object":return{guid:t};case"list":return{guids:t};case"primitive":return{value:Cp(t)}}}function Nj(t,e,n=null){return Object.keys(t).reduce(function(r,i){return r[i]=e.call(n,t[i],i),r},{})}function Ij(t){return t.reduce(function(e,n){return e[n[0]]=n[1],e},{})}function _p(t){for(var e in t)return!1;return!0}function Rj(t){var e,n,r=null;return(e=t.getElementsByTagName("textarea")[0])&&(n=JSON.parse(e.value)).type&&n.type==="exception"&&((r=new cp(n.description))._type="exception"),r}var Mj=new ee("1e20"),Lj=new ee(2).pow(31).times(-1),Uj=new ee(2).pow(31).minus(1),Fj=new ee(2).pow(63).times(-1),zj=new ee(2).pow(63).minus(1);function N0(t,e,n){return t.gte(e)&&t.lte(n)}const va={OK:0,NOT_INTEGER:1,RANGE_INTEGER:2,RANGE_LONG:3,RANGE_DECIMAL:4};function I0(t,e){if(/^(Integer|Long|Decimal)$/.test(e)){if(t===""||t===null)return va.OK;if(t instanceof ee||(t=new ee(t)),(e==="Integer"||e==="Long")&&function(n){return!n.mod(1).eq(0)}(t))return va.NOT_INTEGER;if(e==="Integer"&&!N0(t,Lj,Uj))return va.RANGE_INTEGER;if(e==="Long"&&!N0(t,Fj,zj))return va.RANGE_LONG;if(e==="Decimal"&&t.abs().gte(Mj)||e==="Decimal"&&!t.mod(1e-8).eq(0))return va.RANGE_DECIMAL}return va.OK}function lo(t){const e=new Date;return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e}function fo(t){const e=new Date;return e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setUTCHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}var R0;const M0=Symbol("snapshot"),Dl=Symbol("publishLock");let ke=class im{get jsonData(){return this._jsonData}constructor(e){this.publishQueue=[],this[R0]=0,this._guid="0",this._unavailable=!1,this.id="mendix.lib.MxObject";const n=e,r=n.json?.objectType;if(!n.meta||!r)throw new U(`new MxObject(): cannot create Mendix object. Check entity access for entity ${r}`);this.metaData=e.meta,this._isPartial=e.isPartial??!1,this._jsonData=e.json,this._updateFromJsonData(),this.id+="("+r+":"+this._guid+")",this._partialTreeId=this._isPartial?e.partialTreeId??Hn("partial"):void 0}resetFromJSON(e){this._jsonData=e,this._updateFromJsonData()}markAsUnavailable(){this._jsonData={guid:this._guid,attributes:{}},this._updateFromJsonData(),this._unavailable=!0}_updateFromJsonData(){this._guid=this._jsonData.guid;for(const e in this._jsonData.attributes){const n=e;this._setAttributeValue(n,this._getAttributeValue(n))}}getGuid(){return this._guid}hasChanges(){return!_p(it().getChanges(this._guid))}snapshot(){return this[M0]??(this[M0]=new Bj(this))}isUnavailable(){return this._unavailable}isPartial(){return this._isPartial}set(e,n){this._setContent(e,n)}set2(e,n){this._setContent(e,ba(n))}isReadonlyAttr(e){if(this.has(e)){const n=this._jsonData.attributes[e];return!(!n||!("readonly"in n))&&n.readonly}{const n=this.metaData.attributes[e];return n===void 0||n.isAlwaysReadOnly}}fetch(e,n,r){let i;i=e?e instanceof Array?e.slice():e.split("/"):[],this.isA(i[0])&&i.shift();let s=this;const c=()=>{if(i.length===0)n(s);else if(i.length===1)n(s.get(i[0]));else{const d=i.shift(),h=i.shift();s._fetchReference(d,h,g=>{g===void 0?n(null):Array.isArray(g)?i.length===0?n(g):l(new U(`${this.id}.fetch : ${s} reference set should be last reference in path`)):(s=g,c())},l)}};function l(d){r?r(d):Dt(d)}c()}_fetchReference(e,n,r,i){const s=this.getReferences(e);s.length!==0?it().get({guids:s,callback:c=>{if(this.isObjectReferenceSet(e))c.length===0||c[0].isA(n)?r(c):r(void 0);else{const l=c[0];l?.isA(n)?r(l):r(void 0)}},error:i}):r(void 0)}get(e){if(typeof e!="string")throw new U(`parameter attr ${e} is not of type String`);return this.has(e)?this._convertToClientValue(e,this.getRawValue(e)):null}get2(e){if(typeof e!="string")throw new U(`parameter attr ${e} is not of type String`);return Tl(this.has(e)?this._convertToClientValue(e,this.getRawValue(e)):null,this.getAttributeType(e))}getOriginalValue(e){if(typeof e!="string")throw new U(`parameter attr ${e} is not of type String`);return this.has(e)?this._convertToClientValue(e,this._getRawOriginalValue(e)):null}has(e){if(typeof e!="string")throw new U("attribute parameter is not a string");return mv(this._jsonData.attributes,e)}getReferences(e){if(typeof e!="string")throw new U(`parameter attr ${e} is not of type String.`);if(!this.has(e))return[];if(!this.isReference(e))throw new U("attribute "+e+" is not an ObjectReference(Set).");const n=this.getRawValue(e);return this.isObjectReference(e)?n==null?[]:[n]:n==null?[]:n.slice()}getOriginalReferences(e){if(typeof e!="string")throw new U(`parameter attr ${e} is not of type String.`);if(!this.has(e))return[];if(!this.isReference(e))throw new U("attribute "+e+" is not an ObjectReference(Set).");const n=this._getRawOriginalValue(e);return this.isObjectReference(e)?n==null?[]:[n]:n==null?[]:n.slice()}getReference(e){return this.get(e)}isEnum(e){return this.metaData.attributes[e]?.type==="Enum"}isNumeric(e){return nO(this.metaData.attributes[e]?.type)}isPassword(e){return this.metaData.attributes[e]?.type==="HashString"}isDate(e){return this.metaData.attributes[e]?.type==="DateTime"}isLocalizedDate(e){return!!this.metaData.attributes[e]?.isDateLocalized}isBoolean(e){return this.metaData.attributes[e]?.type==="Boolean"}isReference(e){return Va(this.metaData.attributes[e]?.type)}isObjectReference(e){return this.metaData.attributes[e]?.type==="ObjectReference"}isObjectReferenceSet(e){return this.metaData.attributes[e]?.type==="ObjectReferenceSet"}hasChildren(e){if(typeof e!="string")throw new U(`parameter attr (${e}) is not of type String.`);return!this._attributeChanged(e)&&this._hasChildren(e)}getChildren(e){if(typeof e!="string")throw new U(`parameter attr (${e}) is not of type String.`);if(!this.has(e))return[];if(!this.isReference(e))throw new U(`attribute ${e} is not an ObjectReference(Set).`);return this._attributeChanged(e)?[]:this._hasChildren(e)?this._getChildren(e):[]}getChild(e){if(typeof e!="string")throw new U(`parameter attr(${e}) is not of type String.`);if(!this.has(e))return;if(!this.isObjectReference(e))throw new U("attribute "+e+" is not an ObjectReference.");const n=this.getChildren(e);return n.length===0?null:n[0]}removeReferences(e,n){if(typeof e!="string")throw new U("parameter attr is not of type String.");if(!this.has(e))return!1;if(!this.isReference(e))throw new U("attempt to remove Reference from non-Reference attribute : "+e);const r=Array.isArray(n)?n:[n];if(this._attributeChanged(e)||!this._hasChildren(e))this.isObjectReference(e)?this._setContent(e,null):this._setContent(e,Al(this.getReferences(e),r));else{if(!this.isObjectReference(e)){const i=this._jsonData.attributes[e],s=i&&"value"in i?i.value:i;for(const l of r)delete s[l];const c=Al(this.getReferences(e),r);return this._makeChange(e,c)}this._setContent(e,null)}return!0}addReference(e,n){if(typeof e!="string")throw new U("parameter attr is not of type String.");if(!n)throw new U("parameter guid is not set.");if(!this.has(e))return!1;if(!this.isReference(e))throw new U("attempt to add Reference to non-Reference attribute : "+e);if(this.isObjectReference(e))this._setContent(e,n);else{const r=this.getReferences(e);r.join(";").match(n)||(r.push(n),this._setContent(e,r))}return!0}addReferences(e,n){if(typeof e!="string")throw new U("parameter attr is not of type String.");if(!Array.isArray(n))throw new U("parameter guids is not an Array.");if(!this.has(e))return!1;if(!this.isObjectReferenceSet(e))throw new U("attempt to add References to non-ReferenceSet attribute : "+e);const r=this.getReferences(e),i=n.filter(s=>!r.includes(s));return i.length>0&&this._setContent(e,r.concat(i)),!0}getReferenceAttributes(){return Object.values(this.metaData.attributes).filter(e=>Va(e.type)&&this.has(e.name)).map(e=>e.name)}getAttributes(){return Object.values(this.metaData.attributes).filter(e=>this.has(e.name)).map(e=>e.name)}getPrimitives(){return Object.values(this.metaData.attributes).filter(e=>!Va(e.type)&&this.has(e.name)).map(e=>e.name)}getAttributeType(e){return!!this.has(e)&&this.metaData.attributes[e].type}getSelectorEntity(e){return this.has(e)?this.metaData.attributes[e]?.referenceEntity??!1:null}getEntity(){return this.metaData.name}isPersistable(){return this.metaData.isPersistable}isRemoteFileEntity(){return!!this.metaData.isRemoteFileEntity}isNew(){return it().isNew(this._guid)}isA(e){return Ah(this.metaData.name,e)}hasSuperEntities(){return this.metaData.generalizations.length>0}getSuperEntities(){return this.metaData.generalizations}hasSubEntities(){return this.metaData.specializations.length>0}getSubEntities(){return this.metaData.specializations}inheritsFrom(e){return this.metaData.generalizations.includes(e)}toJSON(){return this._jsonData}toString(){return this._partialTreeId?`${this.getGuid()}_${this._partialTreeId}`:this.getGuid()}getRawValue(e){const n=it().getChanges(this._guid);return Object.prototype.hasOwnProperty.call(n,e)?n[e].value:this._getRawOriginalValue(e)}_getRawOriginalValue(e){return this._hasChildren(e)?this._getChildValue(e):this._getAttributeValue(e)}_attributeChanged(e){const n=it().getChanges(this._guid);return Object.prototype.hasOwnProperty.call(n,e)}_getChildren(e){return(this.isObjectReference(e)?[this._getAttributeValue(e)]:Object.values(this._getAttributeValue(e))).map(n=>im.fromJson(n,!0,this._partialTreeId))}_getChildValue(e){const n=this._getChildren(e).map(r=>r.getGuid());return this.isObjectReference(e)?n.length===0?null:n[0]:n}_convertToRuntimeValue(e,n){const r=this.getAttributeType(e),i=jj(n,r),s=jp(i,r==="String"&&n==="");if(this.isNumeric(e)&&I0(s,r)!==va.OK)throw new Error(`Cannot set invalid value '${n}' to MxObject attribute '${e}'`);return this.isDate(e)&&!this.isLocalizedDate(e)&&typeof s=="number"?fo(new Date(s)).getTime():this.isPassword(e)?n.replace(/[\s\t]+$/,"").replace(/^[\s\t]+/,""):s}_convertToClientValue(e,n){if(typeof e!="string")throw new Error("mendix/lib/MxMetaObject.isDate : parameter attr is not of type String.");const r=_l(n,this.metaData.attributes[e]?.type);return this.isDate(e)&&r!==""?this.isLocalizedDate(e)?r:lo(new Date(r)).getTime():r}_setContent(e,n){if(typeof e!="string")throw new U(`parameter attr (${e}) is not of type String.`);if(!mv(this.metaData.attributes,e))return;const r=this._convertToRuntimeValue(e,n),i=this.getRawValue(e);if(r!==i){const s=this.lockPublish();this._makeChange(e,r),this.metaData.attributes[e]?.isBidiReference&&(L0(this.isObjectReference(e)?[i]:Al(i,r)).filter(c=>!c.isReadonlyAttr(e)&&c.getReferences(e).includes(this._guid)).forEach(c=>c.removeReferences(e,[this._guid])),L0(this.isObjectReference(e)?[r]:Al(r,i)).filter(c=>!c.isReadonlyAttr(e)&&!c.getReferences(e).includes(this._guid)).forEach(c=>c.addReference(e,this._guid))),s().catch(Dt)}}_hasChildren(e){if(!this.isReference(e))return!1;const n=this._getAttributeValue(e);return n!==null&&typeof n=="object"&&!Array.isArray(n)}_getAttributeValue(e){const n=this._jsonData.attributes[e]??null;return n&&"value"in n?n.value:n}_setAttributeValue(e,n){const r=this._jsonData.attributes[e];n===void 0&&(n=null),r&&"value"in r?r.value=n:this._jsonData.attributes[e]=n}_makeChange(e,n){if(this.isUnavailable())throw new U(`Cannot modify attribute ${e} of an unavailable object.`);it().makeChange(this._guid,e,n),this.publish({guid:this._guid,attr:e}).catch(Dt)}lockPublish(){return this[Dl]++,async()=>{this[Dl]--,await this.processPublishQueue()}}async publish(e){this.publishQueue.push(e),await this.processPublishQueue()}async processPublishQueue(){if(this[Dl]!==0)return;const e=this.publishQueue.splice(0);await wn(...e)}static fromJson(e,n=!1,r){return new im({json:e,meta:Ne(e.objectType),isPartial:n,partialTreeId:r})}};function L0(t){return t.map(e=>it().getCachedObject(e)).filter(e=>e!=null)}function Al(t,e){return t.filter(n=>!e.includes(n))}R0=Dl;let Bj=class extends ke{constructor(e){super({meta:e.metaData,json:{guid:e.getGuid(),objectType:e.getEntity()}}),this._mxObject=e,this.isSnapshot=!0}resetFromJSON(e){super.resetFromJSON(e),this._mxObject.resetFromJSON(e)}markAsUnavailable(){super.markAsUnavailable(),this._mxObject.markAsUnavailable()}hasChanges(){return!1}snapshot(){return this}isReadonlyAttr(e){return!0}isPartial(){return this._mxObject.isPartial()}toString(){return this._mxObject.toString()}_fetchReference(e,n,r,i){super._fetchReference(e,n,s=>{s instanceof ke?r(s.snapshot()):Array.isArray(s)?r(s.map(c=>c.snapshot())):r(s)},i)}has(e){return this._mxObject.has(e)}toJSON(){return this._mxObject.toJSON()}_attributeChanged(e){return!1}getRawValue(e){return this._mxObject._getRawOriginalValue(e)}_getAttributeValue(e){return this._mxObject._getAttributeValue(e)}_makeChange(e){throw new U(`Cannot modify attribute ${e} of a read-only object.`)}_getChildren(e){return this._mxObject._getChildren(e).map(n=>n.snapshot())}convertToEditable(){return it().removeChanges(this.getGuid()),this._mxObject}};function Mr(t){return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mr(t)}function Ie(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function le(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function je(t){le(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Mr(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):(typeof t!="string"&&e!=="[object String]"||typeof console>"u"||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function tu(t,e){le(2,arguments);var n=je(t).getTime(),r=Ie(e);return new Date(n+r)}var Vj={};function Lr(){return Vj}function Pl(t,e){var n,r,i,s,c,l,d,h;le(1,arguments);var g=Lr(),y=Ie((n=(r=(i=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(c=e.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:g.weekStartsOn)!==null&&r!==void 0?r:(d=g.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=je(t),b=v.getDay(),x=(b<y?7:0)+b-y;return v.setDate(v.getDate()-x),v.setHours(0,0,0,0),v}function U0(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function Wj(t){if(le(1,arguments),!function(n){return le(1,arguments),n instanceof Date||Mr(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}(t)&&typeof t!="number")return!1;var e=je(t);return!isNaN(Number(e))}function Dp(t,e){return le(2,arguments),tu(t,-Ie(e))}function ho(t){le(1,arguments);var e=je(t),n=e.getUTCDay(),r=(n<1?7:0)+n-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function F0(t){le(1,arguments);var e=je(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=ho(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var c=ho(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}function z0(t){le(1,arguments);var e=je(t),n=ho(e).getTime()-function(r){le(1,arguments);var i=F0(r),s=new Date(0);return s.setUTCFullYear(i,0,4),s.setUTCHours(0,0,0,0),ho(s)}(e).getTime();return Math.round(n/6048e5)+1}function ri(t,e){var n,r,i,s,c,l,d,h;le(1,arguments);var g=Lr(),y=Ie((n=(r=(i=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(c=e.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:g.weekStartsOn)!==null&&r!==void 0?r:(d=g.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=je(t),b=v.getUTCDay(),x=(b<y?7:0)+b-y;return v.setUTCDate(v.getUTCDate()-x),v.setUTCHours(0,0,0,0),v}function Ap(t,e){var n,r,i,s,c,l,d,h;le(1,arguments);var g=je(t),y=g.getUTCFullYear(),v=Lr(),b=Ie((n=(r=(i=(s=e?.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(c=e.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&i!==void 0?i:v.firstWeekContainsDate)!==null&&r!==void 0?r:(d=v.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=new Date(0);x.setUTCFullYear(y+1,0,b),x.setUTCHours(0,0,0,0);var S=ri(x,e),C=new Date(0);C.setUTCFullYear(y,0,b),C.setUTCHours(0,0,0,0);var I=ri(C,e);return g.getTime()>=S.getTime()?y+1:g.getTime()>=I.getTime()?y:y-1}function B0(t,e){le(1,arguments);var n=je(t),r=ri(n,e).getTime()-function(i,s){var c,l,d,h,g,y,v,b;le(1,arguments);var x=Lr(),S=Ie((c=(l=(d=(h=s?.firstWeekContainsDate)!==null&&h!==void 0?h:s==null||(g=s.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&d!==void 0?d:x.firstWeekContainsDate)!==null&&l!==void 0?l:(v=x.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&c!==void 0?c:1),C=Ap(i,s),I=new Date(0);return I.setUTCFullYear(C,0,S),I.setUTCHours(0,0,0,0),ri(I,s)}(n,e).getTime();return Math.round(r/6048e5)+1}function Ye(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var Hj=function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return Ye(e==="yy"?r%100:r,e.length)},Gj=function(t,e){var n=t.getUTCMonth();return e==="M"?String(n+1):Ye(n+1,2)},qj=function(t,e){return Ye(t.getUTCDate(),e.length)},Yj=function(t,e){return Ye(t.getUTCHours()%12||12,e.length)},Qj=function(t,e){return Ye(t.getUTCHours(),e.length)},Xj=function(t,e){return Ye(t.getUTCMinutes(),e.length)},Kj=function(t,e){return Ye(t.getUTCSeconds(),e.length)},Jj=function(t,e){var n=e.length,r=t.getUTCMilliseconds();return Ye(Math.floor(r*Math.pow(10,n-3)),e.length)},Zj="midnight",eT="noon",tT="morning",nT="afternoon",rT="evening",aT="night",iT={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){var r=t.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Hj(t,e)},Y:function(t,e,n,r){var i=Ap(t,r),s=i>0?i:1-i;return e==="YY"?Ye(s%100,2):e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Ye(s,e.length)},R:function(t,e){return Ye(F0(t),e.length)},u:function(t,e){return Ye(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ye(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ye(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return Gj(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return Ye(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var i=B0(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Ye(i,e.length)},I:function(t,e,n){var r=z0(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Ye(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):qj(t,e)},D:function(t,e,n){var r=function(i){le(1,arguments);var s=je(i),c=s.getTime();s.setUTCMonth(0,1),s.setUTCHours(0,0,0,0);var l=c-s.getTime();return Math.floor(l/864e5)+1}(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ye(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var i=t.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ye(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var i=t.getUTCDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ye(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ye(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,i=t.getUTCHours();switch(r=i===12?eT:i===0?Zj:i/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,i=t.getUTCHours();switch(r=i>=17?rT:i>=12?nT:i>=4?tT:aT,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){var r=t.getUTCHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Yj(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Qj(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Xj(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Kj(t,e)},S:function(t,e){return Jj(t,e)},X:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return W0(i);case"XXXX":case"XX":return ai(i);default:return ai(i,":")}},x:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return W0(i);case"xxxx":case"xx":return ai(i);default:return ai(i,":")}},O:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+V0(i,":");default:return"GMT"+ai(i,":")}},z:function(t,e,n,r){var i=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+V0(i,":");default:return"GMT"+ai(i,":")}},t:function(t,e,n,r){var i=r._originalDate||t;return Ye(Math.floor(i.getTime()/1e3),e.length)},T:function(t,e,n,r){return Ye((r._originalDate||t).getTime(),e.length)}};function V0(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=r%60;if(s===0)return n+String(i);var c=e;return n+String(i)+c+Ye(s,2)}function W0(t,e){return t%60==0?(t>0?"-":"+")+Ye(Math.abs(t)/60,2):ai(t,e)}function ai(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t);return r+Ye(Math.floor(i/60),2)+n+Ye(i%60,2)}var H0=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},G0=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Pp={p:G0,P:function(t,e){var n,r=t.match(/(P+)(p+)?/)||[],i=r[1],s=r[2];if(!s)return H0(t,e);switch(i){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",H0(i,e)).replace("{{time}}",G0(s,e))}},oT=["D","DD"],sT=["YY","YYYY"];function q0(t){return oT.indexOf(t)!==-1}function Y0(t){return sT.indexOf(t)!==-1}function Nl(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var uT=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cT=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lT=/^'([^]*?)'?$/,dT=/''/g,fT=/[a-zA-Z]/;function Il(t,e,n){var r,i,s,c,l,d,h,g,y,v,b,x,S,C,I,P,N,T;le(2,arguments);var A=String(e),F=Lr(),$=(r=(i=n?.locale)!==null&&i!==void 0?i:F.locale)!==null&&r!==void 0?r:Hs,k=Ie((s=(c=(l=(d=n?.firstWeekContainsDate)!==null&&d!==void 0?d:n==null||(h=n.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&l!==void 0?l:F.firstWeekContainsDate)!==null&&c!==void 0?c:(y=F.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=Ie((b=(x=(S=(C=n?.weekStartsOn)!==null&&C!==void 0?C:n==null||(I=n.locale)===null||I===void 0||(P=I.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&S!==void 0?S:F.weekStartsOn)!==null&&x!==void 0?x:(N=F.locale)===null||N===void 0||(T=N.options)===null||T===void 0?void 0:T.weekStartsOn)!==null&&b!==void 0?b:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!$.localize)throw new RangeError("locale must contain localize property");if(!$.formatLong)throw new RangeError("locale must contain formatLong property");var q=je(t);if(!Wj(q))throw new RangeError("Invalid time value");var Z=Dp(q,U0(q)),ue={firstWeekContainsDate:k,weekStartsOn:j,locale:$,_originalDate:q};return A.match(cT).map(function(fe){var Te=fe[0];return Te==="p"||Te==="P"?(0,Pp[Te])(fe,$.formatLong):fe}).join("").match(uT).map(function(fe){if(fe==="''")return"'";var Te=fe[0];if(Te==="'")return function(tt){var vt=tt.match(lT);return vt?vt[1].replace(dT,"'"):tt}(fe);var lt=iT[Te];if(lt)return n!=null&&n.useAdditionalWeekYearTokens||!Y0(fe)||Nl(fe,e,String(t)),n!=null&&n.useAdditionalDayOfYearTokens||!q0(fe)||Nl(fe,e,String(t)),lt(Z,fe,$.localize,ue);if(Te.match(fT))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Te+"`");return fe}).join("")}function hT(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Q0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function X0(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(d,h){if(d){if(typeof d=="string")return Q0(d,h);var g={}.toString.call(d).slice(8,-1);return g==="Object"&&d.constructor&&(g=d.constructor.name),g==="Map"||g==="Set"?Array.from(d):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?Q0(d,h):void 0}}(t))||e){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var d=n.next();return c=d.done,d},e:function(d){l=!0,s=d},f:function(){try{c||n.return==null||n.return()}finally{if(l)throw s}}}}function ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Np(t,e){return Np=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Np(t,e)}function Le(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Np(t,e)}function Rl(t){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Rl(t)}function K0(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K0=function(){return!!t})()}function Ue(t){var e=K0();return function(){var n,r=Rl(t);if(e){var i=Rl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(s,c){if(c&&(Mr(c)=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ae(s)}(this,n)}}function De(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J0(t){var e=function(n,r){if(Mr(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,r||"default");if(Mr(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(t,"string");return Mr(e)=="symbol"?e:e+""}function Ae(t,e,n){return e&&function(r,i){for(var s=0;s<i.length;s++){var c=i[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(r,J0(c.key),c)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function re(t,e,n){return(e=J0(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Z0=function(){function t(){De(this,t),re(this,"priority",void 0),re(this,"subPriority",0)}return Ae(t,[{key:"validate",value:function(e,n){return!0}}]),t}(),pT=function(){Le(e,Z0);var t=Ue(e);function e(n,r,i,s,c){var l;return De(this,e),(l=t.call(this)).value=n,l.validateValue=r,l.setValue=i,l.priority=s,c&&(l.subPriority=c),l}return Ae(e,[{key:"validate",value:function(n,r){return this.validateValue(n,this.value,r)}},{key:"set",value:function(n,r,i){return this.setValue(n,r,this.value,i)}}]),e}(),gT=function(){Le(e,Z0);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",10),re(ae(n),"subPriority",-1),n}return Ae(e,[{key:"set",value:function(n,r){if(r.timestampIsSet)return n;var i=new Date(0);return i.setFullYear(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()),i.setHours(n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds()),i}}]),e}(),Ve=function(){function t(){De(this,t),re(this,"incompatibleTokens",void 0),re(this,"priority",void 0),re(this,"subPriority",void 0)}return Ae(t,[{key:"run",value:function(e,n,r,i){var s=this.parse(e,n,r,i);return s?{setter:new pT(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(e,n,r){return!0}}]),t}(),mT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",140),re(ae(n),"incompatibleTokens",["R","u","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}},{key:"set",value:function(n,r,i){return r.era=i,n.setUTCFullYear(i,0,1),n.setUTCHours(0,0,0,0),n}}]),e}(),e1=/^(1[0-2]|0?\d)/,yT=/^(3[0-1]|[0-2]?\d)/,bT=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,t1=/^(5[0-3]|[0-4]?\d)/,vT=/^(2[0-3]|[0-1]?\d)/,wT=/^(2[0-4]|[0-1]?\d)/,xT=/^(1[0-1]|0?\d)/,$T=/^(1[0-2]|0?\d)/,ST=/^[0-5]?\d/,kT=/^[0-5]?\d/,ET=/^\d/,OT=/^\d{1,2}/,CT=/^\d{1,3}/,jT=/^\d{1,4}/,TT=/^-?\d+/,_T=/^-?\d/,DT=/^-?\d{1,2}/,AT=/^-?\d{1,3}/,PT=/^-?\d{1,4}/,n1=/^([+-])(\d{2})(\d{2})?|Z/,r1=/^([+-])(\d{2})(\d{2})|Z/,a1=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,i1=/^([+-])(\d{2}):(\d{2})|Z/,o1=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function bt(t,e){return t&&{value:e(t.value),rest:t.rest}}function st(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function fr(t,e){var n=e.match(t);return n?n[0]==="Z"?{value:0,rest:e.slice(1)}:{value:(n[1]==="+"?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:e.slice(n[0].length)}:null}function s1(t){return st(TT,t)}function ht(t,e){switch(t){case 1:return st(ET,e);case 2:return st(OT,e);case 3:return st(CT,e);case 4:return st(jT,e);default:return st(new RegExp("^\\d{1,"+t+"}"),e)}}function u1(t,e){switch(t){case 1:return st(_T,e);case 2:return st(DT,e);case 3:return st(AT,e);case 4:return st(PT,e);default:return st(new RegExp("^-?\\d{1,"+t+"}"),e)}}function Ip(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function c1(t,e){var n,r=e>0,i=r?e:1-e;if(i<=50)n=t||100;else{var s=i+50;n=t+100*Math.floor(s/100)-(t>=s%100?100:0)}return r?n:1-n}function l1(t){return t%400==0||t%4==0&&t%100!=0}var NT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",130),re(ae(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){var s=function(c){return{year:c,isTwoDigitYear:r==="yy"}};switch(r){case"y":return bt(ht(4,n),s);case"yo":return bt(i.ordinalNumber(n,{unit:"year"}),s);default:return bt(ht(r.length,n),s)}}},{key:"validate",value:function(n,r){return r.isTwoDigitYear||r.year>0}},{key:"set",value:function(n,r,i){var s=n.getUTCFullYear();if(i.isTwoDigitYear){var c=c1(i.year,s);return n.setUTCFullYear(c,0,1),n.setUTCHours(0,0,0,0),n}var l="era"in r&&r.era!==1?1-i.year:i.year;return n.setUTCFullYear(l,0,1),n.setUTCHours(0,0,0,0),n}}]),e}(),IT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",130),re(ae(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){var s=function(c){return{year:c,isTwoDigitYear:r==="YY"}};switch(r){case"Y":return bt(ht(4,n),s);case"Yo":return bt(i.ordinalNumber(n,{unit:"year"}),s);default:return bt(ht(r.length,n),s)}}},{key:"validate",value:function(n,r){return r.isTwoDigitYear||r.year>0}},{key:"set",value:function(n,r,i,s){var c=Ap(n,s);if(i.isTwoDigitYear){var l=c1(i.year,c);return n.setUTCFullYear(l,0,s.firstWeekContainsDate),n.setUTCHours(0,0,0,0),ri(n,s)}var d="era"in r&&r.era!==1?1-i.year:i.year;return n.setUTCFullYear(d,0,s.firstWeekContainsDate),n.setUTCHours(0,0,0,0),ri(n,s)}}]),e}(),RT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",130),re(ae(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r){return u1(r==="R"?4:r.length,n)}},{key:"set",value:function(n,r,i){var s=new Date(0);return s.setUTCFullYear(i,0,4),s.setUTCHours(0,0,0,0),ho(s)}}]),e}(),MT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",130),re(ae(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r){return u1(r==="u"?4:r.length,n)}},{key:"set",value:function(n,r,i){return n.setUTCFullYear(i,0,1),n.setUTCHours(0,0,0,0),n}}]),e}(),LT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",120),re(ae(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"Q":case"QQ":return ht(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,r){return r>=1&&r<=4}},{key:"set",value:function(n,r,i){return n.setUTCMonth(3*(i-1),1),n.setUTCHours(0,0,0,0),n}}]),e}(),UT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",120),re(ae(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"q":case"qq":return ht(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,r){return r>=1&&r<=4}},{key:"set",value:function(n,r,i){return n.setUTCMonth(3*(i-1),1),n.setUTCHours(0,0,0,0),n}}]),e}(),FT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),re(ae(n),"priority",110),n}return Ae(e,[{key:"parse",value:function(n,r,i){var s=function(c){return c-1};switch(r){case"M":return bt(st(e1,n),s);case"MM":return bt(ht(2,n),s);case"Mo":return bt(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,r){return r>=0&&r<=11}},{key:"set",value:function(n,r,i){return n.setUTCMonth(i,1),n.setUTCHours(0,0,0,0),n}}]),e}(),zT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",110),re(ae(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){var s=function(c){return c-1};switch(r){case"L":return bt(st(e1,n),s);case"LL":return bt(ht(2,n),s);case"Lo":return bt(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,r){return r>=0&&r<=11}},{key:"set",value:function(n,r,i){return n.setUTCMonth(i,1),n.setUTCHours(0,0,0,0),n}}]),e}(),BT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",100),re(ae(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"w":return st(t1,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return r>=1&&r<=53}},{key:"set",value:function(n,r,i,s){return ri(function(c,l,d){le(2,arguments);var h=je(c),g=Ie(l),y=B0(h,d)-g;return h.setUTCDate(h.getUTCDate()-7*y),h}(n,i,s),s)}}]),e}(),VT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",100),re(ae(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"I":return st(t1,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return r>=1&&r<=53}},{key:"set",value:function(n,r,i){return ho(function(s,c){le(2,arguments);var l=je(s),d=Ie(c),h=z0(l)-d;return l.setUTCDate(l.getUTCDate()-7*h),l}(n,i))}}]),e}(),WT=[31,28,31,30,31,30,31,31,30,31,30,31],HT=[31,29,31,30,31,30,31,31,30,31,30,31],GT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",90),re(ae(n),"subPriority",1),re(ae(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"d":return st(yT,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){var i=l1(n.getUTCFullYear()),s=n.getUTCMonth();return i?r>=1&&r<=HT[s]:r>=1&&r<=WT[s]}},{key:"set",value:function(n,r,i){return n.setUTCDate(i),n.setUTCHours(0,0,0,0),n}}]),e}(),qT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",90),re(ae(n),"subpriority",1),re(ae(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"D":case"DD":return st(bT,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return l1(n.getUTCFullYear())?r>=1&&r<=366:r>=1&&r<=365}},{key:"set",value:function(n,r,i){return n.setUTCMonth(0,i),n.setUTCHours(0,0,0,0),n}}]),e}();function Rp(t,e,n){var r,i,s,c,l,d,h,g;le(2,arguments);var y=Lr(),v=Ie((r=(i=(s=(c=n?.weekStartsOn)!==null&&c!==void 0?c:n==null||(l=n.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&s!==void 0?s:y.weekStartsOn)!==null&&i!==void 0?i:(h=y.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&r!==void 0?r:0);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=je(t),x=Ie(e),S=((x%7+7)%7<v?7:0)+x-b.getUTCDay();return b.setUTCDate(b.getUTCDate()+S),b}var YT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",90),re(ae(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,r){return r>=0&&r<=6}},{key:"set",value:function(n,r,i,s){return(n=Rp(n,i,s)).setUTCHours(0,0,0,0),n}}]),e}(),QT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",90),re(ae(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i,s){var c=function(l){var d=7*Math.floor((l-1)/7);return(l+s.weekStartsOn+6)%7+d};switch(r){case"e":case"ee":return bt(ht(r.length,n),c);case"eo":return bt(i.ordinalNumber(n,{unit:"day"}),c);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(n,r){return r>=0&&r<=6}},{key:"set",value:function(n,r,i,s){return(n=Rp(n,i,s)).setUTCHours(0,0,0,0),n}}]),e}(),XT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",90),re(ae(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i,s){var c=function(l){var d=7*Math.floor((l-1)/7);return(l+s.weekStartsOn+6)%7+d};switch(r){case"c":case"cc":return bt(ht(r.length,n),c);case"co":return bt(i.ordinalNumber(n,{unit:"day"}),c);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(n,r){return r>=0&&r<=6}},{key:"set",value:function(n,r,i,s){return(n=Rp(n,i,s)).setUTCHours(0,0,0,0),n}}]),e}(),KT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",90),re(ae(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){var s=function(c){return c===0?7:c};switch(r){case"i":case"ii":return ht(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return bt(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return bt(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return bt(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);default:return bt(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}},{key:"validate",value:function(n,r){return r>=1&&r<=7}},{key:"set",value:function(n,r,i){return n=function(s,c){le(2,arguments);var l=Ie(c);l%7==0&&(l-=7);var d=je(s),h=((l%7+7)%7<1?7:0)+l-d.getUTCDay();return d.setUTCDate(d.getUTCDate()+h),d}(n,i),n.setUTCHours(0,0,0,0),n}}]),e}(),JT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",80),re(ae(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,r,i){return n.setUTCHours(Ip(i),0,0,0),n}}]),e}(),ZT=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",80),re(ae(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,r,i){return n.setUTCHours(Ip(i),0,0,0),n}}]),e}(),e_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",80),re(ae(n),"incompatibleTokens",["a","b","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(n,r,i){return n.setUTCHours(Ip(i),0,0,0),n}}]),e}(),t_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",70),re(ae(n),"incompatibleTokens",["H","K","k","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"h":return st($T,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return r>=1&&r<=12}},{key:"set",value:function(n,r,i){var s=n.getUTCHours()>=12;return s&&i<12?n.setUTCHours(i+12,0,0,0):s||i!==12?n.setUTCHours(i,0,0,0):n.setUTCHours(0,0,0,0),n}}]),e}(),n_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",70),re(ae(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"H":return st(vT,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return r>=0&&r<=23}},{key:"set",value:function(n,r,i){return n.setUTCHours(i,0,0,0),n}}]),e}(),r_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",70),re(ae(n),"incompatibleTokens",["h","H","k","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"K":return st(xT,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return r>=0&&r<=11}},{key:"set",value:function(n,r,i){return n.getUTCHours()>=12&&i<12?n.setUTCHours(i+12,0,0,0):n.setUTCHours(i,0,0,0),n}}]),e}(),a_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",70),re(ae(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"k":return st(wT,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return r>=1&&r<=24}},{key:"set",value:function(n,r,i){var s=i<=24?i%24:i;return n.setUTCHours(s,0,0,0),n}}]),e}(),i_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",60),re(ae(n),"incompatibleTokens",["t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"m":return st(ST,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return r>=0&&r<=59}},{key:"set",value:function(n,r,i){return n.setUTCMinutes(i,0,0),n}}]),e}(),o_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",50),re(ae(n),"incompatibleTokens",["t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r,i){switch(r){case"s":return st(kT,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return ht(r.length,n)}}},{key:"validate",value:function(n,r){return r>=0&&r<=59}},{key:"set",value:function(n,r,i){return n.setUTCSeconds(i,0),n}}]),e}(),s_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",30),re(ae(n),"incompatibleTokens",["t","T"]),n}return Ae(e,[{key:"parse",value:function(n,r){return bt(ht(r.length,n),function(i){return Math.floor(i*Math.pow(10,3-r.length))})}},{key:"set",value:function(n,r,i){return n.setUTCMilliseconds(i),n}}]),e}(),u_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",10),re(ae(n),"incompatibleTokens",["t","T","x"]),n}return Ae(e,[{key:"parse",value:function(n,r){switch(r){case"X":return fr(n1,n);case"XX":return fr(r1,n);case"XXXX":return fr(a1,n);case"XXXXX":return fr(o1,n);default:return fr(i1,n)}}},{key:"set",value:function(n,r,i){return r.timestampIsSet?n:new Date(n.getTime()-i)}}]),e}(),c_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",10),re(ae(n),"incompatibleTokens",["t","T","X"]),n}return Ae(e,[{key:"parse",value:function(n,r){switch(r){case"x":return fr(n1,n);case"xx":return fr(r1,n);case"xxxx":return fr(a1,n);case"xxxxx":return fr(o1,n);default:return fr(i1,n)}}},{key:"set",value:function(n,r,i){return r.timestampIsSet?n:new Date(n.getTime()-i)}}]),e}(),l_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",40),re(ae(n),"incompatibleTokens","*"),n}return Ae(e,[{key:"parse",value:function(n){return s1(n)}},{key:"set",value:function(n,r,i){return[new Date(1e3*i),{timestampIsSet:!0}]}}]),e}(),d_=function(){Le(e,Ve);var t=Ue(e);function e(){var n;De(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return re(ae(n=t.call.apply(t,[this].concat(i))),"priority",20),re(ae(n),"incompatibleTokens","*"),n}return Ae(e,[{key:"parse",value:function(n){return s1(n)}},{key:"set",value:function(n,r,i){return[new Date(i),{timestampIsSet:!0}]}}]),e}(),f_={G:new mT,y:new NT,Y:new IT,R:new RT,u:new MT,Q:new LT,q:new UT,M:new FT,L:new zT,w:new BT,I:new VT,d:new GT,D:new qT,E:new YT,e:new QT,c:new XT,i:new KT,a:new JT,b:new ZT,B:new e_,h:new t_,H:new n_,K:new r_,k:new a_,m:new i_,s:new o_,S:new s_,X:new u_,x:new c_,t:new l_,T:new d_},h_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g_=/^'([^]*?)'?$/,m_=/''/g,y_=/\S/,b_=/[a-zA-Z]/;function v_(t,e,n,r){var i,s,c,l,d,h,g,y,v,b,x,S,C,I,P,N,T,A;le(3,arguments);var F=String(t),$=String(e),k=Lr(),j=(i=(s=r?.locale)!==null&&s!==void 0?s:k.locale)!==null&&i!==void 0?i:Hs;if(!j.match)throw new RangeError("locale must contain match property");var q=Ie((c=(l=(d=(h=r?.firstWeekContainsDate)!==null&&h!==void 0?h:r==null||(g=r.locale)===null||g===void 0||(y=g.options)===null||y===void 0?void 0:y.firstWeekContainsDate)!==null&&d!==void 0?d:k.firstWeekContainsDate)!==null&&l!==void 0?l:(v=k.locale)===null||v===void 0||(b=v.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&c!==void 0?c:1);if(!(q>=1&&q<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Z=Ie((x=(S=(C=(I=r?.weekStartsOn)!==null&&I!==void 0?I:r==null||(P=r.locale)===null||P===void 0||(N=P.options)===null||N===void 0?void 0:N.weekStartsOn)!==null&&C!==void 0?C:k.weekStartsOn)!==null&&S!==void 0?S:(T=k.locale)===null||T===void 0||(A=T.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&x!==void 0?x:0);if(!(Z>=0&&Z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if($==="")return F===""?je(n):new Date(NaN);var ue,fe={firstWeekContainsDate:q,weekStartsOn:Z,locale:j},Te=[new gT],lt=$.match(p_).map(function(se){var $e=se[0];return $e in Pp?(0,Pp[$e])(se,j.formatLong):se}).join("").match(h_),tt=[],vt=X0(lt);try{var J=function(){var se=ue.value;r!=null&&r.useAdditionalWeekYearTokens||!Y0(se)||Nl(se,$,t),r!=null&&r.useAdditionalDayOfYearTokens||!q0(se)||Nl(se,$,t);var $e=se[0],gt=f_[$e];if(gt){var Oa=gt.incompatibleTokens;if(Array.isArray(Oa)){var Ca=tt.find(function(ja){return Oa.includes(ja.token)||ja.token===$e});if(Ca)throw new RangeError("The format string mustn't contain `".concat(Ca.fullToken,"` and `").concat(se,"` at the same time"))}else if(gt.incompatibleTokens==="*"&&tt.length>0)throw new RangeError("The format string mustn't contain `".concat(se,"` and any other token at the same time"));tt.push({token:$e,fullToken:se});var Yn=gt.run(F,se,j.match,fe);if(!Yn)return{v:new Date(NaN)};r.mxBuddhistCalendar&&["y","Y"].includes($e)&&(Yn.setter.value.year-=543),Te.push(Yn.setter),F=Yn.rest}else{if($e.match(b_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$e+"`");if(se==="''"?se="'":$e==="'"&&(se=se.match(g_)[1].replace(m_,"'")),F.indexOf(se)!==0)return{v:new Date(NaN)};F=F.slice(se.length)}};for(vt.s();!(ue=vt.n()).done;){var ce=J();if(Mr(ce)==="object")return ce.v}}catch(se){vt.e(se)}finally{vt.f()}if(F.length>0&&y_.test(F))return new Date(NaN);var he=Te.map(function(se){return se.priority}).sort(function(se,$e){return $e-se}).filter(function(se,$e,gt){return gt.indexOf(se)===$e}).map(function(se){return Te.filter(function($e){return $e.priority===se}).sort(function($e,gt){return gt.subPriority-$e.subPriority})}).map(function(se){return se[0]}),Re=je(n);if(isNaN(Re.getTime()))return new Date(NaN);var Fe,zt=Dp(Re,U0(Re)),Ee={},me=X0(he);try{for(me.s();!(Fe=me.n()).done;){var be=Fe.value;if(!be.validate(zt,fe))return new Date(NaN);var Oe=be.set(zt,Ee,fe);Array.isArray(Oe)?(zt=Oe[0],hT(Ee,Oe[1])):zt=Oe}}catch(se){me.e(se)}finally{me.f()}return zt}function d1(t){return Ml(t,[{existing:"yyy",replacement:"yyyy"},{existing:"E",replacement:"e"},{existing:"EE",replacement:"ee"},{existing:"YYY",replacement:"YYYY"},{existing:"Z",replacement:"XX"},{existing:"ZZ",replacement:"XX"},{existing:"ZZZ",replacement:"XX"},{existing:"ZZZZ",replacement:"zzzz"}])}function f1(t){return Ml(t,[{existing:"GGGG",replacement:"GGG"},{existing:"GGGGG",replacement:"GGG"},{existing:"GGGGGG",replacement:"GGG"},{existing:"MMMMM",replacement:"MMMM"},{existing:"E",replacement:"EEE"},{existing:"EE",replacement:"EEE"},{existing:"EEEEE",replacement:"EEEE"},{existing:"EEEEEE",replacement:"EEEE"},{existing:"S",replacement:"SSS"},{existing:"SS",replacement:"SSS"},{existing:"SSSS",replacement:"'0'SSS"},{existing:"SSSSS",replacement:"'00'SSS"},{existing:"SSSSSS",replacement:"'000'SSS"},{existing:"W",replacement:"'W'"},{existing:"WW",replacement:"'WW'"},{existing:"WWW",replacement:"'WWW'"},{existing:"WWWW",replacement:"'WWWW'"},{existing:"WWWWW",replacement:"'WWWWW'"},{existing:"WWWWWW",replacement:"'WWWWWW'"},{existing:"F",replacement:"'F'"},{existing:"FF",replacement:"'FF'"},{existing:"FFF",replacement:"'FFF'"},{existing:"FFFF",replacement:"'FFFF'"},{existing:"FFFFF",replacement:"'FFFFF'"},{existing:"FFFFFF",replacement:"'FFFFFF'"},{existing:"Z",replacement:"'Z'"},{existing:"ZZ",replacement:"'ZZ'"},{existing:"ZZZ",replacement:"'ZZZ'"},{existing:"ZZZZ",replacement:"'ZZZZ'"},{existing:"ZZZZZ",replacement:"'ZZZZZ'"},{existing:"ZZZZZZ",replacement:"'ZZZZZZ'"},{existing:"z",replacement:"'z'"},{existing:"zz",replacement:"'zz'"},{existing:"zzz",replacement:"'zzz'"},{existing:"zzzz",replacement:"'zzzz'"},{existing:"zzzzz",replacement:"'zzzzz'"},{existing:"zzzzzz",replacement:"'zzzzzz'"},{existing:"X",replacement:"'X'"},{existing:"XX",replacement:"'XX'"},{existing:"XXX",replacement:"'XXX'"},{existing:"XXXX",replacement:"'XXXX'"},{existing:"XXXXX",replacement:"'XXXXX'"},{existing:"XXXXXX",replacement:"'XXXXXX'"}])}function Ml(t,e){const n=t.match(/''|'(?:''|[^'])+(?:'|$)|(.)\1*/g)??[];return e.reduce((r,{existing:i,replacement:s})=>r.map(c=>c===i?s:c),n).join("")}function h1(t){return/th$/i.test(t)}function w_(t,e,n){const r=function(s){return le(1,arguments),je(s).getFullYear()}(e)+543,i=function(s,c){var l,d,h,g,y,v,b,x;le(1,arguments);var S=je(s),C=S.getFullYear(),I=Lr(),P=Ie((l=(d=(h=(g=c?.firstWeekContainsDate)!==null&&g!==void 0?g:c==null||(y=c.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&h!==void 0?h:I.firstWeekContainsDate)!==null&&d!==void 0?d:(b=I.locale)===null||b===void 0||(x=b.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var N=new Date(0);N.setFullYear(C+1,0,P),N.setHours(0,0,0,0);var T=Pl(N,c),A=new Date(0);A.setFullYear(C,0,P),A.setHours(0,0,0,0);var F=Pl(A,c);return S.getTime()>=T.getTime()?C+1:S.getTime()>=F.getTime()?C:C-1}(e,{locale:t})+543;return Ml(n,[{existing:"yy",replacement:`'${p1(r)}'`},{existing:"yyyy",replacement:`'${r}'`},{existing:"YY",replacement:`  ${p1(i)}'`},{existing:"YYYY",replacement:`'${i}'`}])}function p1(t){return t.toString().slice(-2)}function nu(t,e){let n=d1(Mp(e));if(h1(Dr().languageTag)&&(n=w_(gl(),t,n)),n.includes("u")){const{startIndex:r,endIndex:i,convertedPattern:s}=m1(n),c=Il(t,s,Lp());return c.slice(0,r)+"0".repeat(i-r)+c.slice(r)}return Il(t,n,Lp())}function Ll(t,e,n=new Date){const r=d1(Mp(e)),i={...Lp(),mxBuddhistCalendar:h1(Dr().languageTag)},s=Ml(r,[{existing:"yyyy",replacement:"yy"}]),c=[s,r,g1(r),g1(s)];for(const l of c){const{startIndex:d,endIndex:h,convertedPattern:g}=m1(l),y=t.slice(0,d)+t.slice(h);try{const v=v_(y,g,n,i);if(!isNaN(v.getTime()))return v}catch{continue}}try{const l=Date.parse(t);if(!isNaN(l))return new Date(t)}catch{return}}function g1(t){return t.replace("\xA0"," ").replace("\u2007"," ").replace("\u202F"," ")}function Mp(t={type:"datetime"}){return t.type!=="custom"?Dr().patterns[t.type]:t.pattern}function x_(t){return Mp(t).replace(/('.*?(?:'|$))|(\w)+/g,(e,n,r)=>n?n==="''"?"'":n.replace(/'/g,""):r==="a"?Dr().dates.dayPeriods.join("/"):e.toLowerCase())}function Lp(){return{useAdditionalDayOfYearTokens:!0,useAdditionalWeekYearTokens:!0,locale:gl()}}function m1(t){return{startIndex:t.indexOf("u"),endIndex:t.lastIndexOf("u"),convertedPattern:t.replace(/u+/g,"i")}}function ru(t,e){le(2,arguments);var n=je(t),r=Ie(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function au(t,e){le(2,arguments);var n=je(t),r=Ie(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),s=new Date(n.getTime());return s.setMonth(n.getMonth()+r+1,0),i>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),i),n)}function Up(t,e){return le(2,arguments),au(t,12*Ie(e))}function Fp(t,e){return le(2,arguments),ru(t,-Ie(e))}function y1(t,e){return le(2,arguments),au(t,-Ie(e))}function b1(t,e){return le(2,arguments),Up(t,-Ie(e))}function Ul(t,e){const{numbers:n}=Dr();if(!function(i,s,c){const l=`\\${c}\\d+`;return!!new RegExp(`^-?((\\d+|\\d{1,3}(?:\\${s}\\d{3})*)(${l})?|${l})(e[+-]?\\d+)?$`).exec(i)}(t,n.groupingSeparator,n.decimalSeparator))return;let r;try{r=new ee(t.split(n.groupingSeparator).join("").split(n.decimalSeparator).join("."))}catch{return}return e!=null&&e>=0?r.round(e):r}function Fl(t,e,n){const{numbers:r}=Dr(),i=t.lt(0),s=n!==void 0&&n<0?void 0:n;let[c,l=""]=t.toFixed(s).split(".");if(!c)throw new Error(`Value '${t}' cannot be formatted as number.`);return i&&(c=c.slice(1)),e&&(c=function(d,h=3){const g=[];let y=d;for(;y.length>h;){const v=y.length-h;g.unshift(y.substring(v)),y=y.substring(0,v)}return y&&g.unshift(y),g}(c).join(r.groupingSeparator)),l&&(l=r.decimalSeparator+l),(i?r.minusSign:"")+c+l}function v1(t,e,n){if(t===void 0)return"";switch(e){case"Decimal":case"Integer":case"Long":if(!(t instanceof ee))throw new Error(`Value '${t}' cannot be formatted as a numeric value.`);const r=n,i=r?.groupDigits,s=r?.decimalPrecision;return Fl(t,i,s);case"DateTime":if(!(t instanceof Date))throw new Error(`Value '${t}' cannot be formatted as Date.`);return nu(t,n);case"Boolean":return Me("mxui.common",t.toString());default:return String(t)}}function w1(t,e){le(2,arguments);var n=Ie(e);return tu(t,36e5*n)}function po(t){le(1,arguments);var e=je(t);return e.setHours(0,0,0,0),e}function x1(t,e){le(2,arguments);var n=Ie(e);return tu(t,6e4*n)}function $1(t,e){le(2,arguments);var n=Ie(e);return au(t,3*n)}function S1(t,e){le(2,arguments);var n=Ie(e);return tu(t,1e3*n)}function k1(t,e){le(2,arguments);var n=Ie(e);return ru(t,7*n)}function zl(t){le(1,arguments);var e=je(t);return e.setHours(23,59,59,999),e}function E1(t){le(1,arguments);var e=je(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function O1(t){le(1,arguments);var e=je(t);return e.setSeconds(0,0),e}function zp(t){le(1,arguments);var e=je(t);return e.setDate(1),e.setHours(0,0,0,0),e}function C1(t){le(1,arguments);var e=je(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function Bp(t){le(1,arguments);var e=je(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function j1(t,e){var n,r,i,s,c,l,d,h;le(1,arguments);var g=Lr(),y=Ie((n=(r=(i=(s=e?.weekStartsOn)!==null&&s!==void 0?s:e==null||(c=e.locale)===null||c===void 0||(l=c.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&i!==void 0?i:g.weekStartsOn)!==null&&r!==void 0?r:(d=g.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.weekStartsOn)!==null&&n!==void 0?n:0);if(!(y>=0&&y<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=je(t),b=v.getDay(),x=6+(b<y?-7:0)-(b-y);return v.setDate(v.getDate()+x),v.setHours(23,59,59,999),v}function T1(t){le(1,arguments);var e=je(t);return e.setMinutes(0,0,0),e}const Bl=new Set;function $_(t){t.forEach(e=>Bl.add(e))}function S_(t){t.forEach(e=>Bl.delete(e))}function k_(){Bl.clear()}function _1(t){return Bl.has(t)}function D1(t,e,n){return function(r,i,s){switch(i){case"ObjectReferenceSet":return Array.isArray(r)?r.map(c=>s(c)):new Array;case"ObjectReference":return r!==void 0?s(r):void 0;default:return r}}(A0(t,e),e,n)}function A1(t){const e=P1(t),n=ba(e);return jp(n,t==="")}function P1(t){return gv(ke,t)?t.map(e=>e.getGuid()):t instanceof ke?t.getGuid():t}function N1(t){switch(typeof t){case"undefined":case"string":case"boolean":return t;case"number":return new ee(t);default:if(t instanceof ee||t instanceof Date||t instanceof ke)return t;if(t===null)return;if(Array.isArray(t)){if(t.every(e=>e instanceof ke))return t;throw new U(`Array ${t.join(", ")} cannot be used as Nanoflow variable, because it contains something else then MxObjects.`)}throw new U(`Value ${t} cannot be used as Nanoflow variable.`)}}function I1(t){if(t!==void 0)return Gn(t)?{guids:t.map(e=>e.getGuid())}:t instanceof ke?{guid:t.getGuid()}:{value:A1(t)}}function R1(t,e){return Dj(t.getRawValue(e),t.getAttributeType(e))}function Gn(t){return Array.isArray(t)&&t.every(e=>e instanceof ke)}let iu=class BS extends Error{constructor(e,n,r){super(`Unable to get a member from variable $${e}, because you do not have sufficient permissions to "${n}.${r}".`),this.variableName=e,this.entityName=n,this.attributeName=r,Object.setPrototypeOf(this,BS.prototype)}},Vp=class VS extends Error{constructor(e){super(`Unable to get a member from an empty variable $${e}.`),this.variableName=e,Object.setPrototypeOf(this,VS.prototype)}},Vl=!1;async function E_(t){if(Vl)throw new Za(Me("mxui.sys.UI","simultaneous_sync_error"));Vl=!0,await wn({param:"synchronizationState"});try{return await t()}finally{Vl=!1,await wn({param:"synchronizationState"})}}function de(t,...e){return`Operator ${t} not supported in expression ${t}(${e.join(", ")})`}function ou(t){const e=Number(t);if(isNaN(e))throw new U("Unexpected expression value");return e}const O_={calendarMonthsBetween:function(t,e){le(2,arguments);var n=je(t),r=je(e);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())},calendarYearsBetween:function(t,e){le(2,arguments);var n=je(t),r=je(e);return n.getFullYear()-r.getFullYear()}},C_={addMilliseconds:tu,addSeconds:S1,addMinutes:x1,addHours:w1,addDays:ru,addWeeks:k1,addMonths:au,addQuarters:$1,addYears:Up},j_={beginOfDay:po,beginOfMonth:zp,beginOfYear:Bp},T_={endOfDay:zl,endOfMonth:E1,endOfYear:C1},__={beginOfWeek:Pl,endOfWeek:j1},D_={subtractMilliseconds:Dp,subtractSeconds:function(t,e){return le(2,arguments),S1(t,-Ie(e))},subtractMinutes:function(t,e){return le(2,arguments),x1(t,-Ie(e))},subtractHours:function(t,e){return le(2,arguments),w1(t,-Ie(e))},subtractDays:Fp,subtractWeeks:function(t,e){return le(2,arguments),k1(t,-Ie(e))},subtractMonths:y1,subtractQuarters:function(t,e){return le(2,arguments),$1(t,-Ie(e))},subtractYears:b1},A_={trimToSeconds:function(t){le(1,arguments);var e=je(t);return e.setMilliseconds(0),e},trimToMinutes:O1,trimToHours:T1,trimToDays:po,trimToMonths:zp,trimToYears:Bp},P_={dateTime:(...t)=>M1(t,!1,()=>de("dateTime",...t)),dateTimeUTC:(...t)=>M1(t,!0,()=>de("dateTimeUTC",...t)),dateTimeToEpoch(t){if(t instanceof Date)return new ee(t.getTime());throw new Error(de("dateTimeToEpoch",t))},epochToDateTime(t){if(t instanceof ee)return new Date(Number(t));throw new Error(de("epochToDateTime",t))},...wa({millisecondsBetween:1,secondsBetween:1e3,minutesBetween:6e4,hoursBetween:36e5,daysBetween:864e5,weeksBetween:6048e5},function(t,e,n){const r=t[0],i=t[1];if(r instanceof Date&&i instanceof Date)return new ee(r.getTime()).sub(i.getTime()).abs().div(e);throw new Error(n())},!1),...wa(O_,function(t,e,n){const[r,i]=t;if(r instanceof Date&&i instanceof Date)return new ee(e(r,i)).abs();throw new Error(n())},!1),...wa(C_,L1,!0),...wa(j_,U1,!1),...wa(__,function(t,e,n){const r=t[0];if(r instanceof Date)return e(r,{locale:gl()});throw new Error(n())},!1),...wa(T_,U1,!1),...wa(D_,L1,!0),...wa(A_,function(t,e,n,r){let i=t[0];if(i instanceof Date){r&&(i=lo(i));let s=e(i);return r&&(s=fo(s)),s}throw new Error(n())},!0)};function M1(t,e,n){const r=t.map(i=>{if(i instanceof ee)return Number(i);throw new Error(n())});return r.length===1&&r.push(1),r[1]=H(r[1])-1,e?new Date(Date.UTC(...r)):new Date(...r)}function L1(t,e,n,r){let i=t[0];const s=t[1];if(i instanceof Date&&s instanceof ee){r&&(i=lo(i));let c=e(i,Number(s));return r&&(c=fo(c)),c}throw new Error(n())}function U1(t,e,n){const r=t[0];if(r instanceof Date)return e(r);throw new Error(n())}function wa(t,e,n){return Object.entries(t).reduce((r,[i,s])=>{if(r[i]=(...c)=>e(c,s,()=>de(i,...c)),n){const c=`${i}UTC`;r[c]=(...l)=>e(l,s,()=>de(c,...l),!0)}return r},{})}const N_={toString:t=>t instanceof ee?t.toString():t===void 0?"":t instanceof Date?nu(t,{type:"datetime"}):String(t),parseInteger(t,e){if(typeof t=="string"){if(/^-?\d+$/.test(t)){const n=new ee(t);return n.eq(-0)?n.abs():n}if(e===void 0)throw new Error(`Not parsable to Integer: ${t}`);return e}throw new Error(de("parseInteger",t))},parseDecimal(t,e){if(typeof t=="string"){const n=Ul(t);if(n===void 0&&e===void 0)throw new Error(`Not parsable to Decimal: ${t}`);return n??e}throw new Error(de("parseDecimal",t))},formatDecimal(t){if(t instanceof ee)return Fl(t);throw new Error(de("formatDecimal",t))},parseDateTime:(...t)=>F1(t,!1,de("parseDateTime",...t)),parseDateTimeUTC:(...t)=>F1(t,!0,de("parseDateTimeUTC",...t)),formatDate:t=>go(t,{type:"date"},!1,de("formatDate",t)),formatDateUTC:t=>go(t,{type:"date"},!0,de("formatDateUTC",t)),formatTime:t=>go(t,{type:"time"},!1,de("formatTime",t)),formatTimeUTC:t=>go(t,{type:"time"},!0,de("formatTimeUTC",t)),formatDateTime:(...t)=>go(t[0],z1(t[1]),!1,de("formatDateTime",...t)),formatDateTimeUTC:(...t)=>go(t[0],z1(t[1]),!0,de("formatDateTimeUTC",...t)),getCaption(t,e){if(t===void 0)return"";if(typeof t=="string"&&typeof e=="string")return _0(e,t);throw new Error(de("getCaption",t,e))},getKey(t){if(t===void 0)return"";if(typeof t=="string")return t;throw new Error(de("getKey",t))},_format(t,e){if(typeof e=="string"){const n=JSON.parse(e),r=t instanceof ee?"Decimal":t instanceof Date?"DateTime":typeof t=="boolean"?"Boolean":"String";return v1(t,r,n)}throw new Error(de("_format",t,e))}};function F1(t,e,n){const[r,i,s]=t;if(typeof r=="string"&&typeof i=="string"){const c=Ll(r.trim(),{type:"custom",pattern:f1(i.trim())});if(c instanceof Date)return e?fo(c):c;if(s instanceof Date)return s;throw new Error(`Unparseable date: "${r}"`)}throw new Error(n)}function go(t,e,n,r){if(t instanceof Date)return n&&(t=lo(t)),e.type!=="custom"&&(e={type:"custom",pattern:Dr().nanoflowPatterns[e.type]}),nu(t,e);throw new Error(r)}function z1(t){return typeof t=="string"?{type:"custom",pattern:f1(t)}:{type:"datetime"}}const I_={_newList:()=>[],_toList:t=>qn(t,de("_toList",t)),_addToList(t,e){const n=qn(t,de("_addToList",t,e)),r=qn(e,de("_addToList",t,e));return n.concat(r)},_removeFromList(t,e){const n=qn(t,de("_removeFromList",t,e)),r=qn(e,de("_removeFromList",t,e));return jt(n.filter(i=>!r.includes(i)))},_unionLists(t,e){const n=qn(t,de("_unionLists",t,e)),r=qn(e,de("_unionLists",t,e));return jt(n.concat(r))},_intersectLists(t,e){const n=qn(t,de("_intersectLists",t,e)),r=qn(e,de("_intersectLists",t,e));return jt(n.filter(i=>r.includes(i)))},_listContains(t,e){const n=qn(t,de("_listContains",t,e)),r=qn(e,de("_listContains",t,e));return r.length>0&&r.every(i=>n.includes(i))},_head(t){if(t instanceof Array)return t.length>0?t[0]:void 0;if(t!==void 0)throw new Error(de("_head",t))}};function qn(t,e){if(t instanceof Array)return t;if(VE(t))return t.length>0?[t]:[];if(t===void 0)return[];throw new Error(e)}const R_={toUpperCase:t=>St(t).toUpperCase(),toLowerCase:t=>St(t).toLowerCase(),trim:t=>St(t).trim(),startsWith:(t,e)=>(t=St(t),e=St(e),t.substr(0,e.length)===e),endsWith:(t,e)=>(t=St(t),e=St(e),t.substr(t.length-e.length)===e),substring(t,e,n){if(t=St(t),e?.gte(0)){if(arguments.length===2)return t.substr(Number(e));if(n?.gte(0))return t.substr(Number(e),Number(n))}throw new Error(de("substring",t,e,n))},find(t,e,n){if(t=St(t),e=St(e),arguments.length===2)return new ee(t.indexOf(e));if(n!==void 0)return new ee(t.indexOf(e,Number(n)));throw new Error(de("find",t,e,n))},findLast(t,e,n){if(t=St(t),e=St(e),arguments.length===2)return new ee(t.lastIndexOf(e));if(n!==void 0)return new ee(t.lastIndexOf(e,Number(n)));throw new Error(de("findLast",t,e,n))},urlEncode:t=>encodeURIComponent(St(t)),urlDecode:t=>decodeURIComponent(St(t).replace(new RegExp("\\+","g"),"%20")),isMatch(t,e){if(e!==void 0)return new RegExp(`^(${e})$`).test(St(t));throw new Error(de("isMatch",t,e))},replaceFirst(t,e,n){if(e!==void 0&&n!==void 0){const r=n.replace(/\$/g,"$$$$");return St(t).replace(new RegExp(e),r)}throw new Error(de("replaceFirst",t,e))},replaceAll(t,e,n){if(e!==void 0&&n!==void 0){const r=n.replace(/\$/g,"$$$$");return St(t).replace(new RegExp(e,"g"),r)}throw new Error(de("replaceAll",t,e))}};function St(t){return t===void 0?"":t}const mo={not:t=>!t,"=":(t,e)=>t instanceof ee&&e instanceof ee?t.eq(e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():typeof t=="string"||typeof e=="string"?(t??"")===(e??""):t instanceof Array&&e instanceof Array?t.length===e.length&&t.every(n=>e.includes(n)):t instanceof Array&&e===void 0?t.length===0:t===void 0&&e instanceof Array?e.length===0:t===e,"!=":(t,e)=>!mo["="](t,e),">"(t,e){if(t instanceof ee&&e instanceof ee)return t.gt(e);if(t instanceof Date&&e instanceof Date)return t.getTime()>e.getTime();if(t===void 0||e===void 0)throw new Error(de(">",t,e));return t>e},">=":(t,e)=>mo["="](t,e)||mo[">"](t,e),"<"(t,e){if(t instanceof ee&&e instanceof ee)return t.lt(e);if(t instanceof Date&&e instanceof Date)return t.getTime()<e.getTime();if(t===void 0||e===void 0)throw new Error(de("<",t,e));return t<e},"<=":(t,e)=>mo["="](t,e)||mo["<"](t,e),contains:(t,e)=>t instanceof Array&&typeof e=="string"?t.includes(e):t instanceof Array&&e instanceof Array?e.every(n=>t.includes(n)):St(t).includes(St(e))},Wp={"+"(t,e){if(t instanceof ee&&e instanceof ee)return t.plus(e);if(typeof t=="string")return t+(e!==void 0?e.toString():"");if(typeof e=="string")return(t!==void 0?t.toString():"")+e;throw new Error(de("+",t,e))},"-"(t,e){if(arguments.length===1&&t!==void 0)return t.times(-1);if(t!==void 0&&e!==void 0)return t.minus(e);throw new Error(de("-",t,e))},"*"(t,e){if(t!==void 0&&e!==void 0)return t.times(e);throw new Error(de("*",t,e))},div(t,e){if(t!==void 0&&e!==void 0)return t.div(e);throw new Error(de("div",t,e))},mod(t,e){if(t!==void 0&&e!==void 0)return t.mod(e);throw new Error(de("mod",t,e))},":":(t,e)=>Wp.div(t,e),max(...t){if(t[0]instanceof ee)return t.reduce((e,n)=>e.gt(n)?e:n);if(t[0]instanceof Date)return t.reduce((e,n)=>e.getTime()>n.getTime()?e:n);throw new Error(de("max",...t))},min(...t){if(t[0]instanceof ee)return t.reduce((e,n)=>e.lt(n)?e:n);if(t[0]instanceof Date)return t.reduce((e,n)=>e.getTime()<n.getTime()?e:n);throw new Error(de("min",...t))},round(t,e){if(t instanceof ee)return t.round(e===void 0?0:Number(e));throw new Error(de("round",t))},random:()=>new ee(Math.random()),floor(t){if(t instanceof ee){const e=t.mod(1);return e.eq(0)?t.eq(-0)?t.abs():t:t.minus(e).minus(t.lt(0)?1:0)}throw new Error(de("floor",t))},ceil(t){if(t instanceof ee){const e=Wp.floor(t.times(-1));return e.eq(0)?e:e.times(-1)}throw new Error(de("ceil",t))},pow(t,e){if(t instanceof ee&&e instanceof ee)return Number(e)===Math.floor(Number(e))?t.pow(Number(e)):new ee(Math.pow(Number(t),Number(e)));throw new Error(de("pow",t))},abs(t){if(t instanceof ee)return t.abs();throw new Error(de("abs",t))},sqrt(t){if(t instanceof ee&&t.gte(0))return t.sqrt();throw new Error(de("sqrt",t))}},M_={...P_,...I_,...mo,...Wp,...R_,...N_,length:t=>Array.isArray(t)?new ee(t.length):new ee(St(t).length),isNew:t=>t!==void 0&&it().isNew(t),isSynced(t){if(t!==void 0)return!_1(t);throw new Error(de("isSynced",t))},isSyncing:{fn:()=>Vl,staticDependencies:[{param:"synchronizationState"}]},_hasSomeRole:(...t)=>xt().hasSomeRole(t),_isNamedUser:()=>!xt().isGuest(),_catchEmptyVar:{fn:(t,e)=>t??e,errorHandler:(t,e)=>e===0&&t instanceof Vp?{value:void 0}:void 0}},B1=(V1=M_,t=>{const e=V1[t];if(function(n){return typeof n=="object"&&n!==null?!(!("fn"in n)||typeof n.fn!="function"||"staticDependencies"in n&&!Array.isArray(n.staticDependencies)||"errorHandler"in n&&typeof n.errorHandler!="function"):typeof n=="function"}(e))return e;throw new Error(`Function ${t} is not known`)});var V1;function W1(t,e){return t.some(n=>n instanceof Promise)?Promise.all(t).then(e):e(t)}let su=class{constructor(e,n){this.getVariable=e,this.dependencies=[];const{trackDependencies:r=!0,allowEmptyVariablesAccess:i=!1}=n??{};this.trackDependencies=r,this.allowEmptyVariableAccess=i}resolveVariable(e){const n=this.getVariable(e);return this.trackDependencies&&(gv(ke,n)?n.forEach(r=>this.addDependency({guid:r.getGuid()})):n instanceof ke&&this.addDependency({guid:n.getGuid()})),P1(n)}resolveAttribute(e,n){const r=this.resolveWidgetVariable(e);return r instanceof Promise?r.then(i=>i===void 0?void 0:this.resolveAttributeOf(i,n,e)):r===void 0?void 0:this.resolveAttributeOf(r,n,e)}async resolvePath(e,n){const r=n.split("/"),i=r.length%2==1?r.pop():void 0,s=await this.resolveWidgetVariable(e);if(s===void 0)return s;let c=[s],l=!1,d=H(c[0]).getEntity();for(let h=0;h<r.length;h+=2){const g=r[h],y=r[h+1],v=Bc(d,g);if(!v)throw new iu(e,d,g);v==="ObjectReferenceSet"&&(l=!0);const b=d;d=y;const x=ia(c.flatMap(C=>{if(!C.has(g))throw new iu(e,b,g);return C.getChildren(g)}),C=>C.getGuid());if(x.length){c=x.filter(C=>C.isA(y));continue}const S=jt(c.flatMap(C=>{if(this.addDependency({guid:C.getGuid(),attr:g}),!C.has(g))throw new iu(e,b,g);return C.getReferences(g)}));this.trackDependencies&&S.forEach(C=>this.addDependency({guid:C})),c=(await ti(S)).filter(C=>C.isA(y))}if(i===void 0){const h=c.map(g=>g.getGuid());return l?h:h[0]}if(l)throw new U;return c.length?this.resolveAttributeOf(H(c[0]),i,e):void 0}getDependencies(){return this.dependencies.slice()}resolveWidgetVariable(e){const n=this.getVariable(e);if(this.checkEmptyVariableAccess(n,e),n!==void 0){if(n instanceof ke)return this.addDependency({guid:n.getGuid()}),n;if(typeof n=="string"){const r=n;return this.addDependency({guid:r}),ao(r).then(i=>(this.checkEmptyVariableAccess(i,e),i))}throw new U}}checkEmptyVariableAccess(e,n){if(e===void 0&&!this.allowEmptyVariableAccess)throw new Vp(n)}resolveAttributeOf(e,n,r){if(n==="type")return e.getEntity();if(!e.has(n))throw new iu(r,e.getEntity(),n);return this.addDependency({guid:e.getGuid(),attr:n}),e.get2(n)}addDependency(e){this.trackDependencies&&(this.dependencies.find(n=>ga(n,e))||this.dependencies.push(e))}};function H1(t,e){return(n,r)=>ru(t(n,r),e)}function G1(t,e){return(n,r)=>Fp(t(n,r),e)}const L_={beginOfCurrentMinute:O1,endOfCurrentMinute:function(t){le(1,arguments);var e=je(t);return e.setSeconds(59,999),e},beginOfCurrentHour:T1,endOfCurrentHour:function(t){le(1,arguments);var e=je(t);return e.setMinutes(59,59,999),e},beginOfCurrentDay:po,endOfCurrentDay:zl,beginOfCurrentWeek:Pl,endOfCurrentWeek:j1,beginOfCurrentMonth:zp,endOfCurrentMonth:E1,beginOfCurrentYear:Bp,endOfCurrentYear:C1,beginOfYesterday:G1(po,1),endOfYesterday:G1(zl,1),beginOfTomorrow:H1(po,1),endOfTomorrow:H1(zl,1)};function q1(t){const e={currentUser:()=>xt().getUserId(),currentDateTime:t};return Object.entries(L_).forEach(([n,r])=>{e[n]=()=>r(t(),{locale:gl()}),e[n+"UTC"]=()=>fo(r(lo(t())))}),e}const U_=_t.get().getLogger(),uu=new class{constructor(t,e,n){this.getExpressionFunction=t,this.expressionTokens=e,this.getConstants=n}evaluate(t,e){switch(t.type){case"variable":return t.path?t.path.includes("/")?e.resolvePath(t.variable,t.path):e.resolveAttribute(t.variable,t.path):e.resolveVariable(t.variable);case"conditional":return W1([this.evaluate(t.condition,e)],([s])=>this.evaluate(s?t.then:t.else,e));case"function":const n=this.getExpressionFunction(t.name),r=function(s){return"errorHandler"in s}(n)?n.errorHandler:void 0;return W1(function(s,c,l,d){const h=[];let g=!1;return l.forEach((y,v)=>{let b;try{b=s.evaluate(y,c),b instanceof Promise&&(b=b.then(void 0,x=>{const S=d?.(x,v);return S?Promise.resolve(S.value):Promise.reject(x)}),g=!0)}catch(x){const S=d?.(x,v);if(S)b=S.value;else{if(!g)throw x;b=Promise.reject(x)}}h.push(b)}),h}(this,e,t.parameters,r),s=>{const c="fn"in n?n.fn:n;return function(l){return"staticDependencies"in l}(n)&&n.staticDependencies.forEach(l=>{e.addDependency(l)}),c(...s)});case"literalNumeric":return new ee(t.value);case"literal":return t.value??void 0;case"token":return H(this.expressionTokens[t.name])();case"constant":const i=H(this.getConstants().find(({name:s})=>t.name===s));return A0(i.value,i.type)}}}(B1,q1(()=>new Date),()=>xt().getConstants());function F_(t,e){const n=new su(r=>H(e[r])());return function(r){if(r instanceof Promise)throw new U;return r}(uu.evaluate(t.expr,n))}async function z_(t,e){const n=new su(r=>function(i){if(i){if("object"in i)return i.object;if("objects"in i)return i.objects;throw new U}}(e[r]));return uu.evaluate(t,n)}async function B_(t,e){const n=new su(r=>r==="currentObject"?e:Ct(),{trackDependencies:!1});return uu.evaluate(t,n)}async function kt(t,e,n){const r=await uu.evaluate(t,new su(i=>e.get(i),{trackDependencies:!1,allowEmptyVariablesAccess:!0}));switch(n){case"primitive":return r;case"list":return Array.isArray(r)?ti(r):r===void 0?[]:Ct();case"object":return typeof r=="string"?ao(r):r===void 0?void 0:Ct()}}function Y1(t,e,n,r={}){return qp(t,n,e,i=>Hp(t,n,i),r)}function Hp(t,e,n){Gp(n)||Ct();const{widget:r,source:i}=n,[s]=e.useSlot(r,i);return Se(`Parameter of ${Ln(t)}: ${zi(r)}`,()=>s.dependOn()??(i==="object"||i==="localvariable"?Vn():void 0))}function Gp(t){return t.source!=="actionvariable"}function qp(t,e,n,r,i={}){const s=kr(n.args,r),[c,l]=$w(`Dependencies of ${Ln(t)}`,{}),d=zs(`Computation of ${Ln(t)}`,()=>{c.dependOn();const g=[],y=new su(x=>{if(KE(x,i)){const I=H(i[x]);return g.push(()=>I.dependOn()),Tn(I)}const S=H(s[x]);g.push(()=>S.dependOn());const C=Tn(S);if(C&&typeof C=="object"&&"status"in C){if(C.status==="loading")throw new Q1;return C.status==="available"?C.value instanceof ke&&C.value.isUnavailable()?void 0:C.value:void 0}return C});try{const x=uu.evaluate(n.expr,y);return x instanceof Promise?[v(Vn()),x.then(S=>v(Xe(S)),b)]:v(Xe(x))}catch(x){return b(x)}function v(x){return g.push(...y.getDependencies().map(S=>()=>Wn(S,e))),Xe(jn(x,g))}function b(x){return x instanceof Q1?v(Vn()):x instanceof iu||x instanceof Vp?(U_.debug(`An error occurred while evaluating ${Ln(t)}: ${x.message}`),v(Ht())):(Dt(new Error(`An error occurred while evaluating ${Ln(t)}: ${x instanceof Error?x.message:x}`)),v(Ht()))}}),h=ep(d);return Se(t,()=>{const g=d.dependOn();if(g.status!=="available")throw new U;return g.value[1].forEach(y=>y()),g===h.dependOn()&&rp(ln(()=>l({}))),g.value[0]})}let Q1=class WS extends Error{constructor(){super(),Object.setPrototypeOf(this,WS.prototype)}};const V_=q1(()=>new Date);function Wl(t,e){switch(t.type){case"attribute":return t;case"function":return{type:"function",name:t.name,parameters:t.parameters.map(r=>Wl(r,e))};case"literal":return{type:"value",...X1(t.value)};case"token":const n=H(V_[t.name])();return{type:"value",value:n,isGuid:typeof n=="string"};case"variable":return{type:"value",...X1(e(t.name,t.attribute),t.attribute)};case"relatedEntity":return{...t,next:t.next!==void 0?Wl(t.next,e):void 0}}}function X1(t,e){if(t==null)return{value:void 0,isGuid:!1};if(typeof t=="string"||typeof t=="boolean"||t instanceof Date||t instanceof ee)return{value:t,isGuid:!1};if(typeof t=="number")return{value:new ee(t),isGuid:!1};if(t instanceof ke){if(e!==void 0){const n=t.getAttributeType(e);return{value:Tl(_l(t.getRawValue(e),n),n),isGuid:n==="ObjectReference"}}return{value:t.getGuid(),isGuid:!0}}throw new U(`Cannot use value '${t}' in query filter`)}function xa(t){switch(t.type){case"attribute":return t.attribute;case"value":const e=t.value;if(e===void 0)return"empty";if(typeof e=="string")return`'${XE(e)}'`;if(typeof e=="boolean")return e?"true()":"false()";if(e instanceof ee)return e.toString();if(e instanceof Date)return e.getTime().toString();throw new U;case"function":const n=t.parameters.find(l=>l.type==="association");return n?function(l,d){const h=d.parameters.find(v=>v.type==="value");if(!h)return Yp(d);const g=xa(l),y=h.value;if(y===void 0)switch(d.name){case"=":return`not(${g})`;case"!=":return g;default:Ct()}switch(d.name){case"=":break;case"!=":return`(${g} != ${xa(h)} or not(${g}))`;case"contains":if(l.associationType==="ReferenceSet")return Array.isArray(y)?`(${y.map(v=>`${g} = '${v}'`).join(" and ")})`:`(${g} = ${xa(h)})`;break;default:Ct()}return Yp(d)}(n,t):Yp(t);case"association":return t.associationPath;case"relatedEntity":const r=t.left.attribute==="id"?t.right.attribute:t.left.attribute,[i,s]=t.left.attribute!=="id"&&t.right.attribute!=="id"?[Ne(t.rightEntity).attributes[t.right.attribute].referenceEntity,`/${t.rightEntity}/${t.right.attribute}`]:[t.rightEntity,""],c=`${r}/${i}${s}`;return t.next?.type==="function"&&["and","or","not"].includes(t.next.name)?`${c}[${xa(t.next)}]`:t.next===void 0?c:`${c}/${xa(t.next)}`}}function Yp(t){return/^(\W+|and|or)$/.test(t.name)?"("+t.parameters.map(xa).join(` ${t.name} `)+")":`${t.name}(`+t.parameters.map(xa).join(", ")+")"}function Qp(t,e){switch(t.type){case"function":const n={};return t.parameters.forEach(l=>Object.assign(n,Qp(l,e))),n;case"variable":const r=t.attribute&&t.attribute!=="id"?t.attribute:void 0,i=t.name+(r?"$"+r:""),s=e(t.name),c=s instanceof ke&&r?R1(s,r):I1(s);return c!==void 0?{[i]:c}:{};case"relatedEntity":return t.next!==void 0?Qp(t.next,e):{};default:return{}}}let K1;function $a(){return H(K1)}function W_(t){K1=t}let Xp=class om{constructor(e,n){this.guid=e,this.fields=n}getGuid(){return this.guid}getAttributes(){return Object.keys(this.fields).map(e=>({name:e,reason:this.fields[e]}))}getFields(){return this.getAttributes()}addAttribute(e,n){return!(e in this.fields)&&(this.fields[e]=n,!0)}addField(e,n){return this.addAttribute(e,n)}removeAttribute(e){return e in this.fields&&(delete this.fields[e],!0)}removeField(e){return this.removeAttribute(e)}getErrorReason(e){return this.fields[e]}getReasonByAttribute(e){return this.getErrorReason(e)}clone(){return new om(this.guid,{...this.fields})}toString(){return Object.keys(this.fields).map(e=>`${e} ${this.fields[e]}`).join("; ")}static describe(e){const n=[];for(let r=0;e[r]!==void 0;r++){const i=e[r].getFields();for(let s=0;i[s]!==void 0;s++)n.push(Me("mendix.lib.Validations","field_issue",i[s].name,i[s].reason))}return n.join(`
`)}static fromResponse(e){return e.map(({guid:n,errorFields:r})=>{const i={};return r.forEach(({name:s,message:c})=>{i[s]=c}),new om(n,i)})}},H_=class{begin(){}end(){}},G_=class{begin(e){performance.mark(e)}end(e){performance.measure(e,e)}};function J1(){return window?.MX_ENABLE_PERFORMANCE_TRACKING&&typeof performance<"u"}function Kp(t){return t()}var Zt;function Jp(t){switch(t.type){case"nanoflowCall":return`Call nanoflow: ${Kp(t.flow).name}`;case"microflowCall":return`Call microflow: ${t.operationId}`;case"javaScriptActionCall":return typeof t.action=="string"?`Call JavaScript Action: ${t.action}`:"Call JavaScript Action";case"openForm":return"Show page"+t.path;case"aggregate":return`Aggregate list $${t.inputVar}`;case"sortList":return`Sort list $${t.inputVar}`;case"filterListByExpression":case"filterList":return`Filter list $${t.inputVar}`;case"rangeFromList":return`Range from list $${t.inputVar}`;case"setVariable":return`Set variable $${t.outputVar}`;case"synchronize":const e=t.syncType==="specific"?`: ${t.variableNames.map(n=>`$${n}`).join(", ")}`:"";return`Synchronize ${t.syncType} objects${e}`;case"associationRetrieve":return`Retrieve $${t.inputVar}/${t.association}`;case"databaseRetrieve":return`Retrieve ${t.entity} from database`;case"createObject":return`Create object $${t.outputVar}`;case"changeObject":return`Change object $${t.inputVar}/${t.member}`;case"commitObjects":return`Commit object(s) $${t.inputVar}`;case"deleteObjects":return`Delete object(s) $${t.inputVar}`;case"rollbackObjects":return`Rollback object(s) $${t.inputVar}`;case"whileLoop":return"Loop (while)";case"listLoop":return`Loop list $${t.listVar}`;default:return t.type.charAt(0).toUpperCase()+t.type.slice(1)}}(function(t){t.Sum="Sum",t.Average="Average",t.Count="Count",t.Minimum="Minimum",t.Maximum="Maximum",t.All="All",t.Any="Any",t.Reduce="Reduce"})(Zt||(Zt={}));let q_=class{constructor(e){this.evaluateExp=e,this.instructionType="aggregate"}async execute(e,n){const r=n.getScope().get(e.inputVar);if(!Gn(r))throw new U;const i=n.getScope();if(e.operation!==Zt.Count)if(e.useExpression){const s=function(l,d,h,g,y){return async(v,b,x=void 0)=>{if(h.length===0)return v;const S=l.getScope();let C=x!==Hl?x:void 0;try{x===Hl&&(S.set("currentObject",h[0]),y&&S.set("currentResult",C),C=await d(g,S,"primitive"));for(const I of h)S.set("currentObject",I),y&&S.set("currentResult",C),C=b(C,await d(g,S,"primitive"))}finally{S.set("currentObject",void 0),S.set("currentResult",void 0)}return C}}(n,this.evaluateExp,r,H(e.expression),e.operation===Zt.Reduce),c=await async function(l,d,h,g,y){switch(d.operation){case Zt.Sum:return l(ee(0),(S,C)=>S.plus(C),ee(0));case Zt.Average:const v=await l(void 0,(S,C)=>S.plus(C),ee(0));return v===void 0?void 0:v.div(h.length);case Zt.Minimum:return l(void 0,(S,C)=>S.lt(C)?S:C,Hl);case Zt.Maximum:return l(void 0,(S,C)=>S.gt(C)?S:C,Hl);case Zt.All:return l(!0,(S,C)=>S&&C,!0);case Zt.Any:return l(!1,(S,C)=>!!S||!!C,!1);case Zt.Reduce:const b=g.getScope(),x=await y(H(d.initialExpression),b,"primitive");return l(x,(S,C)=>C,x);default:return}}(s,e,r,n,this.evaluateExp);i.set(e.outputVar,c)}else i.set(e.outputVar,function(s,c,l){const d=s.map(h=>h.get2(l)).filter(h=>h instanceof ee);switch(c){case Zt.Minimum:return d.length===0?void 0:d.reduce((h,g)=>g.lt(h)?g:h,H(d[0]));case Zt.Maximum:return d.length===0?void 0:d.reduce((h,g)=>g.gt(h)?g:h,H(d[0]));case Zt.Average:return d.length===0?void 0:Z1(d).div(d.length);case Zt.Sum:return Z1(d);default:return}}(r,e.operation,H(e.member)));else i.set(e.outputVar,new ee(r.length))}};function Z1(t){return t.reduce((e,n)=>e.plus(n),new ee(0))}const Hl=Symbol("first");let Y_=class{constructor(){this.instructionType="copyVariable"}async execute(e,n){const r=n.getScope().get(e.inputVar);n.getScope().set(e.outputVar,r)}};class Q_{constructor(e){this.evaluateExp=e,this.instructionType="filterListByExpression"}async execute(e,n){const r=n.getScope().get(e.inputVar);let i;const s=n.getScope();try{if(!Gn(r))throw new U;if(e.retrieveSingleObject){for(const c of r)if(s.set("currentObject",c),await this.evaluateExp(e.expr,n.getScope(),"primitive")){i=c;break}}else{i=[];for(const c of r)s.set("currentObject",c),await this.evaluateExp(e.expr,n.getScope(),"primitive")&&i.push(c)}}finally{s.set("currentObject",void 0)}s.set(e.outputVar,i)}}const X_=B1("=");let K_=class{constructor(e){this.evaluateExp=e,this.instructionType="filterList"}async execute(e,n){const r=n.getScope().get(e.inputVar),i=await this.evaluateExp(e.expectedValue,n.getScope(),"primitive");if(!Gn(r))throw new U;function s(c){const l=c.get2(e.attribute);return X_(l,i)}e.retrieveSingleObject?n.getScope().set(e.outputVar,r.find(s)):n.getScope().set(e.outputVar,r.filter(s))}},J_=class{constructor(){this.instructionType="inheritanceSwitch"}async execute(e,n){const r=n.getScope().get(e.inputVar);if(r===void 0)return{goto:H(e.targets[""])};if(!(r instanceof ke))throw new U;const i=[r.getEntity(),...r.getSuperEntities()].find(s=>s in e.targets);if(!i)throw new U;return{goto:H(e.targets[i])}}};function ex(t,e){const n=e.getScope().get(t);if(n instanceof ke)return[n];if(Gn(n)||n===void 0)return n;throw new U}let Z_=class{constructor(e,n,r){this.evaluateExp=e,this.executeNanoflow=n,this.executeMicroflow=r,this.instructionType="javaScriptActionCall"}async execute(e,n){const r=await Promise.all(e.parameters.map(async c=>{switch(c.kind){case"nanoflowId":return this.createNanoflowWrapper(c.value,n);case"microflowId":return this.createMicroflowWrapper(c.value,n);default:return this.evaluateExp(c.value,n.getScope(),c.kind)}})),i=await async function(c){return c()}(e.action),s=await i(...r);e.outputVar&&n.getScope().set(e.outputVar,N1(s))}createNanoflowWrapper(e,n){if(e!==void 0)return(r={})=>{const i=Object.keys(r).map(s=>({name:s,value:N1(r[s])}));return this.executeNanoflow(e,i,n)}}createMicroflowWrapper(e,n){if(e!==void 0)return async(r={})=>{const i=function(s){const c={};for(const l of Object.keys(s)){const d=s[l];if(d!=null)if(typeof d=="string"||typeof d=="boolean")c[l]={value:d};else if(typeof d=="number")c[l]={value:new ee(d).toString()};else if(d instanceof ee)c[l]={value:d.toString()};else if(d instanceof Date)c[l]={value:d.getTime()};else if(d instanceof ke)c[l]={guid:d.getGuid()};else{if(!Array.isArray(d))throw new U("Invalid value in 'anyToRuntimeArguments': "+d);c[l]={guids:d.map(h=>{if(h instanceof ke)return h.getGuid();throw new U("Invalid array element in 'anyToRuntimeArguments': "+h)})}}}return c}(r);return this.executeMicroflow(e,i,n.currentForm)}}},eD=class{constructor(){this.instructionType="jump"}async execute(e,n){return{goto:e.target}}},tD=class{constructor(e){this.executeInstructions=e,this.instructionType="listLoop",this.currentIndexVariable="currentIndex"}async execute(e,n){const r=n.getScope(),i=r.get(e.listVar);if(!Array.isArray(i))throw new U;const s=r.has(this.currentIndexVariable)?r.get(this.currentIndexVariable):void 0;let c=new ee(0);for(const l of i){if(r.set(e.iteratorVar,l),r.set(this.currentIndexVariable,c),await this.executeInstructions(e.body,n))break;c=c.plus(1)}s!==void 0&&r.set(this.currentIndexVariable,s)}},nD=class{constructor(e,n){this.evaluateFlowExpression=e,this.executeMicroflow=n,this.instructionType="microflowCall",this.logger=_t.get().getLogger(Ut.Nanoflow)}async execute({operationId:e,parameters:n,outputVar:r},i){const s=new xn;this.logger.debug(`[${i.executionId}] Starting microflow call ${e}.`);const c=await async function(d,h,g){const y={};for(const{name:v,value:b,kind:x}of d){const S=await h(b,g.getScope(),x);if(x==="object"&&S instanceof ke)y[v]={guid:S.getGuid()};else if(x==="list"&&Gn(S))y[v]={guids:S.map(C=>C.getGuid())};else if(x==="primitive"){const C=A1(S);C!==null&&(y[v]={value:C})}}return y}(n,this.evaluateFlowExpression,i),l=await this.executeMicroflow(e,c,i.currentForm);r!==void 0&&i.getScope().set(r,l),this.logger.debug(`[${i.executionId}] Finished microflow call ${e} in ${s.measure()} milliseconds.`)}},rD=class{constructor(e,n){this.evaluateExpression=e,this.executeNanoflow=n,this.instructionType="nanoflowCall"}async execute({flow:e,parameters:n,outputVar:r},i){const s=await Promise.all(n.filter(l=>"type"in l.value).map(async l=>({name:l.name,value:await this.evaluateExpression(l.value,i.getScope(),l.kind)}))),c=await this.executeNanoflow(e,s,i);r!==void 0&&i.getScope().set(r,c)}};class aD{constructor(){this.instructionType="associationRetrieve"}async execute(e,n){const{inputVar:r,association:i,entity:s,retrieveSingleObject:c,direction:l,outputVar:d,operationId:h}=e,g=n.getScope().get(r);if(g===void 0)return void n.getScope().set(d,c?void 0:[]);if(!(g instanceof ke))throw new U;const y=mx.isOffline()?await async function(v,b,x,S){return new Promise((C,I)=>{it().get({guid:v.getGuid(),path:b,entity:x,direction:S,callback:C,error:I})})}(g,i,s,l):(await Nr().retrieveByPathUsingOperationIdOrCache(g.getGuid(),i,l,s,h)).mxObjects;n.getScope().set(d,c?y[0]:y)}}let iD=class{constructor(e){this.evaluateExp=e,this.instructionType="changeObject"}async execute(e,n){const r=n.getScope().get(e.inputVar);if(r===void 0)return;if(!(r instanceof ke))throw new U;if(r.isReadonlyAttr(e.member))throw new Error(`Cannot set $${e.inputVar}/${e.member} because it is read-only`);const i=await this.evaluateExp(e.value,n.getScope(),"primitive");r.set2(e.member,i instanceof ee?i.round(8):i)}},oD=class{constructor(){this.instructionType="commitObjects"}async execute(e,n){const r=ex(e.inputVar,n);if(r===void 0||r.length===0)return;const i=ia(r,c=>c.getGuid()),s=H(i[0]).getEntity();mx.isOffline(s)?await new Promise((c,l)=>it().commit({mxobjs:r,callback:c,error:l})):await Nr().executeObjectAction(e.operationId,"commit",r)}};class sD{constructor(){this.instructionType="createObject"}async execute(e,n){let r;r=mx.isOffline(e.objectType)?await yt().create(e.objectType):await Nr().createObject(e.objectType,e.operationId),n.getScope().set(e.outputVar,r)}}class uD{constructor(e){this.evaluateExp=e,this.instructionType="databaseRetrieve"}async execute(e,n){const{entity:r,constraints:i,limitExpr:s,offsetExpr:c,takeFirst:l,sort:d,outputVar:h,operationId:g}=e,y=n.getScope(),v=s?await this.evaluateExp(s,y,"primitive"):void 0,b=c?await this.evaluateExp(c,y,"primitive"):void 0,x={...b?{offset:Number(b)}:{},...v?{amount:Number(v)}:{},...d?{sort:d}:{}},{mxObjects:S}=mx.isOffline(r)?await yt().retrieve(r,i?Wl(i,C=>y.get(C)):void 0,x):await Nr().retrieveByXPath(g,i?Qp(i,C=>y.get(C)):{},"",x,!1);y.set(h,l?S[0]:S)}}let cD=class{constructor(){this.instructionType="deleteObjects"}async execute(e,n){const r=n.getScope().get(e.inputVar);let i=[];if(r instanceof ke)i=[r];else{if(!Gn(r)){if(r===void 0)return;throw new U}if(r.length===0)return;i=ia(r,c=>c.getGuid())}const s=H(i[0]).getEntity();mx.isOffline(s)?await yt().delete(i):await Nr().executeObjectAction(e.operationId,"delete",i)}};class lD{constructor(){this.instructionType="rollbackObjects"}async execute(e,n){const r=ex(e.inputVar,n);if(r===void 0||r.length===0)return;const i=ia(r,c=>c.getGuid()),s=H(i[0]).getEntity();mx.isOffline(s)?await new Promise((c,l)=>it().rollback({mxobjs:r,callback:c,error:l})):await Nr().executeObjectAction(e.operationId,"rollback",r)}}let dD=class{constructor(){this.instructionType="clearFromClient"}async execute(e,n){if(!mx.isOffline())return;const{entity:r}=e;await yt().clearFromClient(r)}},fD=class{constructor(){this.instructionType="synchronize"}async execute(e,n){if(mx.isOffline())switch(e.syncType){case"all":await yt().runFullSynchronization();break;case"unsynchronized":const{dirtyObjects:r}=await yt().retrieveDirtyObjects(!0),i=await yt().retrieveDeletes();(r.length>0||Object.keys(i).length>0)&&await yt().selectiveSync(r,i);break;case"specific":const{variableNames:s}=e,c=s.flatMap(l=>{const d=n.getScope().get(l);if(d instanceof ke||Gn(d))return d;if(d===void 0)return[];throw new U});c.length>0&&await yt().selectiveSync(ia(c,l=>l.getGuid()))}}};class hD{constructor(e){this.evaluateExp=e,this.instructionType="rangeFromList"}async execute(e,n){const r=n.getScope().get(e.inputVar);if(!Array.isArray(r))throw new U;const i=ou(await this.evaluateExp(e.offset,n.getScope(),"primitive")),s=ou(await this.evaluateExp(e.limit,n.getScope(),"primitive")),c=i<=0?0:i,l=s<=0?Number.MAX_SAFE_INTEGER:s;n.getScope().set(e.outputVar,r.slice(c,c+l))}}let pD=class{constructor(e){this.evaluateExp=e,this.instructionType="return"}async execute(e,n){return{result:await this.evaluateExp(e.result,n.getScope(),e.resultKind)}}},gD=class{constructor(e){this.evaluateExp=e,this.instructionType="setVariable"}async execute(e,n){n.getScope().set(e.outputVar,await this.evaluateExp(e.value,n.getScope(),e.outputKind))}},mD=class{constructor(){this.instructionType="sortList"}async execute(e,n){const r=n.getScope().get(e.inputVar);if(!Gn(r))throw new U;let i=r.slice();const s=Ne(e.entity);e.items.slice().reverse().forEach(c=>{const l=s?.attributes[c.attribute]?.type??"String",[d,h]=nr(g=>{const y=g.get2(c.attribute);return y!==""&&y!=null},i);switch(l){case"DateTime":d.sort(Gl(c.order,(g,y)=>ba(g.get2(c.attribute))-ba(y.get2(c.attribute))));break;case"String":case"Enum":case"HashString":d.sort(Gl(c.order,(g,y)=>{const v=g.get2(c.attribute).toLowerCase(),b=y.get2(c.attribute).toLowerCase();return(v>b?1:0)-(b>v?1:0)}));break;case"AutoNumber":case"Long":case"Integer":case"Decimal":d.sort(Gl(c.order,(g,y)=>{const v=g.get2(c.attribute),b=y.get2(c.attribute);return v.cmp(b)}));break;case"Boolean":d.sort(Gl(c.order,(g,y)=>{const v=g.get2(c.attribute);return v===y.get2(c.attribute)?0:v?1:-1}));break;default:throw new Error("Unsupported data type")}i=d.concat(h)}),n.getScope().set(e.outputVar,i)}};function Gl(t,e){return(n,r)=>{const i=e(n,r);return t==="desc"?-1*i:i}}let yD=class{constructor(e){this.exprEvaluator=e,this.instructionType="switch"}async execute(e,n){const r=await this.exprEvaluator(e.condition,n.getScope(),"primitive"),i=r!==void 0?r.toString():"";if(!(i in e.targets))throw new U;return{goto:H(e.targets[i])}}},bD=class{constructor(){this.locks=new Map,this.map={},this.lockManager=Ya.getInstance(),this.map.latestError=void 0}set(e,n){this.map[e]=n,n instanceof ke?this.lockObjects(e,[n]):Gn(n)&&this.lockObjects(e,n)}has(e){return e in this.map}get(e){if(!(e in this.map))throw new U;const n=this.map[e];return n instanceof ke&&n.isUnavailable()?void 0:Gn(n)?n.filter(r=>!r.isUnavailable()):n}all(){return Object.keys(this.map)}destroy(){this.locks.forEach(e=>e()),this.locks.clear()}lockObjects(e,n){this.locks.get(e)?.(),this.locks.set(e,this.lockManager.lock(n.map(r=>r.getGuid())))}},vD=class{constructor(e){this.executeInstructions=e,this.instructionType="tryCatch"}async execute(e,n){try{return void await this.executeInstructions(e.body,n)}catch(r){return r instanceof Error?n.getScope().set("latestError",r.message):r!=null?n.getScope().set("latestError",String(r)):n.getScope().set("latestError",void 0),{goto:e.catchTarget}}}},wD=class{constructor(e){this.evaluateExp=e,this.instructionType="closeForm"}async execute(e,n){const r=e.numberOfPagesToClose?ou(await this.evaluateExp(e.numberOfPagesToClose,n.getScope(),"primitive")):1;if(r<1)throw new Error(`The number of pages to close evaluated to ${r}. It must be at least 1.`);const{currentForm:i}=n;if(i===void 0)throw new Za("Cannot close the current page. No open page found.");i.closePage(r).catch(s=>Dt(s))}},xD=class{constructor(e){this.evaluateExp=e,this.instructionType="openForm"}async execute(e,n){const r=e.title?await this.evaluateExp(e.title,n.getScope(),"primitive")??"":void 0,i=(await Promise.all(Object.entries(e.inputArgs??{}).map(([c,l])=>this.evaluateExp(l,n.getScope(),"object").then(d=>jn(c,d?.getGuid()))))).reduce((c,[l,d])=>({...c,[l]:d}),{}),s=e.numberOfPagesToClose?ou(await this.evaluateExp(e.numberOfPagesToClose,n.getScope(),"primitive")):0;await $a().openForm2(e.path,i,r,n.currentForm,e.params,s)}},$D=class{constructor(e){this.evaluateExp=e,this.instructionType="showMessage"}async execute(e,n){const r=await this.evaluateExp(e.message,n.getScope(),"primitive"),i=r===void 0?"":r;$a().showMessage(e.messageType,i,e.blocking)}},SD=class{constructor(e){this.evaluateExp=e,this.instructionType="showValidation"}async execute(e,n){const r=n.getScope().get(e.inputVar);if(r===void 0)throw new Error(`Cannot refresh $${e.inputVar} as it is empty`);if(!(r instanceof ke))throw new U;const i=await this.evaluateExp(e.text,n.getScope(),"primitive"),s=i===void 0?"":i,c=function(d,h){const g=d[tx]??(d[tx]={});return g[h]??(g[h]={})}(n.getScope(),r.getGuid());c[e.member]=s;const l=new Xp(r.getGuid(),c);await it().sendValidationUpdates([l])}};const tx=Symbol("validations");let kD=class{constructor(e){this.evaluateExp=e,this.instructionType="writeLog"}async execute(e,n){const r=await this.evaluateExp(e.message,n.getScope(),"primitive");_t.get().getLogger(Ut.Nanoflow).log(e.level,r)}},ED=class{constructor(e,n){this.executeInstructions=e,this.exprEvaluator=n,this.instructionType="whileLoop",this.currentIndexVariable="currentIndex"}async execute(e,n){const r=n.getScope(),i=r.has(this.currentIndexVariable)?r.get(this.currentIndexVariable):void 0;let s=ee(0);for(r.set(this.currentIndexVariable,s);await this.exprEvaluator(e.condition,r,"primitive")&&!await this.executeInstructions(e.body,n);)s=s.plus(1),r.set(this.currentIndexVariable,s);i!==void 0&&r.set(this.currentIndexVariable,i)}},OD=class{constructor(e,n,r=_t.get()){let i;this.connection=e,this.getNanoflow=n,this.breakpoints=new Map,this.debuggedNanoflows={},this.logger=r.getLogger(Ut.NanoflowDebugger),this.breakpointsReadyPromise=new Promise(s=>{i=s}),e.onInstruction("set_breakpoints",s=>{this.breakpoints.clear();for(const{label:c,condition:l}of s.breakpoints)this.breakpoints.set(c,l);i()}),e.onInstruction("debugger_step",s=>{H(this.debuggedNanoflows[s.executionId]).handleInstruction(s)}),e.onInstruction("get_debugger_variable",({executionId:s,variableName:c,index:l})=>{const d=H(this.debuggedNanoflows[s]).context.getScope().get(c);this.send({type:"debugger_variable",data:this.serializeVariableContent(d,l)})}),e.onConnect(()=>{Object.keys(this.debuggedNanoflows).forEach(s=>this.send({type:"paused_nanoflow",data:this.createPausedNanoflow(H(this.debuggedNanoflows[s]).context)}))})}async waitForBreakpoints(){return this.breakpointsReadyPromise}async handleInstruction({context:e,instruction:n}){if(await this.shouldBreak(n,e)){const r=await this.activateDebugger(n,e),i=H(this.debuggedNanoflows[e.executionId]);switch(r.mode){case"continue":i.maxStackDepthToPause=-1/0;break;case"step_into":i.maxStackDepthToPause=1/0;break;case"step_over":i.maxStackDepthToPause=e.getStackSize();break;case"step_out":i.maxStackDepthToPause=e.getStackSize()-1}}}handleNanoflowCompletion({executionId:e}){delete this.debuggedNanoflows[e]}async shouldBreak(e,n){if(e.label===void 0||e.type==="jump")return!1;if(this.breakpoints.has(e.label)){const i=this.breakpoints.get(e.label);if(!i)return!0;try{return await kt(i,n.getScope(),"primitive")===!0}catch(s){return this.logger.error(`Failed to evaluate breakpoint expression: ${s instanceof Error?s.message:s}`),!1}}const r=this.debuggedNanoflows[n.executionId];return r!==void 0&&n.getStackSize()<=r.maxStackDepthToPause}async activateDebugger(e,n){const r=this.getNanoflow(n.getCurrentNanoflowId());return this.debuggedNanoflows[n.executionId]={context:n,maxStackDepthToPause:1/0,nanoflow:r.name,objectId:e.label,handleInstruction:()=>{}},new Promise(i=>{H(this.debuggedNanoflows[n.executionId]).handleInstruction=i,this.send({type:"paused_nanoflow",data:this.createPausedNanoflow(n)})})}createPausedNanoflow(e){const{executionId:n}=e,{nanoflow:r,objectId:i}=H(this.debuggedNanoflows[n]);return{nanoflow:r,objectId:i,executionId:n,variables:this.getVariables(e.getScope())}}getVariables(e){const n={};for(const r of e.all().filter(i=>i!=="latestError")){const i=e.get(r);switch(typeof i){case"boolean":n[r]={type:"boolean",value:i};break;case"string":n[r]={type:"string",value:i};break;case"undefined":n[r]={type:"null"};break;case"object":i instanceof Date?n[r]={type:"date_time",...nx(i)}:i instanceof ee?n[r]={type:"decimal",value:i.toString()}:Array.isArray(i)?n[r]={type:"list",size:i.length}:n[r]=this.serializeObject(i,!1);break;default:this.logger.error("Unknown variable type: "+typeof i),n[r]={type:"unknown",value:i}}}return n}serializeVariableContent(e,n){return e instanceof ke?this.serializeObject(e,!0):Array.isArray(e)&&n===void 0?{objects:e.map(r=>this.serializeObject(r,!1))}:Array.isArray(e)&&n!==void 0&&e[n]instanceof ke?this.serializeObject(e[n],!0):{type:"null"}}serializeObject(e,n){if(e instanceof ke){const r=e.getGuid(),i={type:"object",id:r,entity:e.getEntity(),state:it().isNew(r)?"INSTANTIATED":"NORMAL"};if(n){const s={},c=oa(e.getEntity()).filter(l=>e.has(l.name));for(const l of c){const d=e.get2(l.name);switch(l.type){case"AutoNumber":s[l.name]={type:"auto_number",value:d};break;case"Binary":s[l.name]={type:"binary"};break;case"Boolean":s[l.name]={type:"boolean",value:d};break;case"DateTime":{const h={type:"date_time"};d&&Object.assign(h,nx(d)),s[l.name]=h}break;case"Decimal":s[l.name]={type:"decimal",value:d};break;case"Enum":s[l.name]={type:"enum",value:d,enumeration_name:H(l.enumeration)};break;case"HashString":s[l.name]={type:"hash_string",value:d};break;case"Integer":s[l.name]={type:"integer",value:d};break;case"Long":s[l.name]={type:"long",value:d};break;case"ObjectReference":{const h=H(l.referenceEntity),g={type:"reference"};d&&(g.value={type:String(h),object_id:d.toString()}),s[l.name]=g}break;case"ObjectReferenceSet":{const h=H(l.referenceEntity),g={type:"reference_set",value:[]};d&&(g.value=d.map(y=>({type:String(h),object_id:y}))),s[l.name]=g}break;case"String":s[l.name]={type:"string",value:d};break;default:this.logger.error(`Unknown attribute type: ${l.type}`),s[l.name]={type:"unknown",value:String(d)}}}return{...i,members:s}}return i}return{type:"null"}}send(e){this.connection.send(JSON.stringify(e))}};function nx(t){return{value:Il(lo(t),"yyyy-MM-dd HH:mm:ss.SSS"),session_time:Il(t,"yyyy-MM-dd HH:mm:ss.SSS xxxx")}}let Zp=class HS extends Za{constructor(e,n,r){super(`${e}

Nanoflow stack:
${r}`),this.nanoflowStack=r,Object.setPrototypeOf(this,HS.prototype),this.description=e,this.stack=n}},CD=class GS{constructor(e,n=void 0,r=void 0,i=Hn("flow"),s=0,c=void 0){this.currentForm=e,this.nanoflowId=n,this.scope=r,this.executionId=i,this.depth=s,this.parentContext=c}getScope(){return this.scope}getCurrentNanoflowId(){return this.nanoflowId??this.parentContext?.getCurrentNanoflowId()}getStackSize(){return this.depth}getCurrentInstruction(){return this.currentInstruction}setCurrentInstruction(e){this.currentInstruction=e}getLeafContext(){return this.childContext?.getLeafContext()??this}getParentContext(){return this.parentContext}async insideNewStack(e,n){const r=n!==void 0?new bD:this.scope;this.childContext=new GS(this.currentForm,n??this.nanoflowId,r,this.executionId,this.depth+1,this);try{return await e(this.childContext)}finally{n!==void 0&&r.destroy(),this.childContext=void 0}}},eg=class qS extends Error{constructor(e,n){super(`${e instanceof Error?e.message:String(e)}

Nanoflow stack:
${n}`),this.innerError=e,this.nanoflowStack=n,Object.setPrototypeOf(this,qS.prototype),e instanceof Error&&(this.stack=e.stack)}};function jD(t){return typeof t=="object"&&"result"in t}let TD=class sm{constructor(){this.performanceTracker=J1()?new G_:new H_}startTracking(e){e.onNanoflowExecutionEvent("nanoflowStart",this.onNanoflowStart.bind(this)),e.onNanoflowExecutionEvent("nanoflowEnd",this.onNanoflowEnd.bind(this)),e.onNanoflowExecutionEvent("instructionStart",this.onInstructionStart.bind(this)),e.onNanoflowExecutionEvent("instructionEnd",this.onInstructionEnd.bind(this))}onNanoflowStart({nanoflowId:e}){const n=sm.getNanoflowName(e);this.performanceTracker.begin(`Nanoflow: ${n}`)}onNanoflowEnd({nanoflowId:e}){const n=sm.getNanoflowName(e);this.performanceTracker.end(`Nanoflow: ${n}`)}onInstructionStart({instruction:e}){const n=Jp(e);this.performanceTracker.begin(n)}onInstructionEnd({instruction:e}){const n=Jp(e);this.performanceTracker.end(n)}static getNanoflowName(e){if(typeof e=="string")return e;if("name"in e)return e.name;throw new U("Nanoflow could not be identified")}};function We(t){return[t.instructionType,t]}const cu=new class{constructor(t,e,n){this.getNanoflowFromRegistry=e,this.expressionEvaluator=n,this.executionEventHandlers={nanoflowStart:[],nanoflowEnd:[],instructionStart:[],instructionEnd:[]},this.runningNanoflows=new Array,this.logger=_t.get().getLogger(Ut.Nanoflow),this.executors=t((r,i)=>i.insideNewStack(s=>this.executeInstructions(r,s)),this.executeInstructions.bind(this),this.executeNanoflow.bind(this),this.executeMicroflow.bind(this))}async execute(t,e,n){const r=new CD(n,t),i=this.getNanoflowFromRegistry(t).name,s=new xn;this.logger.debug(`[${r.executionId}] Starting execution of nanoflow ${i}.`),this.runningNanoflows.push(r),await this.raiseEvent("nanoflowStart",{nanoflowId:t,executionId:r.executionId});try{return await Xs(0),await this.executeNanoflow(t,e,r)}finally{this.runningNanoflows.splice(this.runningNanoflows.indexOf(r),1),this.logger.debug(`[${r.executionId}] Finished execution of nanoflow ${i}. Execution took ${s.measure()} milliseconds.`),await this.raiseEvent("nanoflowEnd",{nanoflowId:t,executionId:r.executionId})}}onNanoflowExecutionEvent(t,e){const n=this.executionEventHandlers[t];return n.push(e),{unsubscribe(){const r=n.indexOf(e);r>-1&&n.splice(r,1)}}}generateCallStackOfExecutingNanoflows(){return this.runningNanoflows.map(t=>[this.getNanoflowFromRegistry(t.getCurrentNanoflowId()).name,this.generateCallStack(t)])}generateCallStack(t){const e=new Array;let n=t.getLeafContext(),r=0;for(;n?.getCurrentInstruction()!==void 0;)e.push(`${r>0?new Array(r).fill(" ").join(""):""} "${Jp(n.getCurrentInstruction())}" in nanoflow "${this.getNanoflowFromRegistry(n.getCurrentNanoflowId()).name}"`),n=n.getParentContext(),r++;return e.join(`
`)}async raiseEvent(t,e){const n=this.executionEventHandlers[t];n.length>0&&await Promise.all(n.map(r=>r(e)))}getRunningNanoflows(){return[...this.runningNanoflows]}async executeMicroflow(t,e,n){return mx.isOffline()?yt().executeMicroflow(t,e,n):Nr().executeMicroflow(t,e,n)}async executeNanoflow(t,e,n){return n.insideNewStack(async r=>{const i=this.getNanoflowFromRegistry(t),s=new Map(e.map(c=>[c.name,c.value]));return await Promise.all(i.optionalParameters?.map(async c=>{if(!s.has(c.name)){const l=await this.expressionEvaluator(c.value,r.getScope(),c.kind);s.set(c.name,l)}})??[]),s.forEach((c,l)=>{r.getScope().set(l,c)}),this.executeInstructions(i.instructions,r)},t)}async executeInstructions(t,e){let n=0;for(;n<t.length;){const i=H(t[n]),s=this.executors.get(i.type);if(s===void 0)throw new U;let c;await this.raiseEvent("instructionStart",{context:e,instruction:i}),e.setCurrentInstruction(i);try{c=await s.execute(i,e)}catch(l){throw l instanceof eg||l instanceof Zp||l instanceof Ar?l:l instanceof Za?new Zp(l.message,l.stack,this.generateCallStack(e)):new eg(l,this.generateCallStack(e))}finally{await this.raiseEvent("instructionEnd",{context:e,instruction:i})}if(typeof(r=c)=="object"&&"goto"in r){const l=c.goto;if(n=t.findIndex(d=>d.label===l),n===-1)throw new U}else{if(jD(c))return c.result;n++}}var r;throw new U}}((t,e,n,r)=>new Map([We(new eD),We(new yD(kt)),We(new J_),We(new tD(t)),We(new ED(t,kt)),We(new vD(e)),We(new pD(kt)),We(new sD),We(new dD),We(new iD(kt)),We(new oD),We(new cD),We(new lD),We(new gD(kt)),We(new Y_),We(new xD(kt)),We(new wD(kt)),We(new SD(kt)),We(new uD(kt)),We(new aD),We(new kD(kt)),We(new Z_(kt,n,r)),We(new fD),We(new K_(kt)),We(new Q_(kt)),We(new hD(kt)),We(new mD),We(new q_(kt)),We(new $D(kt)),We(new rD(kt,n)),We(new nD(kt,r))]),Kp,kt);J1()&&new TD().startTracking(cu);let ii;function _D(t,e){if(ii!==void 0)throw new U;ii=new OD(t,Kp,e),cu.onNanoflowExecutionEvent("instructionStart",ii.handleInstruction.bind(ii)),cu.onNanoflowExecutionEvent("nanoflowEnd",ii.handleNanoflowCompletion.bind(ii))}async function DD(){return Promise.race([H(ii).waitForBreakpoints(),Xs(500)])}let ql="";const rx=()=>ql,AD=t=>{ql=t},Pe=t=>ql?`${ql}$${t}`:t;var PD=Object.freeze({__proto__:null,getUserScopedNamePrefix:rx,setUserScopedNamePrefix:AD,toUserScopedName:Pe});const ut="_guidToTable",yo="_tombstoneTable",Ze="guid",oi="tableName",tg="readonlyAttrs",Yl="inaccessibleAttrs",hr="syncId",ax=["guid","tableName","readonlyAttrs","inaccessibleAttrs","syncId"],lu="_db_meta",ix="name",ng="value",rg="version",ag="cnt",ig="offline_metadata",ox="changedDate",ND="HasContents";function Ql(t){return['SELECT value FROM "_db_meta" WHERE "name" = ?',[t]]}function sx(t,e){return['UPDATE "_db_meta" SET "value" = ? WHERE name = ?',[e,t]]}function ux(t){return[`UPDATE "_db_meta" SET "value" = "value" + ${t} WHERE name = ?`,["cnt"]]}function si(t,e){const n={};e.filter(i=>t.hasChanges(i)).forEach(i=>{n[i]=t.getChanges(i)});const r=e.filter(i=>t.has(i)).map(i=>t.getObject(i)).filter(i=>!i.isPersistable()||t.isNew(i.getGuid())).map(i=>i.jsonData);return[n,r]}function Xl(){const t=xt();return[t.getUserId(),t.getSessionObjectId()]}let ID=class{constructor(){this.labels=[],this.labelMap={},this.graph=[]}addEdge(e,n){const r=this.getOrCreateLabelIndex(e),i=this.getOrCreateLabelIndex(n),s=this.graph[r];s.includes(i)||s.push(i)}neighborsOf(e){const n=this.getOrCreateLabelIndex(e);return this.graph[n].map(r=>this.indexToLabel(r))}reachableLabels(e){const n=e.map(r=>this.getOrCreateLabelIndex(r));return function(r,i){const s=new Array(r.length);(function l(d){for(const h of d){if(h<0||h>=s.length)throw new Error(`graph: index ${h} out of bounds in graph of size ${r.length}`);s[h]||(s[h]=!0,l(r[h]))}})(i);const c=[];for(let l=0;l<s.length;++l)s[l]&&c.push(l);return c}(this.graph,n).map(r=>this.indexToLabel(r))}indexToLabel(e){return this.labels[e]}getOrCreateLabelIndex(e){if(e in this.labelMap)return this.labelMap[e];this.labels.push(e),this.graph.push([]);const n=this.labels.length-1;return this.labelMap[e]=n,n}};function RD(t,e){return lx(t,e).reachableLabels(Array.from(e))}function Kl(t,e,n){const r=sn(s=>s.getGuid())(t),i=n!=null?function(s,c){const l=[];return s.forEach(d=>{c.forEach(h=>{if(!d.has(h.association))return;const g=iO(d.getEntity(),h.association),y=d.getSelectorEntity(h.association);h.fromEntity===g&&bo(d,h.association).forEach(v=>l.push({from:d.getGuid(),to:v})),h.fromEntity===y&&bo(d,h.association).forEach(v=>l.push({from:v,to:d.getGuid()}))})}),l}(t,n):dx(t);return Jl(i).reachableLabels(e).filter(s=>r[s])}function MD(t,e,n){const r=sn(s=>s.getGuid())(e),i=function(s,c){const l=[],d=og(c);return c.forEach(h=>{d.get(h.getEntity()).forEach(g=>{h.has(g)&&Object.prototype.hasOwnProperty.call(s.getChanges(h.getGuid()),g)&&bo(h,g).forEach(y=>{s.isNew(y)&&l.push({from:h.getGuid(),to:y}),s.getObject(y)?.has(g)&&l.push({to:h.getGuid(),from:y})})})}),l}(t,e);return Jl(i).reachableLabels(n).filter(s=>r[s])}function cx(t,e){const n=sn(i=>i.getGuid())(t),r=function(i){const s=[],c=og(i);return i.forEach(l=>{c.get(l.getEntity()).forEach(d=>{const h=l.metaData.deleteBehavior;h?.[d]?.sendChildren&&bo(l,d).forEach(g=>s.push({from:l.getGuid(),to:g})),(l.has(d)||h?.[d]?.sendParents)&&bo(l,d).forEach(g=>s.push({from:g,to:l.getGuid()}))})}),s}(t);return Jl(r).reachableLabels(e).filter(i=>n[i])}function lx(t,e){t=t.filter(i=>!i.isPersistable()||i.hasChanges()||i.isNew()||e.has(i.getGuid()));const n=sn(i=>i.getGuid())(t);return Jl(dx(t,new Set(["System.WorkflowActivityRecord_Actor","System.WorkflowActivityRecord_TaskAssignedUsers","System.WorkflowActivityRecord_TaskTargetedUsers"])).filter(({from:i,to:s})=>r(i)&&r(s)));function r(i){return e.has(i)||i in n}}function dx(t,e){const n=[],r=og(t);return t.forEach(i=>{r.get(i.getEntity()).forEach(s=>{!e?.has(s)&&i.has(s)&&bo(i,s).forEach(c=>n.push({from:c,to:i.getGuid()},{from:i.getGuid(),to:c}))})}),n}function og(t){const e=new Map;for(const n of t)e.has(n.getEntity())||e.set(n.getEntity(),oa(n.getEntity()).filter(r=>(r.type==="ObjectReference"||r.type==="ObjectReferenceSet")&&r.name!==un.Owner&&r.name!==un.ChangedBy).map(r=>r.name));return e}function bo(t,e){return t.getReferences(e).concat(t.getOriginalReferences(e))}function Jl(t){const e=new ID;return t.forEach(({from:n,to:r})=>e.addEdge(n,r)),e}function Zl(t,e,n){const r=Bw(e),i=Kl(t.getAllObjects(),n,r?.followedAssociations);return n.filter(s=>!i.includes(s)).forEach(s=>i.push(s)),si(t,i)}const ed=new Map,LD=BigInt(48),fx=65535,UD=BigInt(fx);function hx(t){if(t.maxObjectId===void 0)throw new U(`Can't create a Mendix guid for "${t.name}"`);const e=t.entityId??Nh(t.maxObjectId),n=ed.get(t.name)??px(t.maxObjectId);if(n>fx)throw new U(`Max object ID exceeds allowed amount for ${t.name}.`);return ed.set(t.name,n-1),(BigInt(e)<<LD|BigInt(n)).toString()}function FD(){const t={};return ed.forEach((e,n)=>t[n]=e.toString()),t}function zD(t){Object.entries(t).forEach(([e,n])=>{ed.set(e,px(n))})}function px(t){return Number(BigInt(t)&UD)}function gx(...t){const e=t.length===0?[void 0]:t;return n=>{const r=t.length>0&&Ba(n.body)?n.body.action:void 0;return e.includes(r)}}function BD(t,...e){return yx(t,gx(...e))}function yx(t,e){return async(n,r)=>{let i=t;const s=_t.get().getLogger(Ut.Network);try{return await r(n)}catch(c){return async function l(d){const h=d instanceof Ar&&i-- >0;if(h){const g=n.init.method?.toUpperCase();s.trace(`Retrying ${g} ${n.url}. Attempts left: ${i}`)}return h&&e(n)?r(n).catch(l):Promise.reject(d)}(c)}}}const td={};async function vo(t,e){const n=JSON.stringify(t);return n in td?td[n]:td[n]=RC(e(t),()=>{delete td[n]})}function bx(t){const e=Object.create(null);return(n,...r)=>(n in e||(e[n]=t(n,...r)),e[n])}function He(t){return t.replace(".","$")}function VD(t){return t.replace("$",".")}function sg(t){return t?.replace(".","$")}function vx(t){if(t===void 0)return null;if(t instanceof ee)return xx(t);if(t instanceof Date)return Number(t);if(typeof t=="boolean")return function(e){return e?1:0}(t);if(Array.isArray(t))throw new U;return t}function WD(t,e){if(t===null)return null;switch(e){case"DateTime":return t;case"Boolean":return!!t;case"Decimal":case"Integer":case"Long":return function(n){const r=n.startsWith("-")?"-":"",i=n.replace(/^-?0*/,"");return r+(i!==""?i:"0")}(t);case"ObjectReferenceSet":return t===""?null:t.split(",");default:return String(t)}}function wx(t,e){switch(e){case"AutoNumber":case"Binary":case"HashString":case"Enum":case"ObjectReference":case"ObjectReferenceSet":case"String":return t!=null?String(t):null;case"DateTime":return t!=null?Number(t):null;case"Boolean":return Number(t);case"Decimal":case"Integer":case"Long":return function(n){return n==null?null:xx(new ee(n))}(t);default:throw new U}}function xx(t){const e=20-Math.max(0,t.e)-1;return(t.s<0?"-":"")+new Array(e+1).join("0")+t.abs().toFixed()}class $x{constructor(){this.guidMap={}}add(e,n){this.guidMap[e]=n}has(e){return e in this.guidMap}remove(e){delete this.guidMap[e]}map(e){return Array.isArray(e)?e.map(this.mapGuid.bind(this)):this.mapGuid(e)}mapChange(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if(s.value!==void 0){const c=n.attributes[i]?.type==="ObjectReference"&&s.value!=null?this.map(s.value):s.value;r[i]={...s,value:c}}else r[i]={...s}}),r}mapMxObjectJSON(e){const n=Ne(e.objectType),r={};return Object.entries(e.attributes).forEach(([i,s])=>{wv(n,i)?r[i]={...s,value:this.map(s.value)}:r[i]=s}),{...e,guid:this.map(e.guid),attributes:r}}import(...e){e.forEach(n=>Object.entries(n.guidMap).forEach(([r,i])=>this.add(r,i)))}entries(){return Object.entries(this.guidMap)}testClear(){Object.keys(this.guidMap).forEach(e=>delete this.guidMap[e])}reverseCopyTo(e){Object.keys(this.guidMap).forEach(n=>e.add(this.map(n),n))}mapGuid(e){return this.guidMap[e]??e}}let Sx=class extends $x{add(e,n){if(ei(e)||!ei(n))throw new U;super.add(e,n)}reverse(){const e=new ug;return super.reverseCopyTo(e),e}},ug=class extends $x{add(e,n){if(!ei(e)||ei(n))throw new U;super.add(e,n)}reverse(){const e=new Sx;return super.reverseCopyTo(e),e}};const kx=new ug;function Ex(t){return kx.reverse().map(t)}function pr(t,e=1){const n=Math.floor(999/e),r=[];for(let i=0;i<t.length;i+=n)r.push(t.slice(i,i+n));return r}function du(t,e,n){switch(t.type){case"attribute":return{type:t.attributeType==="Boolean"||t.attributeType==="DateTime"?"int":"string",expr:`${sg(t.context)??e}.[${t.attribute!=="id"?He(t.attribute):"guid"}]`,params:[]};case"value":const i=t.isGuid?Ex(t.value):vx(t.value);return i===null?{type:"null",expr:"NULL",params:[]}:{type:typeof i=="number"?"int":"string",expr:"?",params:[i]};case"function":const s=t.parameters.map(g=>du(g,e,n)),c=s.flatMap(g=>g.joins??[]);switch(t.name){case"true":return Ox;case"false":return fu;case"not":{const b=Cx(H(s[0]));return{type:"int",expr:`(not ${b.expr})`,params:b.params,joins:c}}case"or":case"and":{const b=s.map(Cx);return{type:"int",expr:"("+b.map(x=>x.expr).join(` ${t.name} `)+")",params:jx(...b),joins:c}}case"=":case"!=":case">":case">=":case"<":case"<=":{let[b,x]=s.some(C=>C.type==="int")?s.map(HD):s;const S=t.name==="="?"is":t.name==="!="?"is not":t.name;return b=H(b),x=H(x),{type:"int",expr:`(${b.expr} ${S} ${x.expr})`,params:jx(b,x),joins:c}}case"contains":case"starts-with":case"ends-with":{const b=H(s[0]),x=H(s[1]);if(x.type==="null")return Ox;if(b.type==="null")return fu;const S=`replace(replace(replace(${x.expr}, '${r="~"}', '${r+r}'), '%', '${r+"%"}'), '_', '${r+"_"}')`,C=t.name==="starts-with"?`${S} || '%'`:t.name==="ends-with"?`'%' || ${S}`:`'%' || ${S} || '%'`;return{type:"int",expr:`(${b.expr} like ${C} escape '~')`,params:b.params.concat(x.params),joins:c}}case"length":case"string-length":const g=H(s[0]);return g.type==="null"?fu:{type:"int",expr:`length(${g.expr})`,params:g.params,joins:c};case"in":const y=H(s[0]),v=H(s[1]);if(!Array.isArray(v.params[0]))throw new U("'in' function expect array of values");return{type:"string",expr:`${y.expr} in (${new Array(v.params[0].length).fill("?").join(",")})`,params:v.params[0],joins:c};default:throw new U(`Operator ${t.name} is not yet supported`)}case"association":const l=t.associationPath.split("/")[0];return{type:"string",expr:`${sg(t.context)??e}.[${He(l)}]`,params:[]};case"relatedEntity":const d=[t.rightEntity,...H(Ne(t.rightEntity)).specializations];if(d.length===1)return Tx(e,n,t,t.rightEntity,n);const h=d.map(g=>Tx(e,n,t,g,!0));return{type:"int",expr:`(${h.map(g=>g.expr).join(" OR ")})`,joins:h.flatMap(g=>g.joins??[]),params:h.flatMap(g=>g.params)}}var r}const Ox={type:"int",expr:"1",params:[]},fu={type:"int",expr:"0",params:[]};function Cx(t){return t.type==="null"?fu:t}function HD(t){return t.type==="string"?{type:"int",expr:`cast(${t.expr} as integer)`,params:t.params}:t}function jx(...t){return[].concat(...t.map(e=>e.params))}function Tx(t,e,n,r,i){const s=sg(n.rightEntityAlias),c=Pe(He(r)),l=n.next===void 0?fu:du(n.next,s,!1),d=l.joins?.join("")??"",h=du(n.left,t,e).expr,g=du(n.right,s,e).expr;return i?{type:"int",expr:[`${h} IN (`,`SELECT ${g}`,` FROM ${c} AS ${s}`,d,n.next===void 0?"":` WHERE ${l.expr}`,")"].join(""),params:l.params}:{...l,joins:(l.joins??[]).concat(` INNER JOIN ${c} AS ${s} ON ${g} = ${h}`)}}function wo(t,e,n){if(t===e)return n;switch(n?.type){case"attribute":return{type:"attribute",attribute:n.attribute,attributeType:n.attributeType,context:cg(t,e,n.context)};case"association":return{type:"association",associationPath:n.associationPath,associationType:n.associationType,context:cg(t,e,n.context)};case"relatedEntity":return{type:"relatedEntity",left:wo(t,e,n.left),rightEntity:GD(t,e,n.rightEntity),rightEntityAlias:cg(t,e,n.rightEntityAlias),right:wo(t,e,n.right),next:wo(t,e,n.next)};case"function":return{type:"function",name:n.name,parameters:n.parameters.map(r=>wo(t,e,r))};case"value":case void 0:return n}}function cg(t,e,n){return n?.startsWith(t)?`${e}${n.slice(t.length)}`:n}function GD(t,e,n){return n===t?e:n}function qD(t){return t.length===0?[]:pr(t).map(e=>{const n=new Array(e.length).fill("?").join(", ");return[`SELECT "guid", "tableName" FROM "${Pe("_guidToTable")}" WHERE "guid" IN (${n})`,e]})}function YD(t=new Set){const e=t.size>0?` AND "tableName" NOT IN (${Array.from(t).map(n=>`'${n}'`).join(", ")})`:"";return[`SELECT "guid", "tableName" FROM "${Pe("_guidToTable")}" WHERE "syncId" IS NOT NULL${e}`,[]]}function QD(t){return pr(t).map(e=>{const n=new Array(e.length).fill("?").join(", ");return[`SELECT "guid", "syncId" FROM "${Pe("_guidToTable")}" WHERE "guid" IN (${n})`,e]})}function XD(t){if(t.length===0)throw new U("No guids specified");return pr(t).map(e=>{const n=new Array(e.length).fill("?").join(", ");return[`UPDATE "${Pe("_guidToTable")}" SET "syncId" = NULL WHERE "guid" IN (${n})`,e]})}function _x(t){return["SELECT COUNT(name) as cnt FROM sqlite_master WHERE type='table' AND name=?",[t]]}function Dx(t){return pr(t).map(e=>{const n=new Array(e.length).fill("?").join(", ");return[`DELETE FROM "${Pe("_guidToTable")}" WHERE "tableName" IN (${n})`,e]})}function Ax(t,e,n=!0){const r=new Set([t,...Ne(t)?.generalizations??[]]);return Object.assign({},...e.map(i=>{const s=Ne(i),c=Object.values(s?.attributes??{}).filter(l=>l.referenceEntity&&r.has(l.referenceEntity)&&(n||l.type!=="ObjectReferenceSet")).map(l=>l.name);return c.length>0?{[i]:c}:{}}))}const Ur=t=>{if(t===null||typeof t!="object")return t;const e=Array.isArray(t)?[]:{};return Object.keys(t).forEach(n=>e[n]=Ur(t[n])),e};async function lg(t){const e=$a();for(const n of t??[])switch(n.type){case"logout":mx.logout();break;case"show_login":e.showLogin();break;case"download_file":const r=await ao(n.args.FileDocumentGuid);e.downloadFile({mxobject:H(r),target:n.args.Target});break;case"text_message":e.showMessage(n.args.MessageType,n.args.MessageContent,n.args.MessageBlock)}}function dg(t,e){const n=Object.entries(e.changes??{}).map(([h,g])=>Object.keys(g).map(y=>({guid:h,attr:y}))),r=Object.entries(e.resets??{}).map(([h,g])=>g.map(y=>({guid:h,attr:y}))),i=(e.objects??[]).map(h=>{const g=t.getObject(h.guid);return g!==null?function(y,v){const b=ke.fromJson(v);return oa(v.objectType).map(x=>x.name).filter(x=>!function(S,C,I){if(S.isReadonlyAttr(I)!==C.isReadonlyAttr(I))return!1;if(S.isReference(I))return I===un.ChangedBy||I===un.Owner?!0:S.getOriginalReferences(I).sort((T,A)=>T.localeCompare(A)).join(",")===C.getOriginalReferences(I).sort((T,A)=>T.localeCompare(A)).join(",");const P=S.getOriginalValue(I),N=C.getOriginalValue(I);return P===N||P!=null&&N!=null&&P.valueOf()===N.valueOf()}(y,b,x))}(g,h).map(y=>({guid:h.guid,attr:y})):[]}),s=jt(jh((e.instructions??[]).map(KD)).concat(e.deletes??[])),c=ia([n,r,i].flat(2),h=>`${h.guid}:${h.attr}`).map(({guid:h,attr:g})=>({guid:h,attr:g})).filter(({guid:h})=>!s.includes(h)&&t.has(h)),l=s.filter(h=>t.has(h)).map(h=>({guid:h})),d=jt(jh((e.instructions??[]).map(h=>h.type==="refresh_class"?h.args.classnames:[]))).map(h=>({entity:h}));return jh([c,l,d])}function KD(t){return t.type==="refresh_object_list"?t.args.ObjectIds:[]}async function Pt(t,e,n,r){return Px(t,e,n,dg(t,n),r)}async function Px(t,e,n,r,i){const s=function(c,{objects:l=[],committedObjectsOmitted:d=!1,commits:h=[]}){const g=l.map(v=>v.guid),y=d?h.filter(v=>!l.some(b=>b.guid===v)):[];return c.lock(g.concat(y))}(e,n);try{await async function(h,g,{objects:y=[],changes:v={},newpersistable:b=[],commits:x=[],deletes:S=[],resets:C={},committedObjectsOmitted:I=!1}){h.removeChanges(C),h.addChanges(v);const P=y.filter(A=>N(A)).filter(A=>T(A)?b.includes(A.guid):!x.includes(A.guid)).map(A=>A.guid);if(h.onCreate(P),h.onDelete(S),h.onCommit(x),h.setMxObjects(y),I){const A=x.filter(F=>h.has(F)&&!y.some($=>$.guid===F));if(A.length>0){const F=await dp(A,{});await Pt(h,g,F)}}function N(A){return!h.has(A.guid)}function T(A){return!!Ne(A.objectType)?.isPersistable}}(t,e,n);const c=(n.instructions??[]).filter(h=>h.type==="close"),l=(n.instructions??[]).filter(h=>h.type==="open_form"),d=l.some(h=>h.args.FormTarget==="content");if(function(h,g,y){if(h.length===0||!g)return;const v=h.reduce((b,x)=>b+x.args.NumberOfPagesToClose,0);if(v<1)throw new U(`The number of pages to close evaluated to ${v}. It must be at least 1.`);g.setSuspend(!0),g.closePage(v,!0,y).finally(()=>{g.setSuspend(!1)}).catch(b=>{Dt(b)})}(c,i?.targetForm,d),await wn(...r),await async function(h,g){const y=[],v=[...h].reverse().find(b=>b.args.FormTarget==="content");for(const b of h){const x=b.args.FormTarget,S=x==="content"&&b!==v,C=$a();y.push(C.openForm2(b.args.FormPath,kr(b.args.FormParameters,I=>I??void 0),b.args.FormTitle,g,{location:x,url:b.args.FormUrl,queryString:b.args.QueryString,width:b.args.FormWidth,height:b.args.FormHeight,resizable:b.args.FormResizable,pageUpdateSuspended:S,preferUnderlyingModalOverLastFocusedElement:!0}))}await Promise.all(y)}(l),await lg(n.instructions),await fg(n.datavalidation),!i?.autoRelease)return s}catch(c){throw i?.autoRelease||s(),c}finally{i?.autoRelease&&s()}}async function fn(t,e,n){if(e instanceof ml){const r=e.original,i=dg(t,r).filter(s=>!("attr"in s));await wn(...i),await lg(r.instructions),await fg(r.datavalidation,n)}}async function fg(t,e){const n=Xp.fromResponse(t??[]);await it().sendValidationUpdates(n),n.length>0&&e&&e(n)}let Nx=class YS extends Gs{constructor(e="Could temporarily not synchronize data. Please try again later."){super(e),Object.setPrototypeOf(this,YS.prototype)}},en=class QS extends Error{constructor(e=""){super("Not implemented"+(e!==""?": "+e:"")),Object.setPrototypeOf(this,QS.prototype)}};class Ix{getByGuid(e,n){return Promise.reject(new en("getByGuid"))}getByPath(e,n,r,i){return Promise.reject(new en("getByPath"))}getByXPath(e,n,r){return Promise.reject(new en("getByXPath"))}action(e,n,r,i,s){return Promise.reject(new en("action"))}create(e){return Promise.reject(new en("create"))}commit(e,n,r,i){return Promise.reject(new en("commit"))}rollback(e){return Promise.reject(new en("rollback"))}remove(e){return Promise.reject(new en("remove"))}validate(e){return Promise.reject(new en("validate"))}saveDocument(e,n,r,i){return Promise.reject(new en("saveDocument"))}getDocumentUrl(e,n,r){throw new en("getDocumentUrl")}getImageUrl(e){return Promise.reject(new en("getImageUrl"))}cleanup(){return Promise.reject(new en("cleanup"))}}function hu(t){if(t.startsWith("data:"))return t;var e;/^\w+:\/\//.test(t)||(t=(e=t).startsWith("data:")?e:mx.appUrl+e);const n=xt().getConfig("cachebust");return t.startsWith(mx.appUrl)&&!t.endsWith(n)&&(t+=(t.includes("?")?"&":"?")+n),t}function Rx(t,e,n,r){return`${mx.remoteUrl}file?guid=${t}`+(e?`&changedDate=${e}`:"")+(n?"&thumb=true":"")+(r?`&name=${encodeURIComponent(r)}`:"")}function JD(t,e){const n=e.getLogger(Ut.Database);t.registerQueryListener(r=>{const i=new xn;return[s=>{const c=Array.isArray(s)?s:[s];n.debounced.trace(`SQL request was completed in ${i.measure()} milliseconds. Rows count: ${c.length}. Query: "${r}`)},s=>{n.warn(`SQL request was failed in ${i.measure()} milliseconds. Error: ${s.message}. Query: "${r}`)}]})}function ZD(t){if(typeof t=="string")return t;if(t instanceof Error){const e=`${t.message} ${t.stack}`;return`${(e.match(/Nanoflow stack:/g)??[]).length===2?e.replace(/^Nanoflow stack:\n(.*\n)*$/m,""):e}`}if(t?.outerHTML)return t.outerHTML;try{return JSON.stringify(t)}catch{return"[Unserializable data. See browser console for the details]"}}function hg(t){const e=t.useBackendSlot(Rr,"formSuspended"),[n]=t.useSlot(Rr,"formSuspended");return Se("Form suspension computation",()=>{const r=e.dependOn()??!1,i=n.dependOn()??!1;return r||i})}var gr;function Mx(t,e=gr.Write){return{access:e,value:t}}function Lx(){return{access:gr.None}}function Ux(t,e){const[n]=t.useSlot(e,"object");return Fx(e,n,t)}function Fx(t,e,n){return Se(`Object of ${t}`,()=>eo(e.dependOn()??Vn(),r=>(Wn({guid:r.getGuid(),tag:t},n),r.isUnavailable()?Ht():Xe(r))))}function eA(t,e,n){const[r]=t.useSlot(e,"object");return Se(`Object of ${e}`,()=>sr(eo(r.dependOn()??Vn(),i=>i.isUnavailable()?Ht():Xe(i)),i=>{Wn({guid:i.getGuid(),tag:e},t),Wn({guid:i.getGuid(),attr:n,tag:e},t);const s=i.getAttributeType(n);return Tl(_l(i.getRawValue(n),s),s)}))}function tA(t,e,n,r){return Se(`Subscribe to objects of ${t}`,()=>{const i=n.dependOn();return i.status==="available"&&r(i.value).filter(nA).forEach(s=>Wn({tag:t,guid:s.getGuid()},e)),i})}function nA(t){const e=t.getGuid(),n=it();return!t.isPartial()||n.isNew(e)||Object.keys(n.getChanges(e)).length}function rA(t,e,n,r=!1){const i=zx(t,e,n,r);return Se(`Get single object from retrieve by ${e}`,()=>eo(i.dependOn(),s=>s!=="cacheMiss"?s.length===1?Xe(s[0]):s.length===0?Ht():Ct():Xe("cacheMiss")))}function zx(t,e,n,r=!1){const i=e.split("/");let s=Se(`Root object to fetch ${e} from`,()=>sr(t.dependOn(),c=>[c]));for(;i.length>0;){const[c,l]=i.splice(0,2),d=s,h=zs(`Fetch ${c} of ${e}`,()=>{const g=d.dependOn();if(g.status!=="available"||g.value==="cacheMiss")return g;const y=new Set,v=new Set;let b=[];for(const S of g.value){if(S.isPartial()||(Wn({guid:S.getGuid()},n),Wn({guid:S.getGuid(),attr:c},n)),!S.has(c))return Ht();const C=S.getChildren(c);if(C.length)b.push(...C);else for(const I of S.getReferences(c)){const P=it().getCachedObject(I);P?v.add(P):y.add(I)}}const x=new Set(Array.from(v).map(S=>S.getGuid()));for(const S of b.map(C=>C.getGuid()))(y.has(S)||x.has(S)||b.filter(C=>C.getGuid()===S).length>1)&&(b=b.filter(C=>C.getGuid()!==S),x.has(S)||y.add(S));return y.size===0?Xe(b.concat(...v)):r?Xe("cacheMiss"):ti(Array.from(y)).then(S=>Xe(S.concat(...b,...v)))});s=Se(`Cast fetch result of ${c} in ${e}`,()=>{const g=h.dependOn();return g.status!=="available"||g.value==="cacheMiss"?g:(g.value.forEach(y=>Wn({guid:y.getGuid()},n)),Xe(g.value.filter(y=>!y.isUnavailable()&&y.isA(l))))})}return s}function Bx(t,e,n){return t.isPartial()||(Wn({guid:t.getGuid()},n),Wn({guid:t.getGuid(),attr:e},n)),t.has(e)?Mx(t.get2(e),t.isReadonlyAttr(e)?gr.Read:gr.Write):Lx()}function aA(t,e,n){return Se(`Value of ${e}`,()=>sr(t.dependOn(),r=>Array.isArray(r)?function(i,s,c){const l=i.map(d=>Bx(d,s,c));return l.every(d=>d.access===gr.None)?Lx():Mx(l.filter(d=>d.access!==gr.None).map(d=>d.value),gr.Read)}(r,e,n):Bx(r,e,n)))}function Vx(t,e,n,r){const i=hg(t),[s]=t.useSlot(e,"firstLoadDone");let c;return Se(`Load trigger when not suspended of data source of ${e}`,()=>{const l=i.dependOn(),d=n.dependOn(),h=Tn(s)!==!0;return l&&r?.(),l&&!h&&c!==void 0||(c=d),c})}(function(t){t[t.None=0]="None",t[t.Read=1]="Read",t[t.Write=2]="Write"})(gr||(gr={}));const iA={status:"unavailable",value:void 0},oA={status:"loading",value:void 0};function pu(t){return{status:"available",value:t}}function Wx(){return iA}function sA(t){switch(t.status){case"available":return pu(t.value);case"unavailable":return Wx();case"loading":return e===void 0?oA:{status:"loading",value:e}}var e}function nd(t){return Hx(Se(`Dynamic ${Ln(t.name)}`,()=>sA(t.dependOn())),e=>({value:e.value}))}const uA=100;function Hx(t,e){let n,r,i={};const[s,c]=np(`Reloadable monitor of ${Ln(t.name)}`),l=ep(t);return Se(`Reloadable ${Ln(t.name)}`,()=>{s.dependOn();const d=t.dependOn(),h=d===l.dependOn();switch(function(g){g===void 0||g>=xo.length||(xo[g]=void 0)}(r),d.status){case"available":return i=e(d),n=d;case"unavailable":return i={},n=d;case"loading":return n?(h||(r=function(g){const y=xo.length;return xo.push(g),xo.length===1&&setTimeout(()=>fa(()=>xo.splice(0).forEach(v=>v?.())),uA),y}(()=>{n={...d,...i},c(),r=void 0})),n):n=d}})}const xo=[];function cA(t,e,n,r,i=!0,s=!1){const c=kr(t,l=>{if("expression"in l)return pg(e,l,n,Tp,r,s);{const{widget:d,source:h}=l,g=rd(e,h,d,i);return Se(`action argument for ${n}`,()=>{const y=(r?.dependOn()??{})[d]??{};return h in y?Xe(y[h]):g.dependOn()})}});return Se("Load action parameters",()=>kr(c,l=>l.dependOn()))}function rd(t,e,n,r=!0){switch(e){case"object":return function(i,s){const c=Ux(i,s);return Se(`Load object of ${s}`,()=>sr(c.dependOn(),l=>({object:l})))}(t,n);case"selection":return function(i,s,c){const[l]=i.useSlot(s,"selection");return Se(`Load selection of ${s}`,()=>{const d=l.dependOn();return d&&(c||d.length>0)?Array.isArray(d)?Xe({ids:d}):Xe({id:d}):Ht()})}(t,n,r);case"localvariable":return function(i,s){const[c]=i.useSlot(s,"localvariable");return Se(`Load variable of ${s}`,()=>{const l=c.dependOn();return l===void 0?Ht():l.status==="available"?l.value===void 0?Ht():Xe({primitive:l.value}):l})}(t,n);default:Ct()}}function pg(t,e,n,r,i,s=!1){const c=`Value of ${zi(n)}`,l=nd(qp(c,t,e.expression,d=>{const h=Se("widget variable computation",()=>{const y=i?.dependOn()??{};return function(v,b,x){const{widget:S,source:C}=b;return(x?.[S]??{})[C]}(0,d,y)}),g=Gp(d)?Hp(c,t,d):dl(void 0);return Se("widget or store variable",()=>Aj(h.dependOn())??g.dependOn())}));return Se("Load expression argument",()=>eo(l.dependOn(),d=>s||d!==void 0?Xe(r(d,e.kind)):Ht()))}function lA(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];r&&(e[n]="objects"in r?{guids:r.objects.map(i=>i.getGuid())}:"object"in r?{guid:r.object.getGuid()}:"id"in r?{guid:r.id}:"ids"in r?{guids:r.ids}:"primitive"in r?{value:Cp(r.primitive)}:r)}),e}async function dA(t){const e=new Set;Object.keys(t).forEach(s=>{const c=t[s];c!==void 0&&(("object"in c?[c.object]:"objects"in c?c.objects:[]).filter(l=>l.isPartial()).forEach(l=>e.add(l.getGuid())),"id"in c?e.add(c.id):"ids"in c&&c.ids.forEach(l=>e.add(l)))});const n=Th(await ti(Array.from(e)),s=>s.getGuid());function r(s){return typeof s=="string"?n[s]:s.isPartial()?n[s.getGuid()]:s}function i(s){return s.map(r).filter(c=>c)}return Object.keys(t).map(s=>{const c=t[s];return{name:s,value:c&&("object"in c?r(c.object):"objects"in c?i(c.objects):"id"in c?r(c.id):"ids"in c?i(c.ids):"primitive"in c?c.primitive:Ct())}})}function gg(t){const e=[];return Object.values(t).forEach(n=>{"guid"in n?e.push(n.guid):"guids"in n&&e.push(...n.guids)}),e}function fA(t,e,n,r,i=!1){const s=Object.entries(t).map(l=>{const[d,h]=l;let g;if("expression"in h)g=pg(e,{...h},n,Tp);else{const{widget:y,source:v}=h;g=rd(e,v,y)}return{name:d,value$:zs(`Parameter ${d} of ${r}`,()=>{const y=g.dependOn();if(y.status!=="available")return y;const v=y.value;return v!==void 0?"object"in v?Xe(v.object):"objects"in v?Xe(v.objects):"id"in v?c(v.id):"ids"in v?c(v.ids):"primitive"in v?Xe(v.primitive):Ct():Ct()})}});async function c(l){return Array.isArray(l)?async function(d){return ti(d).then(h=>{const g=Th(h,y=>y.getGuid());return d.map(y=>g[y]).filter(y=>y)})}(l).then(d=>Xe(d)):ao(l).then(d=>d?Xe(d):Ht())}return Se(`Parameters of ${r}`,()=>{const l=s.map(({name:d,value$:h})=>({name:d,value:h.dependOn()}));return l.every(({value:d})=>d.status!=="loading")?i&&l.some(({value:d})=>d.status!=="available")?Ht():Xe(l.map(({name:d,value:h})=>({name:d,value:Zh(h,void 0)}))):Vn()})}function hA(t,e,n,r=!1){const i=`data source of ${n}`,s=Object.entries(t).map(([c,l])=>({name:c,value$:"expression"in l?pg(e,l,n,Pj):gA(c,l,i,e)}));return Se(`Parameters of ${i}`,()=>{const c=s.map(({name:l,value$:d})=>({name:l,value:d.dependOn()}));return c.every(({value:l})=>l.status!=="loading")?r&&c.some(({value:l})=>l.status!=="available")?Ht():Xe(Object.fromEntries(c.filter(({value:l})=>l.status==="available").map(({name:l,value:d})=>jn(l,ww(d))))):Vn()})}function Gx(t,e,n){const r=rd(n,e.source,e.widget);return Se(`value of ${t}`,()=>sr(r.dependOn(),i=>i!==void 0&&"primitive"in i?i.primitive instanceof Date?i.primitive.getTime():i.primitive:void 0))}function pA(t,e,n,r){const i=Gx(t,{widget:e,source:"localvariable"},r);return Se(n,()=>sr(i.dependOn(),s=>s===null?void 0:{value:s}))}function gA(t,e,n,r){const i=`Value of ${t} parameter of ${n}`,s=rd(r,e.source,e.widget);return Se(i,()=>sr(s.dependOn(),c=>c!==void 0?"object"in c?{guid:c.object.getGuid()}:"objects"in c?{guids:c.objects.map(l=>l.getGuid())}:"id"in c?{guid:c.id}:"ids"in c?{guids:c.ids}:"primitive"in c?{value:Cp(c.primitive)}:Ct():Ct()))}function $o(t,e){const n=xt(),r=[n.getUserId(),n.getSessionObjectId()],i=t.getAllObjects(),s=Kl(i,e.concat(r));return si(t,s)}function So(t,e,n){const r=new Set,i=t.getAllObjects(),[s,c]=nr(h=>t.getObject(h)?.metaData.needsReachableState[n]??!1,e);if(s.length!==0){const h=xt(),g=[h.getUserId(),h.getSessionObjectId()];ko(r,Kl(i,s.concat(g)))}const l=i.filter(h=>t.isNew(h.getGuid())),d=c.filter(h=>t.isNew(h));switch(ko(r,c),n){case"commit":ko(r,Kl(l,d)),ko(r,MD(t,i,c));break;case"delete":ko(r,cx(i,c));break;case"rollback":ko(r,cx(i,d))}return si(t,Array.from(r))}function ko(t,e){e.forEach(n=>t.add(n))}function ad(t,e,n){const{commits:r=[],deletes:i=[]}=n;e.forEach(s=>{const c=s.getGuid();if(r.includes(c)){const l=t.getObject(c);if(!l)throw new Error("inconsistent response: committed object is missing from response and cache");s.resetFromJSON(l.jsonData)}else i.includes(c)&&s.markAsUnavailable()})}function qx(t,e,n){t.getLockedGuids().has(n)||e.removeObjectKeepChanges(n)}function Yx(t,e,n,r){if(Object.keys(e).length===0)throw new U("No updates specified.");const i=[],s=[];Object.entries(e).forEach(([d,h])=>{s.push(`"${He(d)}" = ?`),i.push(wx(h,d==="guid"?"String":H(t.attributes[d]?.type)))});const c=Pe(He(t.name)),l=`WHERE ${c}.[${He(n)}] = ?`;return[`UPDATE ${c} SET ${s.join(", ")} ${l}`,[...i,vx(r)]]}let mA=class{constructor(e){this.place=e,this.listeners={},this.suspended=!1,this.title="",this.historyId=Hn("form")}getTitle(){return this.title}setSuspend(e){this.suspended!==e&&(this.suspended=e)}isSuspended(){return this.suspended}publish(e,n,r){const i=(this.listeners[e]??[]).slice();(function s(){i.length?(s.data=n?.data,i.pop()(s,r??Dt)):n!==void 0&&n()})()}listen(e,n){const r=this.listeners[e]??[];return this.listeners[e]=r,r.push(n),()=>r.splice(r.indexOf(n),1)}unlisten(e){e()}close(e,n){this.closePage(1,!1).then(e).catch(r=>{n&&n(r)})}getHistoryId(){return this.historyId}},yA=class extends mA{constructor(e){super("content"),this.storeBackend=e.storeBackend,this.historyId=e.historyId,this.name=e.name,this.title=e.title,this.pageContent=e.pageContent,this.formParameters=e.formParameters,this.setFormSuspended=n=>this.storeBackend.set(Rr,"formSuspended",ni,n),fa(()=>{this.storeBackend.set(Rr,"form",ni,[this,this.getHistoryId()]),Object.keys(this.formParameters).forEach(n=>{this.storeBackend.set(n,"firstLoadDone",ni,!1)}),this.setFormSuspended(!1)}),ti(this.getParameterGuids()).then(n=>fa(()=>this.setFormParameters(n)),n=>Dt(n))}getStoreBackend(){return this.storeBackend}getName(){return this.name}getParameterGuids(){return Object.values(this.formParameters).filter(e=>e)}setSuspend(e){super.setSuspend(e),fa(()=>this.setFormSuspended(e))}getSubmitObjects(){const e=Tn(this.storeBackend.getAllEntries$("editableObject")).map(({value:n})=>n?Zh(n,void 0):void 0).filter(n=>n);return jt(e)}async triggerValidation(){if(this.storeBackend.set(Rr,"validationRequest",ni,Hn("validation_request")),await Xs(0),Tn(this.storeBackend.getAllEntries$("isInvalid")).some(({value:e})=>e))throw new ml}getPlaceholderContent(e){return this.pageContent[e]??null}setFormParameters(e){Object.keys(this.formParameters).forEach(n=>{const r=this.formParameters[n],i=e.find(c=>c.getGuid()===r),s=n;this.storeBackend.set(s,"object",ni,i?Xe(i):Ht()),this.storeBackend.set(s,"firstLoadDone",ni,!0)})}};const bA=_t.get().getLogger();let vA=0;class mg{constructor(e){this.id=this.ident=++vA,this.trackId="",this.trackEntity="",this.trackObject=null,this.localParams={},this.constraintby=[],this._entityToGuid={},this._mxidToObject={},e&&(e.mxcontext&&this.dupFrom(e.mxcontext),e.classname&&e.mendixguid?this.setContext(e.classname,e.mendixguid):e.entity&&e.guid&&this.setContext(e.entity,e.guid))}hasTrackEntity(){return this.trackEntity!==""}hasTrackId(){return!!this.trackId}hasTrackObject(){return!!this.trackObject}getTrackEntity(){return this.trackEntity}getTrackId(){return this.trackId}getTrackObject(){return this.trackObject}setTrackObject(e){e&&this.setContext(e.getEntity(),e.getGuid()),this.trackObject=e}getObject(){return this.trackObject}setConstraints(e){e!=null&&e!==""&&e.length!==0&&(this.constraintby=typeof e=="string"?e.split(","):e)}getConstraints(){for(var e=[],n=0;n<this.constraintby.length;n++)e.push(this.constraintby[n]);return e}hasBacktrack(){return this.constraintby.length!==0}getEntities(){return Object.keys(this._entityToGuid).filter(e=>e!==void 0&&this._entityToGuid[e]!=="")}setContext(e,n){if(arguments.length===1&&arguments[0]instanceof ke){var r=arguments[0];e=r.getEntity(),n=r.getGuid()}this.trackEntity=e??"",this.trackId=n??"",this.trackObject=null,this._entityToGuid[this.trackEntity]=this.trackId}unsetContext(e){if(typeof e!="string")throw new Error("mendix/lib/MxContext.unsetContext: parameter entity is not of type String");delete this._entityToGuid[e]}getContext(e){if(typeof e!="string")throw new Error("mendix/lib/MxContext.getContext: parameter entity is not of type String");if(e in this._entityToGuid)return this._entityToGuid[e];var n=Ne(e),r=null;return(n?.specializations??[]).some(i=>i in this._entityToGuid&&(r=this._entityToGuid[i],!0)),r}hasContext(e){if(typeof e!="string")throw new Error("mendix/lib/MxContext.hasContext: parameter entity is not of type String");return this.getContext(e)!=null}reset(){this._entityToGuid={},this._mxidToObject={},this.trackId=null,this.trackEntity="",this.trackObject=null}dupFrom(e){this.reset(),this.mixin(e)}mixin(e){if(e)e.getEntities().forEach(n=>this.setContext(n,e.getContext(n))),e.getWidgetIds().forEach(n=>this.setWidgetObject(n,e.getWidgetObject(n))),this.setParams(e.getParams()),this.setConstraints(e.getConstraints()),this.setContext(e.getTrackEntity(),e.getTrackId()),this.setTrackObject(e.getTrackObject());else{const n=this.getTrackEntity();n&&this.unsetContext(n),this.setContext(null,null)}}hasParam(e){return e in this.localParams}getParam(e){return this.hasParam(e)?this.localParams[e]:null}getParams(){return this.localParams}setParam(e,n){if(e==null)throw new Error("mendix/lib/MxContext["+this.ident+"].setParam key is null");this.localParams[e]=n}setParams(e){if(typeof e!="object")throw new Error("mendix/lib/MxContext["+this.ident+"].setParams requires an Object.");for(var n in e)this.localParams[n]=e[n]}unsetParam(e){delete this.localParams[e]}resetParams(){this.localParams={}}isEmpty(){for(var e in this._entityToGuid)return!0;return!1}getGuids(){for(var e=this.getEntities(),n=this.getTrackId(),r=n?[n]:[],i=0,s=e.length;i<s;i++){var c=e[i];if(c!==un.Owner&&c!==un.ChangedBy){var l=this.getContext(c);l!==n&&r.push(l)}}return r}getWidgetIds(){return Object.keys(this._mxidToObject)}getWidgetObject(e){return this._mxidToObject[e]}setWidgetObject(e,n,r=!0){r&&this.setTrackObject(n),this._mxidToObject[e]=n}getWidgetObjectMap(){return{...this._mxidToObject}}freeze(){this.setTrackObject=this.setConstraints=this.setContext=this.unsetContext=this.reset=this.dupFrom=this.setParam=this.setParams=this.unsetParam=this.setWidgetObject=this.resetParams=function(){return bA.error("mendix/lib/MxContext["+this.ident+"].freeze: context is readonly"),!1}}}let wA=class XS extends Error{constructor(e){super(`${e} is disabled`),Object.setPrototypeOf(this,XS.prototype)}};const Eo=t=>{if(xt().isStrictModeEnabled()&&!io())throw new wA(t)},Qx=t=>"guid"in t&&t.guid!==null||"guids"in t&&t.guids!==void 0,Xx=t=>"path"in t,Kx=t=>"entity"in t,Jx=t=>"microflow"in t,xA={equals:"=",lessThan:"<",lessThanOrEquals:"<=",greaterThan:">",greaterThanOrEquals:">=",contains:"contains"};function $A(t,e){const n=Zx(Ne(t),e);return n.length>1?{type:"function",name:"and",parameters:n}:n[0]}function Zx(t,e){return e.map(n=>{switch(n.operator){case"and":case"or":return{type:"function",name:n.operator,parameters:Zx(t,n.constraints)};default:const r=t?.attributes[n.attribute]?.type??"String",i={type:"function",name:xA[n.operator],parameters:[{type:"attribute",attribute:n.attribute,attributeType:r},{type:"value",value:SA(n.value,r),isGuid:r==="ObjectReference"}]};return n.negate?{type:"function",name:"not",parameters:[i]}:i}})}function SA(t,e){if(t!=null)switch(e){case"Boolean":return t==="true";case"DateTime":return new Date(Number(t));case"Decimal":case"Integer":case"Long":return new ee(String(t));default:return String(t)}}const yg={mxobjs:[],count:0};class li{constructor(e,n,r,i,s){this.objectCache=e,this.lockManager=n,this.onlineDataBackend=r,this.garbageCollector=i,this.offlineDataBackend=s,this.name="mendix.sys.Data",this.validationSubscriptions=[],this.sendValidationUpdates=ln(async c=>{const l=[];c.forEach(y=>{const v=y.clone();this.validationSubscriptions.filter(b=>"guid"in b&&b.guid===y.getGuid()).forEach(({callback:b})=>{const x=y.clone();b([x]);const S=x.getAttributes().map(C=>C.name);v.getAttributes().forEach(({name:C})=>{S.includes(C)||v.removeAttribute(C)})}),l.push(v)});const d=c.flatMap(y=>y.getAttributes().map(({name:v,reason:b})=>({guid:y.getGuid(),attr:v,val:b}))),{handled:h}=await wn(...d);h.filter(y=>"guid"in y&&"attr"in y).forEach(({guid:y,attr:v})=>{l.find(b=>b.getGuid()===y).removeAttribute(v)});const g=l.filter(y=>y.getAttributes().length);if(g.length){const y=Xp.describe(g);$a().showMessage("error",y,!1)}})}getBacktrack(e,n,r,i,s){let c;if(typeof i!="function"?(s=i,c=null):c=i,!n||n.length===0)return void r.call(s,"",!0);let l=null;const d=[];let h=0,g=!0;const y=this,v=function(){const b=n[h++];b?y.runMapPath(l,b,x=>{x?d.push(x):g=!1,v()},y.createErrorHandler(c,s)):r.call(s,d.join(""),g)};e?y.get({guid:e,callback(b){b?(l=b,v()):r.call(s,"",!1)},error:y.createErrorHandler(c,s)}):r.call(s,"",!1)}toString(){return this.name}startup(){this.garbageCollector.initialize()}subscribe(e,n){if(!("val"in e)||"attr"in e)return cl({...e,callback:()=>{if(e.callback){if("entity"in e)return e.callback.apply(n,[e.entity]);if("attr"in e){const s=this.objectCache.getObject(e.guid),c=s!=null?s.get(e.attr):null;return e.callback.apply(n,[e.guid,e.attr,c??""])}return"guid"in e?e.callback.apply(n,[e.guid]):e.callback.apply(n)}}});const r={...e,callback(...s){e.callback&&e.callback.apply(n,s)}};this.validationSubscriptions.push(r);const i=this.lockManager.lock([e.guid]);return{unsubscribe:()=>{const s=this.validationSubscriptions.indexOf(r);i(),s!==-1&&this.validationSubscriptions.splice(s,1)}}}unsubscribe(e){if(!("unsubscribe"in e))throw new U("Trying to unsubscribe using an invalid subscription handle");e.unsubscribe()}updateInCache(e){return this.objectCache.removeAllChanges([e.guid]),this.objectCache.setMxObjects([e]),this.objectCache.getObject(e.guid)}removeChanges(e){this.objectCache.removeAllChanges([e])}action(e){Eo("mx.data.action"),this.onlineDataBackend.action(e.params,e.context??new mg,e.origin,!!e.async,e.onValidation).then(e.callback,this.createErrorHandler(e.error,null))}callNanoflow({nanoflow:e,context:n,origin:r,callback:i,error:s}){const c=this;(async function(){const l=e.nanoflow,d=e.paramsSpec,h=Object.keys(d).map(b=>({name:b,guid:n.getContext(d[b])})),g=h.filter(b=>!!b.guid).map(b=>b.guid),y=await async function(b){return new Promise((x,S)=>{c.get({guids:b,callback:C=>x(C&&Array.isArray(C)?C:[]),error:S})})}(g),v=h.map(({name:b,guid:x})=>({name:b,value:y.find(S=>S.getGuid()===x)}));try{return await cu.execute(l,v,r)}catch(b){throw await fn(c.objectCache,b),b}})().then(l=>this.runCallback(i,null,l),this.createErrorHandler(s,null))}get(e,n=null){("xpath"in e||"microflow"in e||"path"in e)&&Eo("mx.data.get");const r=e.callback;if("guid"in e&&e.guid==null)return void this.runCallback(e.callback,n,null);if(!((s=>"xpath"in s)(e)||Xx(e)||Qx(e)||Kx(e)||Jx(e)))throw new U("xpath, guid|guids and microflow arguments are undefined");if(typeof r!="function")throw new U("callback is not a function");if("error"in e&&typeof e.error!="function")throw new U("error is not a function");"filter"in e&&e.filter?.limit&&(e.filter.amount=e.filter.limit,delete e.filter.limit);const i=this.mixinParams({},e.filter,"guid"in e&&e.guid!==null?{id:null}:{id:null,attributes:null,offset:null,sort:null,amount:null,distinct:null,references:null});i.id&&"guids"in e&&!("guid"in e)&&delete i.id,i.id&&(delete i.attributes,delete i.distinct),e.filter=i,Jx(e)?this.getByMicroflow(e,n):Xx(e)?this.getByPath(e,n):Qx(e)?this.getByGuid(e,n):Kx(e)?this.getByEntity(e,n):this.getByXPath(e,n)}getByMicroflow(e,n){const r=li.extractGuids(e);let i={actionname:e.microflow,applyto:"none"};r?i={actionname:e.microflow,applyto:"selection",guids:r}:e.xpath&&(i={actionname:e.microflow,applyto:"set",xpath:e.xpath},e.filter?.sort&&(i.sort=e.filter.sort));const s=e.context??new mg;this.action({params:i,context:s,callback:(...c)=>this.runCallback(e.callback,n,...c),error:e.error})}getByPath(e,n){const r=li.extractGuids(e);if(r?.length!==1)throw new U("path can only be used with a single guid");const i=r[0],s=e.direction??"reverse";(s==="direct"&&ma(i)||s==="reverse"&&io(e.entity)?this.offlineDataBackend.getByPath(i,e.path,e.entity,s,c=>this.getByGuids(c)):this.onlineDataBackend.getByPath(i,e.path,e.entity,s)).then(({mxobjs:c,count:l})=>{this.runCallback(e.callback,n,c,{count:l})},this.createErrorHandler(e.error,n))}getByGuid(e,n){const r="guid"in e?e.guid:null,i=li.extractGuids(e);i&&i.length!==0?this.getByGuids(i,e.filter).then(({mxobjs:s,count:c})=>{if(r){const l=e.filter?.id?s.find(d=>d.getGuid()===r):s[0];this.runCallback(e.callback,n,l??null,{count:c})}else this.runCallback(e.callback,n,s,{count:c})},e.error):r?this.runCallback(e.callback,n,null,{count:0}):this.runCallback(e.callback,n,[],{count:0})}async getByGuids(e,n){const[r,i]=nr(l=>this.objectCache.has(l),e),[s,c]=await Promise.all([this.getFromCache(r,n),(async l=>{const[d,h]=nr(ma,l);return(await Promise.all([d.length>0?this.offlineDataBackend.getByGuid(d,n):Promise.resolve(yg),h.length>0?this.onlineDataBackend.getByGuid(h,n):Promise.resolve(yg)])).reduce((g,y)=>({mxobjs:[...g.mxobjs,...y.mxobjs],count:g.count+y.count}),yg)})(i)]);return{mxobjs:[...s.mxobjs,...c.mxobjs],count:s.count+c.count}}getByEntity(e,n){const r=e.entity,i=e.filter??{};io(r)?yt().retrieveUncached(r,void 0,i).then(({mxObjects:s,count:c})=>{this.runCallback(e.callback,n,s,{count:c})},e.error):this.onlineDataBackend.getByXPath(`//${r}`,i,e.count).then(({mxobjs:s,count:c,hasMoreItems:l})=>{this.runCallback(e.callback,n,s,{count:c,hasMoreItems:l})},e.error)}getByXPath(e,n){this.onlineDataBackend.getByXPath(e.xpath,e.filter,e.count).then(({mxobjs:r,count:i,hasMoreItems:s,aggregates:c})=>{this.runCallback(e.callback,n,r,{count:i,hasMoreItems:s,aggregates:c})},e.error)}getOffline(e,n,r,i,s){const c={offset:r.offset,sort:r.sort,amount:r.limit};yt().retrieveUncached(e,$A(e,n),c).then(({mxObjects:l,count:d})=>{this.runCallback(i,null,l,d)}).catch(this.createErrorHandler(s,null))}create(e,n=null){if(Eo("mx.data.create"),typeof e.callback!="function")throw new U("callback is not a function");if(e.error&&typeof e.error!="function")throw new U("error is not a function");if(typeof e.entity!="string")throw new U("entity is not a string");(io(e.entity)?yt().create(e.entity):this.onlineDataBackend.create(e.entity)).then(function(i){e.context&&r.setObjectToContext(i,e.context),r.runCallback(e.callback,n,i)},this.createErrorHandler(e.error,n));const r=this}remove(e){Eo("mx.data.remove");const n=li.extractGuids(e);if("guids"in e&&!Array.isArray(e.guids))throw new U("parameter guids set but not of type Array");if(e.error&&typeof e.error!="function")throw new U("parameter error set but not of type Function");if(e.callback&&typeof e.callback!="function")throw new U("parameter callback set but not of type Function");const r=this.createErrorHandler(e.error,null),[i,s]=nr(ma,n);(s.length>0?this.onlineDataBackend.remove(s):mr.emptyResolved).then(()=>{(i.length>0?this.offlineDataBackend.remove(i):mr.emptyResolved).then(()=>this.runCallback(e.callback),r)},r)}validate(e,n,r){if(e.length===0)return void this.runCallback(n);const i=e.map(l=>l.getGuid()).filter(l=>!ma(l)),s=i.length>0?this.onlineDataBackend.validate(i):Promise.resolve({}),c=this.createErrorHandler(r,null);s.then(()=>this.runCallback(n,c),c)}commit(e,n){Eo("mx.data.commit");const r=()=>this.runCallback(e.callback,n),i=this.createErrorHandler(e.error,n),s=this.normalizeArguments(e);if(s.length===0)return void r();const c=e.context??new mg,l=s.map(y=>y.getGuid()),[d,h]=nr(ma,l);(h.length>0?this.onlineDataBackend.commit(h,c,e.store,e.onValidation):mr.emptyResolved).then(y=>{(d.length>0?this.offlineDataBackend.commit(d,c):mr.emptyResolved).then(v=>function(b){const x=b.reduce(mr.combine,mr.empty);ad(g.objectCache,s,x);const S=jt(s.filter(P=>g.objectCache.has(P.getGuid()))).map(P=>({entity:P.getEntity()})),C=jt(s.map(P=>P.getGuid())).map(P=>({guid:P})),I=S.concat(C);wn(...I).then(r,i)}([y,v]),i)},i);const g=this}rollback(e,n){Eo("mx.data.rollback");const r=this.createErrorHandler(e.error,n),i=this.normalizeArguments(e);if(i.length===0)return void this.runCallback(e.callback,n);const s=jt(i.map(g=>g.getEntity())).map(g=>({entity:g})),c=i.map(g=>g.getGuid()),[l,d]=nr(ma,c);(d.length>0?this.onlineDataBackend.rollback(d):mr.emptyResolved).then(g=>{(l.length>0?this.offlineDataBackend.rollback(l):mr.emptyResolved).then(y=>function(v){const b=v.reduce(mr.combine,mr.empty);ad(h.objectCache,i,b);const x=jt(i.filter(C=>h.objectCache.has(C.getGuid()))).map(C=>({guid:C.getGuid()})),S=s.concat(x);wn(...S).then(()=>h.runCallback(e.callback,n),r)}([g,y]),r)},r);const h=this}async synchronizeOffline({fullReset:e,incompatibleEntities:n}={fullReset:!1}){io()&&await yt().runFullSynchronization(e,n)}saveDocument(e,n,r,i,s,c){const l=this.createErrorHandler(c,null);(ma(e)?this.offlineDataBackend.saveDocument(e,n,r,i):this.onlineDataBackend.saveDocument(e,n,r,i)).then(function(){wn({guid:e}).then(s,l)},l)}setObjectToContext(e,n){if(typeof e!="object")throw new U("parameter mxObj is not of type Object");if(typeof n!="object")throw new U("parameter context is not of type Object");const r=e.getAttributes();for(const i of r)if(e.isReference(i)){const s=e.getSelectorEntity(i);if(!s)throw new U("selectorEntity did not return an entity");if(Ph(i))continue;n.hasContext(s)&&e.addReference(i,n.getContext(s));const c=Ne(s)?.specializations??[];for(const l of c)n.hasContext(l)&&e.addReference(i,n.getContext(l))}}getObjectFromContext(e,n){const r=e.getObject(),i=e.getTrackId();r?n(r):i?this.get({guid:i,callback(s){s||Dt("Error while fetching object with guid "+i),n(s)},error(s){Dt(s),n(null)}},this):n(null)}isNew(e){return this.objectCache.isNew(e)}makeChange(e,n,r){this.objectCache.makeChange(e,n,r)}getChanges(e){return this.objectCache.getChanges(e)}getCachedObject(e){return this.objectCache.getObject(e)}dehydrateCache(){return{objectCache:this.objectCache.dehydrate(),objectIdCache:FD()}}hydrateCache(e){this.objectCache.hydrate(e.objectCache),zD(e.objectIdCache)}getDocumentUrl(e,n,r,i){return ma(e)?this.offlineDataBackend.getDocumentUrl(e,n,r,i):this.onlineDataBackend.getDocumentUrl(e,n,r,i)}getImageUrl(e,n,r){this.onlineDataBackend.getImageUrl(e).then(n,r)}clear(e){this.objectCache.clear(),(io()?Promise.all([this.offlineDataBackend.cleanup(),this.onlineDataBackend.cleanup()]):this.onlineDataBackend.cleanup()).then(e,Dt)}uninitialize(){this.garbageCollector.finalize()}getObjectsStatistics(){return this.objectCache.getAllGuids().map(e=>{const n=this.objectCache.getObject(e);return{guid:e,object:n,changes:Ur(this.objectCache.getChanges(e)),uncommitted:this.objectCache.isNew(e),subscriptions:AO(e).concat(this.validationSubscriptions.filter(r=>"guid"in r&&r.guid===e).map(r=>r.tag)),locks:this.lockManager.getLockCount(e)}})}createErrorHandler(e,n){return r=>this.runErrorHandler(e,n,r)}runErrorHandler(e,n,r){e?e.call(n,r):Dt(r)}runCallback(e,n,...r){try{e&&e.apply(n,r)}catch(i){Dt(i)}}normalizeArguments(e){if(typeof e!="object")throw new U("args is not an object");if(typeof e.callback!="function")throw new U("callback is not a function");if(e.mxobj&&!(e.mxobj instanceof ke))throw new U("mxobj is not a MxObject");if(e.mxobjs&&!Array.isArray(e.mxobjs))throw new U("mxobjs is not an Array");if(!e.mxobj&&!e.mxobjs||e.mxobj&&e.mxobjs)throw new U("one of mxobj or mxobjs should be passed");return e.mxobj?[e.mxobj]:e.mxobjs}mixinParams(e,n,r){if(!n)return e;for(const i in r)i in n&&n[i]!=null&&(e[i]=n[i]);return e}getFromCache(e,n={}){let r=e.map(s=>this.objectCache.getObject(s)).filter(s=>s!=null);n.sort&&n.sort.forEach(s=>{const c=s[0],l=s[1];r=r.sort((d,h)=>{const g=d.get(c),y=h.get(c);return g<y?l==="asc"?-1:1:g>y?l==="asc"?1:-1:0})});const i=n.offset;if(i){const s=n.amount;r=s?r.slice(i,i+s):r.slice(i)}return{mxobjs:r,count:r.length}}runMapPath(e,n,r,i){const s=n.split("/"),c=this,l=function(d){let h=s.shift(),g=s.shift();if(d==null||d.length===0)return void r(null);const y=[];for(const b of d)b!=null&&y.push("id='"+b.getGuid()+"'");if(!y.length)return void r(null);const v=`[${g}/${h}[${y.join(" or ")}]]`;s.length===1?r(v):(h=s.shift(),g=s.shift(),r(`[${g}/${h}${v}]`))};(function(){const d=s.shift(),h=s.shift();if(s.length===1){const y=`[${h}='${e.getGuid()}']`;return void r(y)}const g=Ne(d);g!=null?e.isA(d)?wv(g,h)?e.get(h)!==""?c.get({guids:e.getReferences(h),callback:l,error:i}):r(null):c.runErrorHandler(i,null,new Error(`Reference ${h} not found in entity ${d}`)):c.runErrorHandler(i,null,new U(`Entity ${e.getEntity()} is not a ${d} or one of its subclasses`)):c.runErrorHandler(i,null,new Error(`Entity ${d} does not exist`))})()}static extractGuids(e){return!("guids"in e)&&"guid"in e&&e.guid?[e.guid]:"guids"in e?e.guids===""?[]:e.guids:void 0}}const mr=function(){const t={};return{empty:t,emptyResolved:Promise.resolve(t),combine:(e,n)=>({commits:[...e.commits??[],...n.commits??[]],deletes:[...e.deletes??[],...n.deletes??[]]})}}();let Sa=class{supported(){return!1}async runTransaction(e){throw new U("Unsupported instruction has no transaction")}getDescription(){throw new U("Unsupported instruction has no description")}async postMigrate(){return Promise.resolve()}};class kA extends Sa{}let EA=class extends Sa{};class OA extends Sa{}let CA=class extends Sa{},jA=class extends Sa{};class e$ extends Sa{constructor(e,n){super(),this.entity=e,this.fileType=n,this.filesToDelete=[]}supported(){return!0}getDescription(){return`Drop table '${this.entity}'.`}async runTransaction(e){this.fileType!=="none"&&(await e.retrieveGuidsAndChangeDatesForFileObjects(this.entity)).forEach(({guid:n,changedDate:r})=>{const i={guid:n,changedDate:r,isThumb:!1};this.filesToDelete.push(i),this.fileType==="image"&&this.filesToDelete.push({...i,isThumb:!0})}),await e.dropEntityTables([this.entity])}async postMigrate(){yt().deleteFiles(this.filesToDelete)}}let TA=class extends Sa{constructor(e,n){super(),this.entity=e,this.droppedAttributes=n}supported(){return!0}getDescription(){return`Drop columns (${this.droppedAttributes.join(", ")}) from '${this.entity}'.`}async runTransaction(e){await e.changeEntityTable(this.entity,[],this.droppedAttributes)}};class t$ extends Sa{constructor(e,n,r){super(),this.action=e,this.entity=n,this.index=r}supported(){return!0}getDescription(){return`${this.action} index (${this.index.attributes.map(e=>`${e.name}_${e.direction}`)}) from '${this.entity}'`}}let _A=class extends t${constructor(e,n){super("Add",e,n)}async runTransaction(e){await e.createIndex(this.entity,this.index)}},DA=class extends t${constructor(e,n){super("Drop",e,n)}async runTransaction(e){await e.dropIndex(this.entity,this.index)}};function AA(t,e){const n=sn(y=>H(y.modelId)),r=n(t),i=n(e),{droppedMetadata:s,addedMetadata:c,comparableMetadata:l}=function(y,v){const b=new Set([...Object.keys(y),...Object.keys(v)]);return Array.from(b).reduce((x,S)=>(y[S]&&v[S]?x.comparableMetadata.set(S,{oldMetadata:y[S],newMetadata:v[S]}):y[S]&&!v[S]?x.droppedMetadata.push(y[S]):!y[S]&&v[S]&&x.addedMetadata.push(v[S]),x),{comparableMetadata:new Map,droppedMetadata:[],addedMetadata:[]})}(r,i),d=[],h=c.map(y=>y.objectType);s.length!==0&&d.push(...s.map(y=>new e$(y.objectType,n$(y)))),h.length!==0&&d.push(...h.map(y=>new EA));const g=function(y){const v=[];for(const[,{oldMetadata:b,newMetadata:x}]of y)b.objectType!==x.objectType&&v.push(new kA),v.push(...PA(b.objectType,b.attributes,x.attributes)),v.push(...NA(b.objectType,b.indices??[],x.indices??[]));return v}(l);return d.push(...g),d}function n$(t){return r$(t)?function(e){return r$(e)&&(e.objectType==="System.Image"||e.properties.superclasses.includes("System.Image"))}(t)?"image":"file":"none"}function PA(t,e,n){const r=sn(([,v])=>H(v.modelId)),i=r(Object.entries(e)),s=r(Object.entries(n)),c=new Set([...Object.keys(i),...Object.keys(s)]),l=[],{droppedAttributes:d,renamedAttributes:h,typeChangeAttributes:g,addedAttributes:y}=Array.from(c).reduce((v,b)=>(i[b]&&s[b]?(i[b][0]!==s[b][0]&&v.renamedAttributes.push([i[b][0],s[b][0]]),i[b][1].type!==s[b][1].type&&v.typeChangeAttributes.push([i[b][0],i[b][1].type,s[b][1].type])):i[b]&&!s[b]?v.droppedAttributes.push(i[b][0]):!i[b]&&s[b]&&v.addedAttributes.push([s[b][0],s[b][1].type]),v),{droppedAttributes:[],addedAttributes:[],renamedAttributes:[],typeChangeAttributes:[]});return d.length!==0&&l.push(new TA(t,d)),h.length!==0&&l.push(new OA),g.length!==0&&l.push(new CA),y.length!==0&&l.push(new jA),l}function NA(t,e,n){const r=sn(d=>d.attributes.map(h=>`${h.name}_${h.direction}`).join("-")),i=r(e),s=r(n),c=Object.keys(i).filter(d=>!s[d]),l=Object.keys(s).filter(d=>!i[d]);return[...c.map(d=>i[d]).map(d=>new DA(t,d)),...l.map(d=>s[d]).map(d=>new _A(t,d))]}function r$(t){return t.objectType==="System.FileDocument"||t.properties.superclasses.includes("System.FileDocument")}function IA(t,e){const n=e.sync_config;if(!n)return{shouldSync:!1};if(!t)return{shouldSync:!0};if(t.bundleVersion===e.bundleVersion)return{shouldSync:!1};const r=t.sync_config,i=new Set(H(r?.schema)),s=t.metadata.filter(({objectType:y})=>i.has(y)),c=new Set(H(n.schema)),l=e.metadata.filter(({objectType:y})=>c.has(y));if(![...s,...l].every(y=>y.modelId!==void 0&&Object.values(y.attributes).every(v=>v.modelId!==void 0))){const y=la.structural;return y(r,n)?{shouldSync:!n.schema.map(v=>({oldAttrs:t.metadata.find(b=>b.objectType===v).attributes,newAttrs:e.metadata.find(b=>b.objectType===v).attributes})).every(({oldAttrs:v,newAttrs:b})=>y(v,b))}:{shouldSync:!0}}const d=function(y,v,b,x){if(!v.online)return[];const S=new Set(H(x.online)),C=b.reduce((A,{objectType:F,modelId:$})=>(S.has(F)&&A.add(H($)),A),new Set),I=new Set(v.online),[P,N]=y.reduce(([A,F],{objectType:$,modelId:k})=>(A.set(H(k),$),I.has($)&&F.set(H(k),$),[A,F]),[new Map,new Map]),T=[];for(const A of C)P.has(A)&&(N.has(A)||T.push(H(P.get(A))));return T}(s,H(r),l,H(n)),h=sn(y=>H(y.objectType))(s);if(d.length>0)return{shouldSync:!0,cleanupInstructions:d.map(y=>new e$(y,n$(H(h[y]))))};const g=AA(s,l);return g.length===0?{shouldSync:!1}:g.every(y=>y.supported())?{shouldSync:!1,dbModelSyncInstructions:g}:{shouldSync:!0}}async function RA(t,e,n,r){if(t.shouldSync)await i(),t.cleanupInstructions&&await yt().executeDBModelSyncInstructions(t.cleanupInstructions,e);else if(t.dbModelSyncInstructions){const s=t.dbModelSyncInstructions.length>1;r.info(`Found ${t.dbModelSyncInstructions.length} instruction${s?"s":""} to update the local database to match the new domain model.`);try{const c=new xn;r.info("Updating the local database to match the new domain model."),await yt().executeDBModelSyncInstructions(t.dbModelSyncInstructions,e);const l=c.measure();r.info(`Updating the local database to match the new domain model completed in ${l} milliseconds.`)}catch(c){r.warn("An error occurred while updating the local database schema. Falling back to a full startup synchronization.",c),await i()}}async function i(){const s=new xn,c=YC(n,e);await yt().runFullSynchronization(!0,c);const l=s.measure();r.log(l.ms>BC?"warning":"info",`Startup synchronization completed in ${l} milliseconds.`)}}function MA(t,e=null){return function(...n){return function(r,...i){return new Promise((s,c)=>{const l=i.concat([s,c]);r(...l)})}(t.bind(e),...n)}}let LA=class extends Ix{constructor(e,n,r){super(),this._getImageUri=r&&r.getImgUriFn?MA(r.getImgUriFn):UA,this._objectCache=e,this._lockManager=n}async getByGuid(e,n={}){const r=await vo({guids:e,filter:n},()=>dp(e,n)),i=await Pt(this._objectCache,this._lockManager,r);try{let s;if(r.resultGuids)s=r.resultGuids.map(c=>this._objectCache.getObject(c));else{const c=r.mxobjects||[];c.map(l=>l.guid).forEach(l=>qx(this._lockManager,this._objectCache,l)),s=c.map(ke.fromJson)}return{mxobjs:s,count:s.length}}finally{i()}}async getByPath(e,n,r,i){const[s,c]=$o(this._objectCache,[e]),l=await vo({guid:e,path:n,entity:r},()=>$C(e,n,r,i,s,c)),d=await Pt(this._objectCache,this._lockManager,l);try{const h=l.resultGuids||[];return{mxobjs:h.map(g=>this._objectCache.getObject(g)),count:h.length}}finally{d()}}async getByXPath(e,n,r){const i=await vo({xpath:e,filter:n,wantCount:r},()=>Uw(e,n,r)),s=await Pt(this._objectCache,this._lockManager,i);try{const c=i.count||0,l=i.aggregates||[],d=i.hasMoreItems;let h;if(Array.isArray(i.resultGuids))h=i.resultGuids.map(g=>this._objectCache.getObject(g));else{const g=i.mxobjects||[];g.map(y=>y.guid).forEach(y=>qx(this._lockManager,this._objectCache,y)),h=g.map(ke.fromJson)}return{mxobjs:h,count:c,hasMoreItems:d,aggregates:l.map(function(g){return g==null?"":new ee(g)})}}finally{s()}}async action(e,n,r,i,s){const c=e&&e.actionname?e.actionname:null,l=Bw(c);let d=e&&e.guids?e.guids:[];n!=null&&(d=d.concat(l!=null?l.parameters.map(b=>n.getContext(b)).filter(b=>b!=null):n.getGuids()));const[h,g]=Zl(this._objectCache,void 0,d.concat(Xl()));let y;try{y=i?await yl(b=>Fw(e,n,h,g,b)):await Fw(e,n,h,g)}catch(b){throw await fn(this._objectCache,b,s),b}const v=await Pt(this._objectCache,this._lockManager,y,{targetForm:r});try{return y.actionResult&&Array.isArray(y.actionResult.resultGuids)?y.actionResult.resultGuids.map(b=>this._objectCache.getObject(b)):y.actionResult}finally{v()}}async create(e){const[n,r]=Ne(e)?.needsReachableState.create?$o(this._objectCache,[]):si(this._objectCache,[]);let i;try{i=await kC(e,n,r)}catch(c){throw await fn(this._objectCache,c),c}const s=await Pt(this._objectCache,this._lockManager,i);try{return this._objectCache.getObject(i.actionResult)}finally{s()}}async commit(e,n,r,i){const[s,c]=So(this._objectCache,e,"commit");let l;try{l=await OC(e,n,s,c)}catch(d){throw await fn(this._objectCache,d,i),d}return await Pt(this._objectCache,this._lockManager,l,{targetForm:r,autoRelease:!0}),l}async rollback(e){const[n,r]=So(this._objectCache,e,"rollback");let i;try{i=await CC(e,n,r)}catch(s){throw await fn(this._objectCache,s),s}return await Pt(this._objectCache,this._lockManager,i,{autoRelease:!0}),i}async remove(e){const[n,r]=So(this._objectCache,e,"delete");let i;try{i=await jC(e,n,r)}catch(s){throw await fn(this._objectCache,s),s}return await Pt(this._objectCache,this._lockManager,i,{autoRelease:!0}),i}async validate(e){const[n,r]=si(this._objectCache,e);try{return await EC(n,r)}catch(i){throw await fn(this._objectCache,i),i}}async saveDocument(e,n,r,i){const[s,c]=So(this._objectCache,[e],"commit");let l;try{l=await zw(e,n,r,i,s,c)}catch(d){throw await fn(this._objectCache,d),d}return await Pt(this._objectCache,this._lockManager,l,{autoRelease:!0}),l}getDocumentUrl(e,n,r,i){return Rx(e,n,r,i)}getImageUrl(e){return this._getImageUri(e)}cleanup(){return Promise.resolve()}};function UA(t){return Promise.resolve(t)}let FA=class{constructor(e){this.url=e,this.connectHandlers=[],this.instructionHandlers=[],window.setInterval(()=>{this.send(JSON.stringify({type:"ping"}))},1e4)}isConnected(){return this.socket!==void 0&&this.socket.readyState===WebSocket.OPEN}onConnect(e){this.isConnected()?e():this.connectHandlers.push(e)}onInstruction(e,n){this.instructionHandlers.push({type:e,handler:n})}sendLog(e,n,r){if(this.isConnected())for(let i=0;i<r.length;i+=6e4){const s=r.substr(i,6e4);this.send(JSON.stringify({type:"log",node:n,data:`${e}:${s}`}))}}send(e){this.isConnected()&&H(this.socket).send(e)}connect(){try{this.socket=new WebSocket(this.url),this.socket.onopen=()=>{this.connectHandlers.forEach(e=>e()),this.connectHandlers.splice(0)},this.socket.onmessage=({data:e})=>{const n=JSON.parse(e);this.instructionHandlers.slice().filter(({type:r})=>r===n.type).forEach(({handler:r})=>r(n))},this.socket.onclose=()=>this.reconnect()}catch{this.reconnect()}}reconnect(){this.socket=void 0,setTimeout(()=>this.connect(),1e3)}},zA=class{constructor(e,n=_t.get()){this.reloadHandlers=[],this.updateStylingHandlers=[],this.deploymentId=void 0,this.connection=new FA(e.replace(/^http/,"ws")+"mxdevtools/"),this.connection.onInstruction("set_deployment_id",r=>{this.deploymentId!==void 0&&r.deploymentId!==this.deploymentId&&this.reloadHandlers.forEach(i=>i(!1)),this.deploymentId=r.deploymentId}),this.connection.onInstruction("reload",()=>{this.reloadHandlers.forEach(r=>r(!0))}),this.connection.onInstruction("update_styling",()=>{this.updateStylingHandlers.forEach(r=>r())}),n.addHandler((r,i,...s)=>{this.log(r,i,...s)}),_D(this.connection,n)}async connect(){this.connection.connect(),await DD()}addOnReload(e){this.reloadHandlers.push(e)}addOnUpdateStyling(e){this.updateStylingHandlers.push(e)}log(e,n,...r){const i=r.map(ZD),s=n==="Client"?n:`Client_${n}`;this.connection.onConnect(()=>this.connection.sendLog(e,s,i.join(`
`)))}},BA=class{constructor(e,n,r,i={}){this.objectCache=e,this.session=n,this.objectLockManager=r,this.logger=_t.get().getLogger(),this.config={interval:1e4,logging:!1,...i}}initialize(){this.config.interval>0&&(this.gcInterval=window.setInterval(()=>this.collectGarbage(),this.config.interval))}finalize(){window.clearInterval(this.gcInterval)}collectGarbage(){const e=this.objectCache.getAllObjects(),n=new Set(e.map(h=>h.getGuid())),r=this.session.getUserId(),i=this.session.getSessionObjectId(),s=this.objectLockManager.getLockedGuids(),c=new Set(Array.from(s).concat([r,i])),l=new Set(RD(e,c)),d=[...qE(n,l)];if(this.config.logging){const h=zc(d,g=>this.objectCache.getObject(g).getEntity()).map(({key:g,values:y})=>`${g}: ${y.join(", ")}`).join(`
`);this.logger.debug(`Garbage collecting ${d.length} of ${n.size}
${h}`)}this.objectCache.removeObjects(d)}},VA=class{constructor(e,n){this.fileBackend=e,this.logger=n.getLogger(Ut.FileSystem).debounced}async downloadFile(e,n){this.logger.trace(`Download file from "${e}" to "${n}"`);const r=new xn;await this.fileBackend.downloadFile(e,n),this.logger.trace(`Download file from ${e} completed after ${r.measure()} milliseconds`)}async listDir(e){return this.fileBackend.listDir(e)}async moveFile(e,n){return this.logger.trace(`Move file from "${e}" to "${n}"`),this.fileBackend.moveFile(e,n)}async moveDir(e,n){return this.logger.trace(`Move dir from "${e}" to "${n}"`),this.fileBackend.moveDir(e,n)}async readFile(e){return this.logger.trace(`Read file from "${e}"`),this.fileBackend.readFile(e)}async removeDir(e){return this.logger.trace(`Remove dir from "${e}"`),this.fileBackend.removeDir(e)}async removeFile(e){return this.logger.trace(`Remove file from "${e}"`),this.fileBackend.removeFile(e)}async storeFile(e,n){return this.logger.trace(`Store blob to file "${n}"`),this.fileBackend.storeFile(e,n)}toAbsolutePath(e){return this.fileBackend.toAbsolutePath(e)}async getFileUrl(e){return this.logger.trace(`Create URL for file "${e}"`),this.fileBackend.getFileUrl(e)}},WA=class{constructor(){this.objectCache=new Map,this.changes=new Map,this.newGuids=new Set}setMxObjects(e){for(const n of e){const r=n.guid,i=this.objectCache.get(r);i?i.resetFromJSON(n):this.objectCache.set(r,ke.fromJson(n))}}getObject(e){return this.objectCache.get(e)??null}getAllObjects(){return Array.from(this.objectCache.values())}getAllGuids(){return jt(Array.from(this.objectCache.keys()).concat(Array.from(this.changes.keys())))}has(e){return this.objectCache.has(e)}isNew(e){return this.has(e)&&this.newGuids.has(e)}removeObject(e){this.objectCache.delete(e),this.newGuids.delete(e),this.changes.delete(e)}removeObjectKeepChanges(e){this.objectCache.delete(e),this.newGuids.delete(e)}removeObjects(e){for(const n of e)this.removeObject(n)}addChanges(e){for(const[n,r]of Object.entries(e)){const i=this.changes.get(n)??{};for(const[s,c]of Object.entries(r))"value"in c?i[s]=c:i[s]&&(i[s].hash=c.hash);this.changes.set(n,i)}}getChanges(e){return this.changes.get(e)??{}}hasChanges(e){return this.changes.has(e)}removeChanges(e){for(const[n,r]of Object.entries(e)){const i=this.changes.get(n);if(i===void 0)return;for(const s of r)delete i[s];Object.keys(i).length===0&&this.changes.delete(n)}}removeAllChanges(e){for(const n of e)this.changes.delete(n)}makeChange(e,n,r){const i=this.changes.get(e)??{};this.changes.set(e,{...i,[n]:{value:r}})}dehydrate(){return{data:Ur(this.getAllObjects().map(e=>e.toJSON())),newGuids:Array.from(this.newGuids),changes:Ur(Object.fromEntries(this.changes))}}hydrate({data:e,newGuids:n,changes:r}){this.clear();for(const i of e){const s=ke.fromJson(Ur(i));this.objectCache.set(i.guid,s)}this.newGuids=new Set(n);for(const[i,s]of Object.entries(r))this.changes.set(i,Ur(s))}clear(){this.objectCache.clear(),this.changes.clear(),this.newGuids.clear()}onCreate(e){for(const n of e)this.newGuids.add(n)}onCommit(e){for(const n of e)this.newGuids.delete(n)}onDelete(e){for(const n of e)this.objectCache.get(n)?.markAsUnavailable(),this.removeObject(n)}},HA=class{constructor(e,n=4){this.taskHandlingFn=e,this.concurrentTasks=n,this.taskQueue=[],this.tasksInProgress=0}async addToQueue(...e){return new Promise((n,r)=>{this.taskQueue.push({args:e,resolve:n,reject:r}),this.processQueue()})}processQueue(){if(this.tasksInProgress>=this.concurrentTasks)return;const e=this.taskQueue.splice(0,this.concurrentTasks-this.tasksInProgress);this.tasksInProgress+=e.length,e.forEach(n=>{const{args:r,resolve:i,reject:s}=n;this.taskHandlingFn(...r).then(c=>{this.tasksInProgress--,i(c),this.processQueue()}).catch(c=>{this.tasksInProgress=0,this.taskQueue=[],s(c)})})}},GA=class{constructor(e,n){this.objectCache=e,this.lockManager=n}async retrieveByXPath(e,n,r,i,s){const c=await vo({operationId:e,args:n,xpathConstraint:r,options:i,wantCount:s},()=>fp(e,n,{...i,wantCount:s,extraXpath:r},{},[])),l=await Pt(this.objectCache,this.lockManager,c);try{return{...this.processResult(c),count:c.count,hasMoreItems:c.hasMoreItems}}finally{l()}}async retrieveByPath(e,n){const[r,i]=$o(this.objectCache,[e]),s=await vo({guid:e,operationId:n},()=>fp(n,{CurrentObject:{guid:e}},{},r,i)),c=await Pt(this.objectCache,this.lockManager,s);try{return this.processResult(s)}finally{c()}}async retrieveByPathUsingOperationIdOrCache(e,n,r,i,s){let c=[];const l=Ne(i),d=l!==void 0&&function(h,g){const y=g.split("/").length;return!h.isPersistable&&!h.needsReachableState.retrieve&&y===1}(l,n);if(!s&&!d)throw new Error(`Error trying to retrieve an object of type ${i}`);return s&&!d||({cachedObjects:c}=qw(e,r,n,this.objectCache)),s&&c.length===0?this.retrieveByPath(e,s):{mxObjects:c,count:c.length}}async retrieveByMicroflow(e,n,r){let i;try{const[c,l]=Zl(this.objectCache,e,gg(n).concat(Xl()));i=await fp(e,n,{},c,l)}catch(c){throw await fn(this.objectCache,c),c}const s=await Pt(this.objectCache,this.lockManager,i,{targetForm:r});try{return{...this.processResult(i),hasMoreItems:i.hasMoreItems}}finally{s()}}processResult(e){return e.partialObjects.length?{mxObjects:e.partialObjects.map(n=>ke.fromJson(n,!0).snapshot()),extra:[]}:{mxObjects:e.resultGuids.map(n=>H(this.objectCache.getObject(n))),extra:e.extraGuids.map(n=>H(this.objectCache.getObject(n)))}}async executeMicroflow(e,n,r,i=[],s=!1){let c;try{const d=Object.values(n).some(y=>"xpath"in y),[h,g]=d?function(y){const v=y.getAllObjects().map(x=>x.getGuid()),b=xt();return[b.getUserId(),b.getSessionObjectId()].filter(x=>!v.includes(x)).forEach(x=>v.push(x)),si(y,v)}(this.objectCache):Zl(this.objectCache,e,gg(n).concat(Xl()));c=s?await yl(y=>ro(e,n,h,g,i,y)):await ro(e,n,h,g,i)}catch(d){throw await fn(this.objectCache,d),d}const l=await Pt(this.objectCache,this.lockManager,c,{targetForm:r});try{const d=c.actionResult;if(d==null)return;const{value:h,type:g}=d;return D1(h,g,y=>H(this.objectCache.getObject(y)))}finally{l()}}async executeExternalAction(e,n,r){const i=n.getGuid(),s=jt(r.map(g=>g.getGuid())),[c,l]=function(g,y,v){const[b,x]=$o(g,[y]),[S,C]=So(g,v,"commit"),I={...b,...S},P=[...x];for(const N of C)P.find(T=>T.guid===N.guid)||P.push(N);return[I,P]}(this.objectCache,i,s);let d;try{const g={Object:{guid:i}};s.length>0&&(g.Objects={guids:s}),d=await ro(e,g,c,l)}catch(g){throw await fn(this.objectCache,g),g}const h=await Pt(this.objectCache,this.lockManager,d);try{ad(this.objectCache,r,d);const{commits:g=[]}=d,y=jt(r.filter(x=>g.includes(x.getGuid()))),v=y.map(x=>({entity:x.getEntity()})),b=y.map(x=>({guid:x.getGuid()}));await wn(...v,...b)}finally{h()}}async createObject(e,n){const r=Ne(e);if(r!==void 0&&(!n||function(i){return!i.isPersistable&&!i.needsReachableState.create&&Object.values(i.attributes).every(s=>!s.isAlwaysReadOnly&&!Ph(s.name))}(r))){const i=hx(r);return this.objectCache.onCreate([i]),this.objectCache.setMxObjects([Gw(i,r)]),this.objectCache.getObject(i)}if(n!==void 0)return this.executeCreateObjectAction(n,e);throw new Error(`Error trying to create an object of type ${e}`)}async executeCreateObjectAction(e,n){const[r,i]=Ne(n)?.needsReachableState.create?$o(this.objectCache,[]):si(this.objectCache,[]);let s;try{s=await ro(e,{},r,i)}catch(l){throw await fn(this.objectCache,l),l}const c=await Pt(this.objectCache,this.lockManager,s);try{const l=H(s.actionResult).value;return H(this.objectCache.getObject(l))}finally{c()}}async executeObjectAction(e,n,r){if(r.length===0)return;const i=jt(r.map(y=>y.getGuid())),[s,c]=So(this.objectCache,i,n),l=sn(y=>y.getGuid())(r),d=i.reduce((y,v)=>(y[v]=l[v].getEntity(),y),{});let h;try{h=await ro(e,{Objects:{guids:i}},s,c)}catch(y){throw await fn(this.objectCache,y),y}const g=await Pt(this.objectCache,this.lockManager,h);try{ad(this.objectCache,r,h);const{commits:y=[],deletes:v=[],resets:b={}}=h,x=Object.keys(b),S=n==="rollback"?[...i]:[...y,...v,...x].filter(N=>i.includes(N)),C=n==="rollback"?[...i]:[...y,...x],I=jt(S.map(N=>d[N])).filter(N=>N!==void 0).map(N=>({entity:N})),P=jt(C).filter(N=>i.includes(N)).map(N=>({guid:N}));await wn(...I,...P)}finally{g()}}async generateExport(e){const n=e?.guids??[],[r,i]=$o(this.objectCache,n);let s;try{s=await yl(c=>PC(e,r,i,c))}catch(c){throw await fn(this.objectCache,c),c}await Pt(this.objectCache,this.lockManager,s,{autoRelease:!0})}};function id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var gu=function t(e,n){function r(i,s,c){if(typeof document<"u"){typeof(c=id({},n,c)).expires=="number"&&(c.expires=new Date(Date.now()+864e5*c.expires)),c.expires&&(c.expires=c.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var d in c)c[d]&&(l+="; "+d,c[d]!==!0&&(l+="="+c[d].split(";")[0]));return document.cookie=i+"="+e.write(s,i)+l}}return Object.create({set:r,get:function(i){if(typeof document<"u"&&(!arguments.length||i)){for(var s=document.cookie?document.cookie.split("; "):[],c={},l=0;l<s.length;l++){var d=s[l].split("="),h=d.slice(1).join("=");try{var g=decodeURIComponent(d[0]);if(c[g]=e.read(h,g),i===g)break}catch{}}return i?c[i]:c}},remove:function(i,s){r(i,"",id({},s,{expires:-1}))},withAttributes:function(i){return t(this.converter,id({},this.attributes,i))},withConverter:function(i){return t(id({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let qA=class{constructor(e,n,r,i,s,c,l){this.sessionStore=e,this.tokenStore=n,this.startupLogger=r,this.authLogger=i,this.bundleVersion=s,this.mxVersion=c,this.onUnauthorized=l,this.unregisterRetryGetSessionDataMiddleware=Ys(BD(2,"get_session_data"))}isValid(){return this.sessionData!==void 0}getConfig(e){if(this.sessionData===void 0)throw new Error("Session is not available");if(!e)return Ur(this.sessionData);const n=e.split(".");let r=this.sessionData;for(let i=0;i<n.length&&r;i++)r=r[H(n[i])];return Ur(r)}getUserObject(){return this.userObject||(this.userObject=ke.fromJson(this.getConfig("user"))),this.userObject}isGuest(){return this.getConfig("user.attributes.IsAnonymous.value")}isOffline(){return!!this.getConfig("sync_config")}getOfflineConfig(){return this.getConfig("sync_config")??void 0}getOfflineMetadata(){const e=new Set(H(this.getOfflineConfig()).schema);return H(this.getConfig("metadata")).filter(({objectType:n})=>e.has(n))}getSessionObjectId(){return this.getConfig("sessionObjectId")}isStrictModeEnabled(){return this.getConfig("isStrictModeEnabled")}getUserId(){return this.getUserObject().getGuid()}getUserRoleNames(){return this.getConfig("roles")}hasSomeRole(e){if(e===void 0)return!0;const n=this.getUserRoleNames();return e.some(r=>n.includes(r))}getConstants(){return this.getConfig("constants")}async login({username:e,password:n,useAuthToken:r="default"}){const i=new xn;this.authLogger.debug("Logging in user."),await TC(e,n,r.toString()),await this.clearCachedSessionDataOnLogin(),this.authLogger.debug(`Login completed in ${i.measure()} milliseconds`)}destroySession(e){e()}async clearCachedSessionData(){await this.sessionStore.remove()}async clearCachedSessionDataOnLogin(){gu.remove("clear_cache"),await this.clearCachedSessionData()}async logout(){const e=new xn;let n;this.authLogger.debug("Starting logout.");try{n=await this.tokenStore?.get(),await DC()}catch(r){if(!(r instanceof Ar))throw r;gu.set("OfflineLogout","1",{expires:365})}finally{n&&(this.authLogger.debug("Removing auth tokens."),await this.tokenStore?.remove()),await this.clearCachedSessionData(),this.authLogger.debug(`Logged out the user in ${e.measure()} milliseconds`)}}async startup(e,n=!1){this.sessionParams=e,gu.get("clear_cache")==="1"&&await this.clearCachedSessionDataOnLogin();const r=await this.loadSessionData(n,function({profile:c,offline:l}){if(l)return!0;switch(c){case"ResponsiveOffline":case"NativePhone":case"TabletOffline":case"PhoneOffline":return!0;default:return!1}}({profile:e.profile,offline:e.offline}));var i,s;return this.tokenStore?.remove(),this.sessionData=r,T0(r.enumerations),this.isOffline()?Ys(function(c){const l=["get_session_data","login","logout"];let d,h=0;return async(g,y)=>{const v=h;try{return await y(g)}catch(b){const x=Ba(g.body)?g.body.action:void 0;if(!(b instanceof Qs)||x!==void 0&&l.includes(x))throw b;if(v!==h)return y(g);if(d)return await d,y(g);d=c();try{await d}finally{d=void 0}return++h,y(g)}}}(this.restoreSessionOnUnauthorized.bind(this))):(Ys((i=this.failOnUnauthorized.bind(this),async(c,l)=>{try{return await l(c)}catch(d){const h=Ba(c.body)&&c.body.action;if(d instanceof Qs&&h!=="login")return i(d);throw d}})),r.keepalive&&setInterval(()=>{AC().catch(()=>{})},r.keepalive)),Ys((s=()=>H(this.sessionData).csrftoken,(c,l)=>{const d={url:c.url,init:{...c.init,headers:new Headers(c.init.headers)},body:c.body};return d.init.headers.append("X-Csrf-Token",s()),l(d)})),r}async loadCachedSessionData(){const e=await this.sessionStore.get();return e!==void 0?JSON.parse(e):void 0}async saveSessionData(){await this.sessionStore.set(JSON.stringify(H(this.sessionData)))}async getCachedProfile(){const e=await this.sessionStore.get(),n=e!==void 0?JSON.parse(e):void 0;if(n)return n.uiconfig.profile.kind}async loadSessionData(e,n){const r=n?await this.loadCachedSessionData():void 0;if(r){const{isDevModeEnabled:c,bundleVersion:l,mxVersion:d}=r;this.startupLogger.debug(`Found a cached session data created by the bundle ${l} in Mendix ${d}. The cached session is ${c?"":"not "}in development mode.`)}const i=r&&this.bundleVersion&&r.bundleVersion===this.bundleVersion;r&&this.startupLogger.debug(`The cached session data is ${i?"":"not "}valid.`);const s=e&&r?.isDevModeEnabled&&navigator.onLine!==!1;if(i&&!s)return this.startupLogger.debug("The app will use the cached session data."),r;this.startupLogger.debug("The app will not use the cached session data.");try{const c=new xn;this.startupLogger.trace("Getting a new session from runtime.");const l={...await this.getSessionData(),bundleVersion:this.bundleVersion,mxVersion:this.mxVersion},d=c.measure();return this.startupLogger.log(d.ms>5e3?"warning":"debug",`Created a new session in ${d} milliseconds`),l}catch(c){if(c instanceof Pr&&[401,460].includes(c.status))this.startupLogger.error((c.status===401?"Could not create a session because the server responded with 401 (Unauthorized). This may happen if the authentication token is no longer valid. ":"Could not create a session because the server responded with 460 (Session expired). ")+"The app will clear the stored session and restart."),await this.clearCachedSessionData(),await this.tokenStore?.remove();else{const l=c instanceof Ar||i?"debug":"error";if(this.startupLogger.log(l,"An error occurred while creating a new session."+(i?" The app will start using the cached session data.":""),c),i)return r}throw c}finally{this.unregisterRetryGetSessionDataMiddleware()}}async getSessionData(){const e=await this.tokenStore?.get(),n=H(this.sessionParams);let r;return e?(this.authLogger.debug("Found an authentication token in the token store, using it to restore the session."),r={authtoken:e,...n}):r=n,_C(r)}async restoreSessionOnUnauthorized(){try{const{csrftoken:e,user:n}=await this.getSessionData();this.isGuest()||n.guid===this.sessionData?.user.guid?(H(this.sessionData).csrftoken=e,await this.sessionStore.set(JSON.stringify(this.sessionData))):await this.failOnUnauthorized(new Qs(419))}catch(e){if(!(e instanceof Qs))throw e;await this.failOnUnauthorized(e)}}async failOnUnauthorized(e){await this.clearCachedSessionData(),await this.tokenStore?.remove();const n=e.status===401?419:e.status;return this.authLogger.info(`The client is not authorized. Request failed with status code ${n}. Removing session.`),await this.onUnauthorized(),MC()}};function YA(t){const e=no.parse(t).profile?.toString()??"";return["Responsive","ResponsiveOffline","Tablet","Phone","PhoneOffline","TabletOffline",""].includes(e)?e:"Responsive"}function bg(t){return t instanceof Zp?{type:"error",content:t.description}:t instanceof eg?bg(t.innerError):t instanceof Za||t instanceof cp?{type:"error",content:t.message}:t instanceof Ar?{type:"error",content:Me("mxui.sys.UI","connection_error")}:t instanceof Nx?{type:"info",content:Me("mxui.sys.UI","sync_error")}:t instanceof Pr?{type:"error",content:t.status===402?Me("mendix.signin","http402"):Me("mxui.sys.UI","internal_error")}:{type:"error",content:Me("mxui.sys.UI","internal_error")}}function QA(t){return[...e2(),...t.flatMap(e=>[JA(e),...ZA(e)])]}function XA(t){const e=od(lu,[{name:ix,type:"text"},{name:ng,type:"text"}],ix),n={[rg]:t.toString(),[ag]:"0",[Pe(ig)]:"[]"};return[e,...Object.entries(n).map(([r,i])=>[`INSERT OR IGNORE INTO "${lu}" (name, value) VALUES (?,?)`,[r,i]])]}function KA(){const t=[{name:Ze,type:"text"},{name:hr,type:"text"}];return od(Pe(yo),t,Ze)}function JA(t){const e=oa(t).map(n=>({name:He(n.name),type:i$(n.type)})).concat({name:Ze,type:"text"});return od(Pe(He(t)),e,Ze)}function ZA(t){const e=oa(t).filter(r=>r.type==="ObjectReference"),n=Pe(He(t));return[...e.map(({name:r})=>[vg(`idx_${n}_${He(r)}`,n,{name:r}),[]]),...Ne(t)?.indices.map(r=>a$(t,r))??[]]}function vg(t,e,...n){return`CREATE INDEX IF NOT EXISTS [${t}] ON [${e}](${n.map(r=>`[${He(r.name)}]`+(r.direction===void 0?"":` ${r.direction}`)).join(", ")})`}function a$(t,e){const n=Pe(He(t));return[vg(`idx_${n}_${e.attributes.map(r=>`${He(r.name)}_${r.direction}`).join("_")}`,n,...e.attributes),[]]}function e2(){const t=[{name:Ze,type:"text"},{name:oi,type:"text"},{name:hr,type:"text"},{name:tg,type:"text"},{name:Yl,type:"text"}],e=Pe(ut),n=[vg(`idx_${e}_tableName_withSyncId`,e,{name:oi})+` WHERE [${hr}] IS NOT NULL`,[]];return[od(e,t,Ze),n]}function od(t,e,n){if(e.length>990)throw new Error(`Unable to create table '${t}' with more than 990 columns.`);return[[`CREATE TABLE IF NOT EXISTS "${t}" (`,e.map(r=>[`"${r.name}"`,r.type,r.type==="text"?"COLLATE NOCASE":"",r.name===n?"PRIMARY KEY":""].join(" ").trim()).join(", "),")"].join(""),[]]}function i$(t){switch(t){case"Decimal":case"Enum":case"HashString":case"Integer":case"Long":case"ObjectReference":case"String":case"EnumSet":case"ObjectReferenceSet":return"text";case"AutoNumber":case"Boolean":case"DateTime":return"integer";case"Binary":return"blob"}}function o$(t){return[`DELETE FROM "${Pe(t)}"`,[]]}function mu(t){return[`DROP TABLE IF EXISTS "${Pe(t)}"`,[]]}function t2(t){const e=t.reduce((n,r)=>(n[r.objectType]=(n[r.objectType]??[]).concat(r),n),{});return Object.entries(e).flatMap(([n,r])=>{const i=Ne(n),s=Object.values(i?.attributes??{}),c=[`"${Ze}"`,...s.map(d=>`"${He(d.name)}"`)],l=new Array(c.length).fill("?").join(", ");return pr(r,c.length).flatMap(d=>{const h=new Array(d.length).fill(`(${l})`).join(", ");return[[`INSERT OR REPLACE INTO "${Pe(He(n))}" (${c.join(", ")}) VALUES ${h}`,d.flatMap(g=>[g.guid,...s.map(y=>wx(g.attributes[y.name]?.value??null,y.type))])]]})})}function n2(t){return pr(t,4).flatMap(e=>{const n=new Array(e.length).fill("(?, ?, ?, ?, ?)").join(", ");return[[`INSERT OR REPLACE INTO "${Pe(ut)}" ("${Ze}", "${oi}", "${hr}", "${tg}", "${Yl}") VALUES ${n}`,e.flatMap(r=>{const i=H(Ne(r.objectType)),s=Object.values(i.attributes).filter(l=>!Object.prototype.hasOwnProperty.call(r.attributes,l.name)||r.attributes[l.name]?.inaccessible).map(l=>l.name),c=Object.entries(r.attributes).filter(([,l])=>l.readonly).map(([l])=>l);return[r.guid,r.objectType,r.syncId??null,JSON.stringify(c),JSON.stringify(s)]})]]})}function s$(t,e){if(e.length===0)throw new U("No guids specified");return pr(e).map(n=>{const r=new Array(n.length).fill("?").join(", "),i=He(t),s=Pe(i),c=Pe(ut);return[[`SELECT ${i}.*,`,ax.map(l=>`${ut}.[${l}] AS "${ut}.${l}"`).join(", "),`FROM "${s}" AS ${i}`,`JOIN ${c} AS ${ut} USING (${Ze})`,`WHERE ${ut}.${Ze} IN (${r})`].join(" "),n]})}function yu(t,e){return`${He(t)}.[${He(e)}]`}let r2=class{constructor(e){this.selectColumns=[],this.tableNameAlias=He(e),this.tableName=Pe(this.tableNameAlias),this.fromClause=`FROM ${this.tableName} AS ${this.tableNameAlias}`}filtered(e){const{type:n,expr:r,params:i}=du(e,this.tableNameAlias,!0);return n!=="null"&&(this.whereClause=`WHERE ${r}`,this.bindParameters=i),this}sorted(e){const n=e.map(([r,i])=>`${yu(this.tableNameAlias,r)} ${i}`).join(", ");return this.orderClause=n?`ORDER BY ${n}`:"",this}paged(e,n){return this.limitClause=`LIMIT ${n!==void 0&&n>0?n:-1} OFFSET ${e??0}`,this}columns(e){return this.selectColumns=e,this}attributes(e){return this.selectColumns=e.map(n=>({column:yu(this.tableNameAlias,n),alias:He(n)})),this}buildSelectWithMeta(){const e=Pe(ut);return[["SELECT",this.selectColumns.map(({column:n,alias:r})=>`${n} AS "${r}"`).concat(ax.map(n=>`${ut}.[${n}] AS "${ut}.${n}"`)).join(", "),this.fromClause,`JOIN ${e} AS ${ut} USING (${Ze})`,this.whereClause,this.orderClause,this.limitClause].filter(n=>n).join(" "),this.bindParameters??[]]}buildCount(){return[['SELECT COUNT("guid") AS count',this.fromClause,this.whereClause].filter(e=>e).join(" "),this.bindParameters??[]]}},a2=class{constructor(){this.orderClause="",this.limitClause="",this.selectQueries=[]}addQuery(e){return this.selectQueries.push(e),this}sorted(e){const n=e.map(([r,i])=>`"${r}" ${i}`).join(", ");return this.orderClause=n?` ORDER BY ${n}`:"",this}paged(e,n){return this.limitClause=` LIMIT ${n!==void 0&&n>0?n:-1} OFFSET ${e??0}`,this}build(){const[e,n]=function(r){const i=[],s=[];return r.forEach(([c,l])=>{i.push(c),s.push(l)}),[i,s]}(this.selectQueries);return[e.join(" UNION ")+this.orderClause+this.limitClause,n.flat()]}};function u$(t){const e=t[`${ut}.${oi}`],n={guid:t[`${ut}.${Ze}`],attributes:{},objectType:e},r=Ne(e),i=JSON.parse(t[`${ut}.${tg}`])??[],s=JSON.parse(t[`${ut}.${Yl}`])??[];return Object.keys(t).filter(c=>!c.startsWith(ut)&&c!==Ze).forEach(c=>{const l=function(h){const g=h.split(";");return g.length>1?g[g.length-1]:h}(VD(c)),d=r?.attributes[l]?.type??"String";n.attributes[l]={value:WD(t[c],d),...i.includes(l)?{readonly:!0}:{},...s.includes(l)?{inaccessible:!0}:{}}}),n}function sd(t,e){return He(`${t};${e}`)}let c$=class Fo{constructor(e){this.database=e,this.lastUniqueId=0,this.queryListeners=[]}registerQueryListener(e){this.queryListeners.push(e)}async usingReadTransaction(e){return this.database.inTransaction(async n=>e(new l$(this,n)))}async usingWriteTransaction(e){return this.database.inTransaction(async n=>e(new l$(this,n)))}async delete(e){await this.usingWriteTransaction(n=>n.delete(e)),await this.execute(["PRAGMA optimize",[]],(n,r)=>this.database.exec(n,bu(r))),await this.execute(["VACUUM",[]],(n,r)=>this.database.exec(n,bu(r)))}async runMigrations(e){const n=await this.usingReadTransaction(s=>s.getDatabaseVersion()),r=e.findIndex(({version:s})=>s===n),i=r===-1?e:e.slice(r+1);for(const s of i){await s.apply(this.database);const c=sx(rg,s.version.toString());await this.database.inTransaction(async l=>this.exec(l,c))}}async wrap(e,n){const r=this.queryListeners.map(i=>i(e));try{const i=await n();return r.forEach(([s,c])=>s(i)),i}catch(i){return r.forEach(([s,c])=>c(i)),Promise.reject(i)}}async execute(e,n){const[r,i]=e;return this.wrap(`${r}
Params: ${JSON.stringify(i)}`,()=>n(r,i))}async selectObjects(e,n){if(n.length>0){if(n.length!==2||typeof n[0]!="string"){const r=n.sort(([i],[s])=>i.localeCompare(s));return(await Promise.all(r.map(i=>this.selectObjects(e,i)))).flat()}return this.execute(n,(r,i)=>e.selectObjects(r,bu(i)))}return[]}async selectValue(e,n){return this.execute(n,(r,i)=>e.selectValue(r,bu(i)))}async exec(e,n){if(n.length>0)return n.length!==2||typeof n[0]!="string"?(await Promise.all(n.map(i=>r(this,i)))).reduce((i,s)=>i+s,0):r(this,n);return 0;async function r(i,s){return i.execute(s,async(c,l)=>e.exec(c,bu(l)))}}getLowLevelAPI(){return this.database}async increaseAndGetUniqueId(e,n){const r=this.lastUniqueId%Fo.ID_BATCH_SIZE,i=Fo.ID_BATCH_SIZE-r;if(this.lastUniqueId===0||i<e){const s=Math.ceil(Math.abs(e-i)/Fo.ID_BATCH_SIZE),c=await n(s*Fo.ID_BATCH_SIZE);this.lastUniqueId===0&&(this.lastUniqueId=c-s*Fo.ID_BATCH_SIZE)}return this.lastUniqueId+=e,this.lastUniqueId}};function bu(t){return t.length===0?void 0:t}c$.ID_BATCH_SIZE=1e3;let i2=class{constructor(e,n){this.api=n,this.database=e}async selectObjects(e){return this.database.selectObjects(this.api,e)}async selectValue(e){return this.database.selectValue(this.api,e)}async retrieveAllTombstones(){return await this.selectObjects([`SELECT "${Ze}", "${hr}" FROM "${Pe(yo)}"`,[]])}async retrieveDirtyObjects(e){const n=YD(e),r=await this.selectObjects(n),i=_h(r,s=>s[oi],s=>s[Ze]).flatMap(({key:s,values:c})=>s$(s,c));return(await this.selectObjects(i)).map(s=>({syncId:s[`${ut}.${hr}`],...u$(s)}))}async retrieveEntityMetadatas(){const e=Ql(Pe(ig)),n=await this.selectObjects(e);return JSON.parse(H(n[0])[ng])}async retrieveMxObjectsFromSql(e,n){return(await this.selectObjects(e)).map(r=>{const i=r[`${ut}.${hr}`],s=u$(r);return n?{syncId:i,...s}:s})}async retrieveMxObjects(e,n,r,i=!1){const s=[e,...Ne(e)?.specializations??[]],c=s.length===1?wg(e,n,r).buildSelectWithMeta():function(){const d=r?.attributes?.map(v=>({column:yu(e,v),alias:sd(e,v)})),h=Object.fromEntries(s.map(v=>[v,l(v)])),g=ia(Object.values(h).flat(),({alias:v})=>v),y=new a2;return s.map(v=>{const b=d??function(x,S,C){const I=new Set(S.map(({alias:P})=>P));return C.map(P=>({column:I.has(P.alias)?yu(x,P.attribute):"NULL",alias:P.alias}))}(v,h[v],g);return wg(v,wo(e,v,n),{columns:b}).buildSelectWithMeta()}).forEach(v=>y.addQuery(v)),r?.sort!==void 0&&y.sorted(r.sort.map(([v,b])=>[sd(e,v),b])),r?.amount===void 0&&r?.offset===void 0||y.paged(r.offset,r.amount),y.build()}();return this.retrieveMxObjectsFromSql(c,i);function l(d){const h=oa(d).map(b=>({attribute:b.name,alias:sd(d,b.name)})),g=Ne(d).generalization;if(d===e||g===void 0)return h;const y=l(g),v=sn(({attribute:b})=>b)(y);return h.map(b=>v[b.attribute]??b)}}async retrieveMxObjectMetasByGuids(e){const n=qD(e);return(await this.selectObjects(n)).map(r=>({guid:r[Ze],objectType:r[oi]}))}async buildEntityGuidsList(e){const[n,r]=nr(function(s){return ei(s)&&mp(s)!==void 0},e),i=await(async s=>{if(s.length===0)return[];const c=await this.retrieveMxObjectMetasByGuids(s);return c.length===0?Promise.resolve([]):_h(c,l=>l.objectType,l=>l.guid)})(r);return[...zc(n,Xw).filter(({key:s})=>Ne(s)?.isPersistable===!0),...i]}async retrieveMxObjectByGuids(e){const n=(await this.buildEntityGuidsList(e)).flatMap(({key:r,values:i})=>s$(r,i));return this.retrieveMxObjectsFromSql(n)}async retrieveMxObjectsCount(e,n){return[e,...Ne(e).specializations].map(r=>{const i=wg(r,wo(e,r,n)).buildCount();return this.selectValue(i)}).reduce(async(r,i)=>await r+await i,Promise.resolve(0))}async retrieveSyncIds(e){const n=QD(e);return(await this.selectObjects(n)).map(r=>[r[Ze],r[hr]])}async retrieveGuidsAndChangeDatesForFileObjects(e){const n=function(r){const i=He(Pe(r));return[`SELECT ${[Ze,ox].join(", ")} FROM "${i}" WHERE ${ND} = 1`,[]]}(e);return(await this.selectObjects(n)).map(r=>({guid:r[Ze],changedDate:r[ox]}))}async getDatabaseVersion(){const e=Ql(rg);return parseInt(await this.selectValue(e),10)}async checkTableExists(e){const n=_x(e===lu?lu:Pe(e));return await this.selectValue(n)===1}},l$=class extends i2{constructor(e,n){super(e,n),this.tx=n}async exec(e){return this.database.exec(this.tx,e)}async ensureSchema(e,n){const r=[...QA(e),...XA(n),KA()];await this.exec(r)}async changeEntityTable(e,n,r){const i=`ALTER TABLE ${Pe(He(e))}`,s=[...n.map(([c,l])=>{const d=i$(l.type);return`ADD "${He(c)}" ${d} ${d==="text"?"COLLATE NOCASE":""}`}),...r.map(c=>`DROP "${He(c)}"`)].map(c=>[`${i} ${c}`,[]]);await this.exec(s)}async createIndex(e,n){const r=a$(e,n);await this.exec(r)}async dropIndex(e,n){const r=function(i,s){return[`DROP INDEX IF EXISTS [idx_${Pe(He(i))}_${s.attributes.map(c=>`${He(c.name)}_${c.direction}`).join("_")}]`,[]]}(e,n);await this.exec(r)}async delete(e){const n=[...e.map(r=>mu(He(r))),mu(ut),mu(yo)];await this.exec(n)}async clearDirtyFlags(e){const n=XD(e);return this.exec(n)}async dropEntityTables(e){const n=[...e.map(r=>mu(He(r))),...Dx(e)];await this.exec(n)}async deleteEntitiesByEntity(e){const n=[o$(He(e)),...Dx([e])];return this.exec(n)}async deleteEntitiesByGuid(e){const n=(await this.buildEntityGuidsList(e)).flatMap(({key:r,values:i})=>function(s,c){if(c.length===0)throw new U("No guids specified");return pr(c).flatMap(l=>{const d=new Array(l.length).fill("?").join(", ");return[[`DELETE FROM "${Pe(He(s))}" WHERE ${Ze} IN (${d})`,l],[`DELETE FROM "${Pe(ut)}" WHERE ${oi} = '${s}' AND ${Ze} IN (${d})`,l]]})}(r,i));return this.exec(n)}async deleteTombstones(e){const n=function(r){if(r.length===0)throw new U("No guids specified");return pr(r).flatMap(i=>{const s=new Array(i.length).fill("?").join(", ");return[[`DELETE FROM "${Pe(yo)}" WHERE "${Ze}" IN (${s})`,i]]})}(e);await this.exec(n)}async insertTombstones(e){const n=function(r){return pr(r,2).flatMap(i=>{const s=new Array(i.length).fill("(?, ?)").join(", ");return[[`INSERT OR REPLACE INTO "${Pe(yo)}" ("${Ze}", "${hr}") VALUES ${s}`,i.flatMap(c=>[c.guid,c.syncId])]]})}(e);await this.exec(n)}async truncateTombstones(){const e=o$(yo);await this.exec(e)}async increaseAndGetUniqueId(e){return this.database.increaseAndGetUniqueId(e,async n=>{const r=ux(n),i=Ql(ag);return await this.exec(r),parseInt(await this.selectValue(i),10)})}async insertMxObjects(e){return this.insertMxObjectsWithSyncId(e.map(n=>({...n,syncId:null})))}async insertMxObjectsWithSyncId(e){const n=[...t2(r=e),...n2(r)];var r;return this.exec(n)}async reset(){const e=mu(ut);await this.exec(e)}async updateEntityData(e,n,r,i){const s={[r]:i},c=Yx(H(Ne(e)),s,Ze,n);return this.exec(c)}async updateEntityDataReferringTo(e,n,r,i){const s=function(c,l,d){return Object.entries(c).flatMap(([h,g])=>g.map(y=>{const v={[y]:d};return Yx(H(Ne(h)),v,y,l)}))}({[e]:[r]},n,i);return this.exec(s)}async updateEntityGuids(e,n,r){const i=Pe(ut),s=await Promise.all(e.filter(d=>n.has(d)).flatMap(d=>[this.updateEntityData(H(n.getEntity(d)),d,"guid",n.getGuid(d)),this.exec([`UPDATE ${i} SET ${Ze} = ? WHERE [${Ze}] = ?`,[n.getGuid(d),d]])])),c=bx(d=>Ax(d,r)),l=await Promise.all(n.entries().flatMap(([d,h,g])=>{const y=c(g)??{};return Object.entries(y).flatMap(([v,b])=>Promise.all(b.map(x=>this.updateEntityDataReferringTo(v,d,x,h))))}));return s.concat(l.flat()).reduce((d,h)=>d+h,0)}async updateEntityMetadatas(e){const n=sx(Pe(ig),JSON.stringify(e));return this.exec(n)}};function wg(t,e,n){const r=n??{},i=new r2(t),s=r.columns??oa(t).map(c=>({column:yu(t,c.name),alias:sd(t,c.name)}));return i.columns(s),e!==void 0&&i.filtered(e),r.offset===void 0&&r.amount===void 0||i.paged(r.offset,r.amount),r.sort!==void 0&&i.sorted(r.sort),i}let o2=class{formatValue(e,n,r){if(e===""||e===null)return"";switch(n.toLowerCase()){case"decimal":case"integer":case"long":{if(typeof e=="string"||typeof e=="number")try{e=new ee(e)}catch{throw new Error(`Value '${e}' cannot be formatted as a numeric value.`)}if(!(e instanceof ee))throw new Error(`Value '${e}' cannot be formatted as a numeric value.`);const i=d$(r),s=i&&i.groupDigits,c=i&&i.decimalPrecision,l=n.toLowerCase()==="decimal"?void 0:0;return Fl(e,s,c!==void 0?c:l)}case"datetime":{if(!(typeof e=="number"||e instanceof Date))throw new Error(`Value '${e}' cannot be formatted as Date.`);const i=f$(r);return nu(new Date(e),i)}case"boolean":if(typeof e!="boolean")throw new Error(`Value '${e}' cannot be formatted as boolean.`);return Me("mxui.common",e.toString());default:return String(e)}}formatAttribute(e,n,r){const i=e.getAttributeType(n),s=e.get(n);return i==="Enum"?e.getEnumCaption(n)||s:this.formatValue(s,i,r)}parseValue(e,n,r){if(e==="")return"";switch(n.toLowerCase()){case"integer":case"long":case"decimal":{const i=d$(r),s=i&&i.decimalPrecision;return Ul(e,s)||null}case"datetime":{const i=f$(r);return Ll(e,i)||null}case"enum":default:return e;case"boolean":return e===Me("mxui.common","true")}}};function d$(t){if(t)return"places"in t?{decimalPrecision:t.places,groupDigits:!!t.groups}:"groups"in t?{groupDigits:!!t.groups}:t}function f$(t){return t?"datePattern"in t&&t.datePattern?{type:"custom",pattern:t.datePattern}:"selector"in t?{type:t.selector}:t:{type:"date"}}var xg,h$={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/xg=h$,function(){var t={}.hasOwnProperty;function e(){for(var i="",s=0;s<arguments.length;s++){var c=arguments[s];c&&(i=r(i,n(c)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return e.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var c in i)t.call(i,c)&&i[c]&&(s=r(s,c));return s}function r(i,s){return s?i?i+" "+s:i+s:i}xg.exports?(e.default=e,xg.exports=e):window.classNames=e}();var Et=Os(h$.exports);function p$(){return/Android.*Mobile|iPhone|iPod|BlackBerry|Windows.*Phone/.test(navigator.userAgent)}function g$(){return/iPad|Android/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&navigator.maxTouchPoints>1}function vu(){return p$()||g$()}const $g="data-disable-interaction",s2="data-focus-capturing",u2="modal",m$="non-modal";function c2(){document.body.addEventListener("keydown",d2),document.body.addEventListener("focusin",f2),document.body.addEventListener("mousedown",l2)}function l2(t){document.body.hasAttribute("data-disable-interaction")&&t.preventDefault()}function d2(t){if(document.body.hasAttribute("data-disable-interaction"))t.preventDefault();else if(t.key==="Tab"){const e=function(n,r=!1){const i=n&&fd(n),s=()=>y$(v$(i)??document.body,r);return(i&&y$(i,r))??s()}(t.target,t.shiftKey);e&&(t.preventDefault(),wu(e))}}function f2(t){const e=t.target;if(e===document.body)return;const n=b$(e);n.contains(e)||function(r){const i=Oo(r);i&&wu(i)}(n)}function wu(t){(function(){const e=document.getSelection();e===null||function(n){if(n.rangeCount===1){const r=n.getRangeAt(0);return r.startOffset===r.endOffset}return n.rangeCount===0}(e)||(e.removeAllRanges(),e.addRange(document.createRange()))})(),t.focus(),function(e){const n=e;n.type!=="text"&&n.type!=="password"||n.select()}(t)}function ud(){const t=document.activeElement&&fd(document.activeElement);return t!==document.body?t:null}function Oo(t){return cd(t,!1)}function y$(t,e=!1){const n=b$(t);let r,i;if(n.contains(t))r=t;else{if(dd(n))return n;r=n}if(!e&&ld(r)&&!Eg(r)&&(i=cd(r,!!e),i))return i;do{const s=h2(r,n);if(i=cd(s,!!e,r),i)return i;if(e&&dd(s))return s;r=s}while(r!==n);return null}function h2(t,e){if(t===e)return e;let n=t;for(;n!==e&&n.parentElement;)if(n=n.parentElement,ld(n))return n;return e}function b$(t){const e=v$(t);return e?function(){const n=document.querySelectorAll("[data-focus-capturing=modal]");return Array.from(n).filter(xu).sort((r,i)=>Number(i.style.zIndex)-Number(r.style.zIndex))[0]}()??e:document.body}function v$(t){if(!t||t===document.body)return document.body;let e=t;for(;e&&xu(e);){const n=e.getAttribute("data-focus-capturing");if(n==="modal"||n==="non-modal")return e;e=e.parentElement}return null}function cd(t,e,n){const r=n&&n!==t?x$(n):void 0,i=w$(t),s=Object.keys(i).map(c=>parseInt(c,10)).filter(function(c,l){return c===void 0?d=>!0:l?d=>Sg(d,c)<=0:d=>Sg(d,c)>=0}(r,e)).sort(Sg);e&&s.reverse();for(const c of s)if(c in i){let l=H(i[c]);e&&l.reverse(),c===r&&(l=l.slice(l.indexOf(n)+1));const d=p2(l,e);if(d)return d}return null}function p2(t,e){for(const n of t){if(!e&&dd(n))return n;if(ld(n)&&!Eg(n)){const r=cd(n,e);if(r)return r}if(e&&dd(n))return n}return null}function w$(t,e={}){for(let n=0;n<t.children.length;n++){const r=t.children.item(n);if(!xu(r))continue;const i=x$(r);(e[i]=e[i]??[]).push(r),ld(r)||w$(r,e)}return e}function Sg(t,e){return t===e?0:t===0?1:e===0?-1:t-e}function ld(t){return t===document.body||t.getAttribute("data-focusindex")!==null}function x$(t){const e=$$(t,"data-focusindex")??kg(t);return Math.max(0,e??0)}function kg(t){return $$(t,"tabindex")}function $$(t,e){const n=t.getAttribute(e);return n?parseInt(n,10):null}function Eg(t){return t.getAttribute("data-focusindex")==="-1"}function dd(t){return S$(t)&&function(e){return function(n){return n.offsetWidth===0&&n.offsetHeight===0?!1:window.getComputedStyle(n).visibility==="visible"}(e)&&function(n){return!n.disabled}(e)}(t)}function S$(t){return Eg(t)?!1:(kg(t)??k$(t))>=0}function g2(t){let e=fd(t);for(;e;){if(kg(e)!==null||k$(e)===0)return e;e=e.parentElement}return null}function k$(t){switch(t.tagName.toLowerCase()){case"button":case"input":case"object":case"select":case"textarea":return 0;case"area":case"a":return t.getAttribute("href")!==null?0:-1;default:return t.getAttribute("contenteditable")?0:-1}}function fd(t){return xu(t)?t:function(e){return"parentElement"in e}(t)?t.parentElement:null}function xu(t){return"offsetParent"in t}function E$(t){vu()?function(){const e=ud();e&&e.blur()}():wu(t)}async function O$(t,{currentForm:e}){e.setSuspend(!0);try{await pp(e,"publish","rollback");const n=e.getSubmitObjects();mx.isOffline()?await new Promise((r,i)=>it().rollback({mxobjs:n,callback:r,error:i})):await Nr().executeObjectAction(t.operationId,"rollback",n),t.closePage&&await pp(e,"close")}finally{e.setSuspend(!1)}}const Og=Symbol("compute");function m2(t){return typeof t=="object"&&t?.[Og]!=null}function y2(t,e,n,r){return t[Og](e,n,r)}const Cg=Symbol("result");function b2(t){return typeof t=="object"&&t?.[Cg]!=null}function v2(t){return t[Cg]}function jg(t){return{[Cg]:t}}function $u(t){return e=>({[Og]:(n,r,i)=>{const s=t(e,n,r,i);return Array.isArray(s)?s:[s,void 0]}})}const Tg=W.createContext(()=>null);class w2 extends W.Component{constructor(){super(...arguments),this.state={hasError:!1}}render(){return this.state.hasError?G.jsx(Tg.Consumer,{children:e=>W.createElement(e,{errorMessage:`Could not render widget '${this.props.widgetId}'`})}):this.props.children}static getDerivedStateFromError(){return{hasError:!0}}}const C$=new Map;function x2(t){const e={};return Object.entries(t).forEach(([n,r])=>{e["$"+n]=_g(r)}),e}const j$=W.createContext("not a widget");function _g(t){const e=C$.get(t);if(e!==void 0)return e;const n=BE(t),r=function(i,s){const c=W.memo(function(l,d){if(l.prototype?.isReactComponent){const h=g=>W.createElement(l,g);return h.displayName=d,h}return l.displayName=d,l}(i,s));return l=>{const[d]=W.useState(()=>l.$widgetId);if(l.$widgetId!==d||d===void 0)throw new U(`Parent of component ${s} did not correctly assign keys.`);const h=Jw(),g=hg(h),[y,v]=W.useMemo(()=>T$(l,h,l.$widgetId,""),[]);let b;const[x,S]=W.useState(()=>{if(!Bs(y))return y;let C=!0,I={};return b=Vv(()=>{const P=y.dependOn(),N=g.dependOn();C?I=P:N||S(P)},{name:`Props of ${l.$widgetId}`}),C=!1,I});return W.useLayoutEffect(()=>b,[]),v.length&&W.useLayoutEffect(()=>v.forEach(C=>C()),[x]),G.jsx(j$.Provider,{value:d,children:G.jsx(w2,{widgetId:zi(d),children:G.jsx(bp.Provider,{value:W.useContext(bp)+1,children:G.jsx(c,{...x})})})})}}(t,n);return r.displayName=`pluginWidget(${n})`,C$.set(t,r),r}function T$(t,e,n,r){const i=Object.entries(t).map(([s,c])=>s==="$widgetId"?jn("name",jn(JE(n),[])):jn(s,_$(c,e,n,`${r}/${s}`)));return[i.some(([s,[c]])=>Bs(c))?Se(`Prop ${r||"root"} of ${n}`,()=>Object.fromEntries(i.map(([s,[c]])=>[s,Bs(c)?c.dependOn():c]))):Object.fromEntries(i.map(([s,[c]])=>[s,c])),i.flatMap(([,[,s]])=>s)]}function _$(t,e,n,r){if(b2(t))return[v2(t),[]];if(m2(t)){const[i,s]=y2(t,e,n,r);return[i,s?[s]:[]]}if(Array.isArray(t)){if(W.isValidElement(t[0])||function(s){return s.length===0||s.every(c=>c===null||typeof c!="object")}(t))return[t,[]];const i=t.map((s,c)=>_$(s,e,n,`${r}/${c}`));return[i.some(([s])=>Bs(s))?Se(`Prop ${r} of ${n}`,()=>i.map(([s])=>Bs(s)?s.dependOn():s)):i.map(([s])=>s),i.flatMap(([s,c])=>c)]}return!W.isValidElement(t)&&Ba(t)?T$(t,e,n,r):[t,[]]}const D$="Main",Dg=$u((t,e,n)=>{const[r]=e.useSlot(Rr,"form");return Se(`Content of ${n}`,()=>{const i=H(r.dependOn())[0],s=i.getPlaceholderContent(t.id);return typeof s=="function"?s(i.getHistoryId()):s})}),Ag=t=>G.jsx(W.Fragment,{children:t.content});let $2=class{constructor(){this.handlers={}}registerHandler(e,n){this.handlers[e]=n}unregisterHandler(e){delete this.handlers[e]}getHandler(e){return this.handlers[e]}};const A$=Fc.createContext(void 0),hd=window.location.origin+window.location.pathname,Co=hd.slice(0,hd.lastIndexOf("/")+1),P$=window.location.pathname.replace("/index.html","");function S2(){const t=window.location.hash.slice(1);return t.startsWith("/")?t:null}function jo(){Pg(hd)}function k2(t=Co){const e=document.createElement("base");e.href=t,document.getElementsByTagName("head")[0]?.appendChild(e)}function Pg(t){/^(https?|file):\/\//.test(t)||t.startsWith("/")||(t=Co+t);const e=no.parseUrl(t),n=no.stringify({...e.query,...no.parse(window.location.search)}),r=e.url+(n!==""?`?${n}`:"")+window.location.hash;window.location.href===r?window.location.reload():window.location.assign(r)}var Su;(function(t){t.Number="number",t.DateTime="datetime"})(Su||(Su={}));var E2=Object.defineProperty,O2=(t,e,n)=>e in t?E2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N$=(t,e,n)=>(O2(t,typeof e!="symbol"?e+"":e,n),n),Ng=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Q=(t,e,n)=>(Ng(t,e,"read from private field"),n?n.call(t):e.get(t)),Ke=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Ge=(t,e,n,r)=>(Ng(t,e,"write to private field"),e.set(t,n),n),tn=(t,e,n)=>(Ng(t,e,"access private method"),n),Gt,ku,pd,gd,Ig,Rg,I$,Mg,R$,Eu,Ou,md,Ft,yd,To,_o,Lg,M$,Mt,Do,ui,qt,ct,Ao,Po,ka,hn,bd,Ug,Fg,L$,zg,U$,ci,No,Bg,F$;const z$=Object.getPrototypeOf(document.body.style),C2=z$.setProperty;var B$;z$.setProperty=function(t,e,n){t.startsWith("--mx-important-")&&(t=t.replace("--mx-important-",""),n="important"),C2.call(this,t,e,n??"")};var V$=Zi;B$=V$.createRoot,V$.hydrateRoot;const j2=({activeDemoUser:t,demoUsers:e,onSelectUser:n})=>{const[r,i]=W.useState(!1);return G.jsxs("div",{className:"mx-demouserswitcher",style:{right:r?"0px":"-360px",transition:"right 0.3s"},children:[G.jsx("div",{className:"mx-demouserswitcher-toggle",onClick:()=>i(!r)}),G.jsxs("div",{className:"mx-demouserswitcher-content",children:[G.jsx("h2",{children:"Select user"}),G.jsx("p",{children:"Select one of the demo users to view the application with the associated user roles."}),G.jsx("ul",{children:e.map(s=>G.jsx("li",{className:t===s.name?"active":"",onClick:()=>n(s),style:{cursor:"pointer"},children:G.jsxs("a",{children:[G.jsx("h3",{children:s.name}),G.jsx("p",{children:s.roles.join(", ")})]})},s.name))})]})]})};class T2 extends W.Component{constructor(){super(...arguments),this.state={hasError:!1}}render(){return this.state.hasError?G.jsx("div",{children:"Something went wrong"}):this.props.children}static getDerivedStateFromError(){return{hasError:!0}}}function _2(t){return t!==void 0?function e(n){return n.type==="literal"?function(r){switch(r.valueType){case"DateTime":return vd(r.valueType,r.value.getTime());case"Numeric":return vd(r.valueType,r.value.toString());case"Reference":case"ReferenceSet":const i=r[Ks];return vd(r.valueType,r.value,{dataSourceId:i});default:return vd(r.valueType,r.value)}}(n):kr(n,r=>Array.isArray(r)?r.map(e):typeof r=="object"?e(r):r)}(t):void 0}function D2(t){return t!==void 0?function e(n){const r=n.type==="literal"?function(i){switch(i.valueType){case"DateTime":return Js(new Date(i.value));case"Numeric":return Js(new ee(i.value));case"Reference":case"ReferenceSet":return uo({type:"literal",value:i.value,valueType:i.valueType,[Ks]:i.dataSourceId});default:return Js(i.value)}}(n):kr(n,i=>Array.isArray(i)?Object.freeze(i.map(e)):typeof i=="object"?e(i):i);return uo(r)}(t):void 0}function vd(t,e,n){return{type:"literal",value:e,valueType:t,...n}}const A2=["form","formSuspended","object","editableObject","isInvalid","validationRequest","subtreeReadonly","uniqueId","firstLoadDone"],P2=[/^.*\/items$/];function N2(t){return!A2.includes(t)&&!P2.some(e=>e.test(t))}function I2(t,e){t.forEach(({slot:n,widgetId:r,values:i})=>i.forEach(([s,c])=>e.set(r,n,s,function(l,d){return l.endsWith("/filter")?D2(d):d}(n,c))))}let wd,Vg=[],R2=0,M2=0,L2=0;function U2(t){Vg.push(t)}const F2=_t.get().getLogger(),Io=[];let Ro=-1,W$=!1,H$=!1,G$=!1;const Mo={},Wg=[],q$=()=>Ro,Y$=t=>W$=t,Q$=t=>H$=t,Cu=t=>G$=t;function X$(...t){Io.splice(Ro+1).forEach(e=>{delete Mo[e]});for(const e of t)Ro++,Io[Ro]=e;for(;Object.keys(Mo).length>50;){const e=Io.find(n=>Mo[n]);if(e===void 0){F2.warn("viewStates cleanup has failed");break}delete Mo[e]}}let K$,Hg;const z2=()=>K$;async function J$(t=1,e,n){if(e&&t===1&&q$()===0)return Q$(!0),void Cu(!1);const r=Math.min(q$(),t);if(r>0)return Y$(!0),Ro-=r,n&&Cu(!0),window.history.go(-r),Hg=new Promise(i=>K$=i),Hg;Cu(!1)}class Z$ extends yA{async closePage(e,n,r){await J$(e,n,r)}}class B2 extends Z${async closePage(e=1,n,r){const i=function(s,c=1){if(wd===void 0)return c;const l=Vg.filter(g=>g!==s),d=Math.min(c-1,l.length),h=d>0?l.slice(-d):[];return Vg=l.slice(0,l.length-d),wd([s,...h]),c-(d+1)}(this.getHistoryId(),e);await super.closePage(i,n,r)}}function Gg(t,e){const n=t.getAllEntries$("firstLoadDone"),r=t.get$(Rr,"form",ni);return Ms(()=>({firstLoadDoneEntries:n.dependOn(),page:r.dependOn()}),({firstLoadDoneEntries:i})=>{i.every(s=>s.value===!0)&&setTimeout(e,0)},{fireImmediately:!0})}const eS={height:"100%",display:"flex",flexDirection:"column"},V2=({className:t,children:e,onSubmit:n})=>n?G.jsx("form",{className:t,style:eS,onSubmit:n,children:e}):G.jsx("div",{className:t,style:eS,children:e});let qg=[];const W2=({titleId:t,title:e,active:n,className:r,isDialog:i,showCloseButton:s,onDrag:c,onDrop:l,onClose:d,onFullscreenToggle:h})=>{const g=W.useRef({x:0,y:0}),[y,v]=W.useState(!1),[b,x]=W.useState(!1),S=W.useCallback(I=>{y&&(v(!1),l()),x(!1),I.stopPropagation()},[l,y]),C=W.useCallback(I=>{if(y){const P=I.clientY-g.current.y,N=I.clientX-g.current.x;c(P,N,I.clientX),g.current={x:I.clientX,y:I.clientY},I.stopPropagation(),I.preventDefault()}else if(b){const P={x:Math.abs(I.clientX-g.current.x),y:Math.abs(I.clientY-g.current.y)};Math.sqrt(P.x**2+P.y**2)>5&&(v(!0),x(!1),g.current={x:I.clientX,y:I.clientY})}},[y,b,g,c]);return W.useEffect(()=>{if(n)return document.addEventListener("mouseup",S),()=>{document.removeEventListener("mouseup",S)}},[n,S]),W.useEffect(()=>{if(n&&(b||y))return document.addEventListener("mousemove",C),()=>{document.removeEventListener("mousemove",C)}},[n,b,C,y]),G.jsxs("div",{className:r,style:{userSelect:"none",flex:"0 0 auto"},onMouseDown:I=>{I.button===0&&(x(!0),g.current={x:I.clientX,y:I.clientY})},onDoubleClick:I=>{h(),I.stopPropagation()},children:[s&&G.jsx("button",{type:"button",className:Et("close",{"mx-dialog-close":i}),title:Me("mxui.widget.Window","close"),"aria-label":Me("mxui.widget.Window","close"),onClick:d,children:"\xD7"}),G.jsx("h4",{id:t,className:Et({"caption mx-dialog-caption":i}),children:e})]})};var pt;(function(t){t[t.NORTH=0]="NORTH",t[t.EAST=1]="EAST",t[t.SOUTH=2]="SOUTH",t[t.WEST=3]="WEST",t[t.NORTHEAST=4]="NORTHEAST",t[t.NORTHWEST=5]="NORTHWEST",t[t.SOUTHEAST=6]="SOUTHEAST",t[t.SOUTHWEST=7]="SOUTHWEST"})(pt||(pt={}));const H2=[{mode:pt.NORTH,cssClass:"mx-resizer-n"},{mode:pt.EAST,cssClass:"mx-resizer-e"},{mode:pt.SOUTH,cssClass:"mx-resizer-s"},{mode:pt.WEST,cssClass:"mx-resizer-w"},{mode:pt.NORTHEAST,cssClass:"mx-resizer-ne"},{mode:pt.SOUTHEAST,cssClass:"mx-resizer-se"},{mode:pt.SOUTHWEST,cssClass:"mx-resizer-sw"},{mode:pt.NORTHWEST,cssClass:"mx-resizer-nw"}];function tS(t,e,n){return(t<n||t>window.innerWidth-n)&&(t=t<n?n:window.innerWidth-n),(e<n||e>window.innerHeight-n)&&(e=e<n?n:window.innerHeight-n),{x:t,y:e}}function G2({onResize:t,onResizeEnd:e}){const[n,r]=W.useState(!1),i=W.useRef(),s=W.useRef({x:0,y:0}),c=d=>{r(!1),d.stopPropagation(),e()},l=W.useCallback(d=>{if(!n)return;let h=0,g=0,y=0,v=0;const b=tS(d.clientX,d.clientY,20);i.current===pt.EAST||i.current===pt.NORTHEAST||i.current===pt.SOUTHEAST?h=b.x-s.current.x:i.current!==pt.WEST&&i.current!==pt.NORTHWEST&&i.current!==pt.SOUTHWEST||(h=s.current.x-b.x,v=-h),i.current===pt.SOUTH||i.current===pt.SOUTHWEST||i.current===pt.SOUTHEAST?g=b.y-s.current.y:i.current!==pt.NORTH&&i.current!==pt.NORTHWEST&&i.current!==pt.NORTHEAST||(g=s.current.y-b.y,y=-g),s.current={x:b.x,y:b.y},h===0&&g===0||t({deltaWidth:h,deltaHeight:g,deltaTop:y,deltaLeft:v}),d.stopPropagation(),d.preventDefault()},[n,t]);return W.useEffect(()=>{if(n)return document.addEventListener("mouseup",c),document.addEventListener("mousemove",l),()=>{document.removeEventListener("mouseup",c),document.removeEventListener("mousemove",l)}},[l,n]),G.jsx(G.Fragment,{children:H2.map(d=>G.jsx("div",{className:Et("mx-resizer",d.cssClass),onMouseDown:h=>((g,y)=>{if(g.button!==0)return;i.current=y;const v=tS(g.clientX,g.clientY,20);s.current={x:v.x,y:v.y},r(!0),g.preventDefault(),g.stopPropagation()})(h,d.mode),style:{userSelect:"none"}},d.mode))})}function Yg(t){let{left:e,top:n}=t;const{width:r,height:i}=t;if(!r||!i)return{left:e,top:n};const s=t.left<20,c=t.top<20,l=t.left+r>window.innerWidth-20,d=t.top+i>window.innerHeight-20,h=window.innerWidth-20<r,g=window.innerHeight-20<i;return s||h?e=20:l&&(e=window.innerWidth-r-20),c||g?n=20:d&&(n=window.innerHeight-i-20),{top:n,left:e}}function q2(t){return Math.max(20,.7*(window.innerHeight/2-t/2))}function Y2(t){return Math.max(20,window.innerWidth/2-t/2)}function ju(){return window.innerHeight-40}function xd(){return window.innerWidth-40}function Tu(t,e=300,n=200){const r={...t},i=xd(),s=ju();r.height&&(r.height>s?r.height=s:r.height<n&&(r.height=n)),r.width&&(r.width>i?r.width=i:r.width<e&&(r.width=e));const c=r.width&&r.height?Yg(r):{top:r.top,left:r.left};return{...r,...c}}function nS(){return{width:xd(),height:ju(),top:20,left:20}}let Lo,rS,Uo,aS,iS,oS,Qg;function Xg({widgetId:t,initWidth:e,initHeight:n,initOffset:r,resizable:i,onFocus:s,onDrop:c,title:l,onClose:d,zIndex:h,isActive:g,isModal:y,isDialog:v,showCloseButton:b,children:x,className:S,style:C,footer:I,onSubmit:P,form:N,preferUnderlyingModalOverLastFocusedElement:T}){const A=W.useRef(null),F=W.useRef(null),$=W.useRef(),[k,j]=W.useState({width:e,height:n,top:0,left:0}),q=W.useRef(),[Z,ue]=W.useState(!1),[fe,Te]=W.useState(300),[lt,tt]=W.useState(200);W.useEffect(()=>{function Ee(){if(Lo.disconnect(),A.current&&$.current){const{width:me,height:be}=A.current.getBoundingClientRect();$.current.width&&$.current.height||($.current={...$.current,width:me,height:be});const Oe=Z?nS():Tu($.current,fe,lt);j(Oe)}}return window.addEventListener("resize",Ee),()=>{window.removeEventListener("resize",Ee)}},[Z,fe,lt]),W.useEffect(()=>(Lo=new ResizeObserver(()=>{window.requestAnimationFrame(()=>{(function(){if(A.current&&$.current){const Ee=ju(),me=A.current.getBoundingClientRect();if(me.height+me.top-20>Ee){let be;me.height<Ee?be={...$.current,top:Ee-me.height+20+r}:(Lo.disconnect(),be={...$.current,top:20,height:Ee}),$.current=be,j(be)}}})()})}),A.current&&Lo.observe(A.current),()=>{Lo.disconnect()}),[r]);const vt=W.useCallback(()=>{if(A.current){const{width:Ee,height:me}=A.current.getBoundingClientRect();$.current={...k,...Yg({top:k.top,left:k.left,width:Ee,height:me})},j($.current)}c&&c()},[k,c]),J=W.useCallback(({deltaWidth:Ee,deltaHeight:me,deltaTop:be,deltaLeft:Oe})=>{if(i&&A.current){Lo.disconnect();const{offsetWidth:se,offsetHeight:$e}=A.current,gt=Tu({height:$e+me,width:se+Ee,top:k.top+be,left:k.left+Oe},fe,lt);$.current=gt,j(gt),ue(!1)}},[i,k,fe,lt]),ce=W.useCallback(()=>{if(A.current){const{clientWidth:Ee,clientHeight:me}=A.current,be=function(Oa){const{offsetHeight:Ca,offsetWidth:Yn,clientHeight:ja,clientWidth:zo}=Oa;return{x:Yn-zo,y:Ca-ja}}(A.current),Oe=Ee+be.x,se=me+be.y,$e=Oe>300+be.x?300+be.x:Oe,gt=se>200+be.y?200+be.y:se;Te($e),tt(gt)}},[]),he=W.useCallback(()=>{Z?$.current&&(q.current=void 0,j(Tu($.current))):($.current=k,q.current=A.current?.getBoundingClientRect().width,j(nS())),ue(!Z)},[Z,k]);W.useEffect(()=>{const Ee=me=>{me.key==="Escape"&&A.current?.contains(ud())&&!document.body.hasAttribute($g)&&(me.stopPropagation(),me.preventDefault(),d())};return document.addEventListener("keydown",Ee),()=>{document.removeEventListener("keydown",Ee)}},[]);const Re=`${t}_caption`,Fe=`${t}_content`,zt=W.useRef(ud());return W.useEffect(()=>{function Ee(){if(F.current&&A.current){const be=Oo(F.current)??Oo(A.current)??A.current;E$(be)}}let me;return function(be,Oe,se,$e){qg.unshift({modalId:be,modalContentId:Oe,previousFocusedItem:se,preferUnderlyingModalOverLastFocusedElement:$e})}(t,Fe,zt.current??void 0,T??!1),N?me=Gg(N.getStoreBackend(),Ee):Ee(),()=>{wu(function(){const be=qg.shift(),Oe=qg[0];if(be?.preferUnderlyingModalOverLastFocusedElement&&Oe!==void 0&&be.previousFocusedItem===Oe.previousFocusedItem){const se=document.getElementById(Oe.modalId),$e=document.getElementById(Oe.modalContentId);if(se&&$e)return Oo($e)??Oo(se)??se}return be?.previousFocusedItem??document.body}()),me&&me()}},[]),W.useEffect(()=>{function Ee(){if(!A.current||$.current&&r===0)return;const be=A.current.getBoundingClientRect(),Oe=n??be.height,se=e??be.width;ce(),$.current={height:n,width:e,top:q2(Oe)+r,left:Y2(se)+r},Oe>ju()||se>xd()?$.current=Tu({...$.current,height:Oe,width:se}):($.current.left>xd()-se-20||$.current.top>ju()-Oe-20)&&($.current={...Yg({...$.current,height:Oe,width:se}),width:$.current.width,height:$.current.height}),j($.current)}let me;return N?me=Gg(N.getStoreBackend(),Ee):Ee(),()=>{me&&me()}},[r]),G.jsxs("div",{ref:A,id:t,className:Et("modal-dialog",S,{"mx-window":!v,"mx-dialog":v,"mx-window-active":g&&!v}),style:{width:k.width,height:k.height,zIndex:h,top:k.top===0?"100%":k.top,left:k.left===0?"100%":k.left,...C},role:"dialog","data-focus-capturing":y?u2:m$,"aria-modal":y,"aria-labelledby":Re,"aria-describedby":Fe,tabIndex:-1,onMouseDown:s,children:[G.jsxs(V2,{className:Et("modal-content",{"mx-window-content":!v,"mx-dialog-content":v}),onSubmit:P,children:[G.jsx(W2,{titleId:Re,className:Et("modal-header",{"mx-window-header":!v,"mx-dialog-header":v}),title:l,onDrag:(Ee,me,be)=>{if(!vu()&&$.current){let{top:Oe,left:se,width:$e,height:gt}=k;Z&&q.current?($e=q.current,gt=$.current.height,Oe=20,se=be-$e/2,be<=$e+20?se=20:be>=window.innerWidth-20-$e&&(se=window.innerWidth-20-$e),ue(!1),j(Tu({width:$e,height:gt,top:Oe+Ee,left:se+me},fe,lt))):j({width:$e,height:gt,top:Oe+Ee,left:se+me})}},onDrop:vt,onClose:d,active:g,isDialog:v,showCloseButton:b,onFullscreenToggle:he}),G.jsx("div",{id:Fe,className:Et("modal-body",{"mx-window-body":!v,"mx-dialog-body":v}),style:{flex:"1 1 auto"},ref:F,children:x}),I&&G.jsx("div",{className:Et("modal-footer",{"mx-window-footer":!v,"mx-dialog-footer":v}),...v&&{"data-focusindex":"0"},children:I})]}),i&&G.jsx(G2,{onResize:J,onResizeEnd:ce})]})}function Q2({widgetId:t,messageCode:e,zIndex:n,onFocus:r,onClose:i,onError:s}){const[c,l]=W.useState(""),[d,h]=W.useState("");return G.jsxs(Xg,{widgetId:t,className:"mx-login",title:Ja(e?`http${e}`:"loginHeader"),footer:G.jsxs(G.Fragment,{children:[G.jsx("button",{className:"btn btn-primary",type:"submit",children:Ja("loginButton")}),G.jsx("button",{className:"btn",type:"button",onClick:i,children:Ja("cancel")}),e===403&&G.jsx("button",{className:"btn go-to-homepage",type:"button",onClick:()=>location.href=window.mx.homeUrl,children:Ja("goHomeButton")})]}),isDialog:!0,initWidth:500,initOffset:0,resizable:!0,zIndex:n,isActive:!0,isModal:!1,showCloseButton:!1,onFocus:r,onClose:i,onSubmit:g=>{g.preventDefault(),window.mx.login(c,d,i,s)},children:[G.jsx("input",{className:"form-control",name:"username",type:"text",autoCorrect:"off",autoCapitalize:"none",placeholder:Ja("username"),value:c,onChange:g=>l(g.target.value)}),G.jsx("input",{className:"form-control",name:"password",type:"password",autoCorrect:"off",autoCapitalize:"none",placeholder:Ja("password"),value:d,onChange:g=>h(g.target.value)})]})}function X2({okCaption:t,cancelCaption:e,onOk:n,onCancel:r,onClose:i}){const s=[G.jsx("button",{className:"btn btn-primary",onClick:()=>{i&&i(),n&&n()},children:t},"ok")];return e&&s.push(G.jsx("button",{className:"btn",onClick:()=>{i&&i(),r&&r()},children:e},"cancel")),G.jsx(G.Fragment,{children:s})}function K2({text:t}){return G.jsx("p",t===void 0?{}:{children:t.split(`
`).map((e,n,r)=>G.jsxs(W.Fragment,{children:[e,n<r.length-1&&G.jsx("br",{})]},`${e} ${n}`))})}function J2({zIndex:t,message:e,isModal:n,showDelay:r=0}){const[i,s]=W.useState(r===0),c=W.useRef();return W.useEffect(()=>(clearTimeout(c.current),c.current=window.setTimeout(()=>{s(!0)},r),()=>window.clearTimeout(c.current)),[r]),W.useEffect(()=>(n&&document.body.setAttribute($g,"true"),()=>{n&&document.body.removeAttribute($g)}),[n]),i?G.jsxs("div",{id:"mxui_widget_Progress_0",className:Et("mx-progress",{"mx-progress-empty":!e}),style:{zIndex:t},role:"alert","aria-live":"assertive","aria-busy":"true",children:[G.jsx("div",{className:"mx-progress-message",children:e}),G.jsx("div",{className:"mx-progress-indicator"})]}):null}const _u=()=>rS,Z2=()=>Uo,Kg=()=>H(aS),sS=()=>H(iS),uS=()=>H(oS);function eP({onUpdateOverlay:t,overlayIsVisible:e}){const[n,r]=W.useState([]),[i,s]=W.useState([]),[c,l]=W.useState([]),[d,h]=W.useState();rS=(b,x,S,C,I)=>{const P=Hn(),N=M2++;return s(T=>[...T,{id:P,index:N,type:b,content:x,title:S,isModal:C,controls:I}]),r(T=>[...T,P]),P},aS=(b,x,S)=>{const C=Date.now();return l(I=>[...I,{id:C,content:b,isModal:x,showDelay:S}]),C},Uo=b=>{s(x=>x.filter(S=>S.id!==b)),r(x=>x.filter(S=>S!==b))},iS=b=>l(x=>x.filter(S=>S.id!==b)),oS=()=>l([]),Qg=b=>h(x=>{if(x)return{...x,messageCode:b};{const S=L2++;return{messageCode:b,index:S,id:Hn()}}});const g=b=>r(x=>{const S=x[x.length-1];if(!S)return x;const C=[...x];return C[C.indexOf(b)]=S,C[C.length-1]=b,C}),y=c[c.length-1],v=1e3+2*(n.length+1);return W.useEffect(()=>{const b=i.some(I=>I.isModal),x=c.some(I=>I.isModal),S=b||x,C=x?v-1:1e3+2*n.length-1;t(S,n.length>0||x?C:0)},[v,n.length,i,c]),Zi.createPortal(G.jsxs(G.Fragment,{children:[i.map(({id:b,index:x,type:S,content:C,title:I,controls:P,isModal:N})=>G.jsx(Xg,{widgetId:`mxui_widget_DialogMessage_${x}`,className:S==="confirmation"?void 0:`mx-dialog-${S}`,title:I,footer:G.jsx(X2,{...P,onClose:()=>{Uo&&Uo(b)}}),isDialog:!0,initWidth:500,initOffset:0,resizable:!0,zIndex:1e3+2*(n.indexOf(b)+1),isActive:n[n.length-1]===b,isModal:N||e,onFocus:()=>g(b),onClose:()=>{Uo&&Uo(b),P.onCancel&&P.onCancel()},showCloseButton:!0,children:G.jsx(K2,{text:C})},b)),d&&G.jsx(Q2,{widgetId:`mxui_widget_LoginDialog_${d.index}`,messageCode:d.messageCode,zIndex:1e3+2*(n.indexOf(d.id)+1),onFocus:()=>g(d.id),onClose:()=>h(void 0),onError:({status:b})=>{Qg(b)}}),y&&G.jsx(J2,{zIndex:v,showDelay:y.showDelay,message:y.content,isModal:y.isModal})]}),document.body)}const cS=({errorMessage:t})=>G.jsx("div",{style:{color:"red"},children:t}),tP=_g(Ag);function nP({popups:t,onUpdateOverlay:e}){const[{stack:n,offsets:r},i]=W.useState({stack:[],offsets:[]}),[s]=W.useState({}),c=n[n.length-1];W.useEffect(()=>{i(h=>{const g={...h,stack:[...h.stack],offsets:[...h.offsets]},y=g.stack.filter(b=>!t.some(x=>x.form.getHistoryId()===b));for(const b of y)g.stack=g.stack.filter(x=>x!==b),g.offsets=g.offsets.map(x=>x===b?void 0:x),delete s[b];const v=t.map(b=>b.form.getHistoryId()).filter(b=>!g.stack.includes(b));for(const b of v){const x=g.offsets.indexOf(void 0);x>-1?g.offsets[x]=b:g.offsets.push(b),g.stack.push(b)}return g})},[t]);let l=!1;const d=[];for(const{widgetId:h,cancelChangesOperationId:g,form:y,classes:v,style:b,title:x,closeButton:S,width:C,height:I,resizable:P,modal:N,preferUnderlyingModalOverLastFocusedElement:T}of t){const A=y.getHistoryId();N&&(l=!0);const F=r.indexOf(A),$=F===-1?0:20*F,k=c===A,j=100+2*(n.indexOf(A)+1);s[A]??(s[A]=new $2),d.push(G.jsx(Xg,{widgetId:h,className:v,style:b,title:x,initWidth:C&&C>0?C:void 0,initHeight:I&&I>0?I:void 0,initOffset:l?0:$,resizable:!vu()&&P,onClose:()=>{const q=S&&s[A]?.getHandler(S);q?q():O$({operationId:g,closePage:!0},{currentForm:y}).catch(Dt)},zIndex:j,onFocus:()=>i(q=>c&&!k?{...q,stack:q.stack.map(Z=>Z===A?c:Z===c?A:Z)}:q),onDrop:()=>{i(q=>{const Z=q.offsets.indexOf(A);if(Z>-1){const ue=[...q.offsets];return ue[Z]=void 0,{...q,offsets:ue}}return q})},isActive:k,isModal:l,showCloseButton:!0,form:y,preferUnderlyingModalOverLastFocusedElement:T,children:G.jsx(A$.Provider,{value:s[A],children:G.jsx(Kw,{backend:y.getStoreBackend(),children:G.jsx(Tg.Provider,{value:cS,children:G.jsx(tP,{$widgetId:"root",content:Dg({id:D$})})})})})},A))}return W.useEffect(()=>{const h=100+2*n.length-1;e(l,n.length>0?h:0)},[l,n.length]),Zi.createPortal(G.jsx(G.Fragment,{children:d}),document.body)}const rP=_g(Ag);function aP({storeBackend:t,classes:e,style:n}){const r=W.useRef(null);return W.useEffect(()=>Gg(t,()=>{if(r.current){const i=Oo(r.current);i&&E$(i)}}),[]),G.jsx(Kw,{backend:t,children:G.jsx(Tg.Provider,{value:cS,children:G.jsx("div",{ref:r,style:n,className:Et("mx-page",e),"data-focusindex":"0",children:G.jsx(rP,{$widgetId:"root",content:Dg({id:D$})})})})})}let lS;const iP=Ya.getInstance(),$d=[];async function dS(t,e,n){const r=Object.keys(t.formParameters);function i(s){const c=rO(location.search,n??"");let l=s;var d,h;l=s&&c!==""?bv(P$,s)+"?"+c:s?bv(P$,s):c!==""?location.pathname+"?"+c:location.pathname,H$?(window.history.replaceState(t,"",l),d=0,h=t.id,Io[d]=h,Q$(!1)):Io.length===0?(window.history.replaceState(t,"",l),X$(t.id)):(window.history.pushState(t,"",l),X$(t.id))}e&&r.length>0?await async function(){if(e!==void 0){for(const s of r){const c=new RegExp(`\\{${s.replace("$","")}/(\\w+)\\}`),l=c.exec(e)?.[1];if(l!==void 0)if(l==="Id")e=e.replace(c,t.formParameters[s]??"");else{if(t.formParameters[s]===void 0){e=e.replace(c,"-");continue}const d=await ao(t.formParameters[s]);if(!d?.has(l)){e=e.replace(c,"-");continue}e=e.replace(c,d.get2(l)?.toString()??"")}else e=e.replace(`{${s.replace("$","")}}`,t.formParameters[s]??"")}i(e)}}():i(e)}function Sd(t,e){window.document.title=e?`${t} - ${e}`:t}function oP({state:t,storeBackend:e}){const n=t.viewState;return W.useLayoutEffect(()=>{n&&I2(n,e)},[n]),null}async function Jg(t){Kg()(void 0,void 0,500);const e=xt().getConfig("cachebust");try{const n=await import(`./pages/${t}.js?${e}`);return uS()(),n}catch(n){throw console.error(`An error occurred while loading page '${t}'. This likely means that the page includes a broken widget. Please check that all your widgets are React Client compatible and are valid ES modules.`,n),uS()(),n}}function sP({constants:t,applicationTitle:e,onUpdateOverlay:n}){const r=W.useRef(new vl),[i,s]=W.useState(),[c,l]=W.useState([]),d=W.useRef();W.useEffect(()=>Sd(e,d.current),[e]);const h=W.useCallback((g,y,v)=>{const{pageName:b,formParameters:x,id:S}=y,{classes:C,style:I}=g,P=function(A){const F=A.getUsedSlots().filter(N2).flatMap($=>Tn(A.getAllEntries$($)).map(k=>({...k,slot:$}))).map($=>{return{...$,value:(k=$.slot,j=$.value,k.endsWith("/filter")?_2(j):j)};var k,j}).filter(({value:$})=>$!==void 0);return zc(F,({slot:$,widgetId:k})=>`${$}|${k}`).map(({values:$})=>{const{slot:k,widgetId:j}=$[0];return{slot:k,widgetId:j,values:$.map(({path:q,value:Z})=>jn(q,H(Z)))}})}(r.current);i&&function(A,F,$,k){Mo[F]=$,Wg.push(A.lock(k)),Wg.length>5&&Wg.shift()?.()}(iP,i.historyId,P,i.formParameterGuids);const N=new Z$({storeBackend:r.current,historyId:S,name:b,title:d.current??"",pageContent:g.content,formParameters:x}),T={historyId:S,formParameterGuids:N.getParameterGuids(),classes:C,style:I};if(v){const A=new Set(P.filter(({widgetId:F})=>F.startsWith(t.LAYOUT_SCOPE_ID_PREFIX)).map(({widgetId:F})=>F));T.viewState=v.filter(({widgetId:F})=>!A.has(F))}return s(T),N},[i,t.LAYOUT_SCOPE_ID_PREFIX]);return lS=async(g,y,v,b,x,S)=>{await Hg,S&&b&&(Cu(x.location==="content"),await b.closePage(S));const C={id:Hn("historyId"),pageName:g,formParameters:y,customTitle:v,params:x};switch(x.location){case"popup":case"modal":{const I=await Jg(g);return function(P,N,T){const{pageName:A,formParameters:F}=N,$=new B2({storeBackend:new vl,historyId:N.id,name:A,title:T,pageContent:P.content,formParameters:F});U2(N.id);const{location:k,width:j,height:q,resizable:Z,preferUnderlyingModalOverLastFocusedElement:ue}=N.params;return l(fe=>[...fe,{widgetId:"mxui_widget_Window_"+R2++,form:$,classes:P.classes,title:T,modal:k==="modal",style:P.style,closeButton:P.closeButton,cancelChangesOperationId:P.cancelChangesOperationId,width:j,height:q,resizable:Z??!1,preferUnderlyingModalOverLastFocusedElement:ue}]),$}(I,C,v??I.title)}case"content":{if(x.pageUpdateSuspended)return void $d.push(async()=>{await dS(C,x.url,x.queryString),d.current=v,Sd(e,d.current)});const I=await Jg(g);return $d.push(async()=>{await dS(C,I.url,x.queryString),d.current=v??I.title,Sd(e,d.current)}),await async function(){for(;$d.length>0;){const P=$d.shift();P&&await P()}}(),h(I,C,void 0)}default:return}},W.useEffect(()=>{function g(y){const v=y.state;v&&(W$?Y$(!1):function(b){const x=Io.indexOf(b);x>-1&&(Ro=x)}(v.id),(G$?Promise.resolve(void 0):Jg(v.pageName)).then(b=>{var x;b&&(d.current=v.customTitle??b.title,Sd(e,d.current),h(b,v,(x=v.id,Mo[x])))}).finally(()=>{Cu(!1);const b=z2();b&&b()}).catch(b=>{throw b}))}return window.addEventListener("popstate",g),()=>window.removeEventListener("popstate",g)},[h,e]),W.useEffect(()=>(wd=function(g){l(y=>y.filter(v=>!g.includes(v.form.getHistoryId())))},()=>{wd=void 0}),[]),i===void 0?null:G.jsxs(G.Fragment,{children:[G.jsx(oP,{state:i,storeBackend:r.current}),G.jsx(aP,{storeBackend:r.current,classes:i.classes,style:i.style}),G.jsx(nP,{popups:c,onUpdateOverlay:n})]})}function uP({zIndex:t}){return Zi.createPortal(G.jsx("div",{className:"mx-underlay",style:{zIndex:t}}),document.body)}let fS;const cP=()=>{const[t,e]=W.useState(!1);return W.useEffect(()=>{const n=()=>{setTimeout(()=>{e(!1)},400)};return t?(document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)):(document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n)),()=>{document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n)}},[t]),fS=()=>{e(!0)},t?G.jsx("div",{className:"mx-reload-notification",children:"App has been reloaded"}):null};class lP{constructor(e){this.rootDir=e}async getDirectoryHandle(e,n){const r=navigator.storage.getDirectory();return this.toAbsolutePath(e).split("/").filter(i=>i!=="").reduce(async(i,s)=>(await i).getDirectoryHandle(s,{create:n}),r)}async getFileHandle(e,n){const[r,i]=await this.getParentHandleWithFileName(e,n);return r.getFileHandle(i,{create:n})}async getParentHandleWithFileName(e,n){const r=e.split("/").filter(s=>s!==""),i=r.pop();return[await this.getDirectoryHandle(r.join("/"),n),i]}toAbsolutePath(e){return e===this.rootDir||e.startsWith(this.rootDir+"/")?e:this.rootDir+"/"+e}}class dP{constructor(e){this.webWorker=e,this.awaitingResponses=[],this.messageId=0,this.webWorker.addEventListener("message",n=>{const r=this.awaitingResponses[n.data.id];r!==void 0?(n.data.isSuccess&&r.resolve(n.data.data),n.data.failure!==void 0&&r.reject(n.data.failure),delete this.awaitingResponses[n.data.id]):console.error(`Could not find response for id ${n.data.id}.`)})}async request(e,n){return new Promise((r,i)=>{this.sendMessage(e,n??[],r,i)})}post(e,n){this.sendMessage(e,n??[],()=>{},r=>{console.error(`Error encountered while processing message: ${r}`,r)})}sendMessage(e,n,r,i){const s=this.messageId++;this.awaitingResponses[s]={id:s,resolve:r,reject:i},this.webWorker.postMessage({id:s,data:e},n)}}class fP extends lP{constructor(e,n){super(e),this.opfsFileStorageWorker=new hP(e),this.downloadQueue=new HA(async(r,i)=>{if(n?.downloadFileFn)return new Promise((c,l)=>n.downloadFileFn(r,i,c,l));const s=await xC(r,"blob");return this.storeFile(s,i)})}async downloadFile(e,n){await this.downloadQueue.addToQueue(e,n)}async listDir(e){try{const n=await this.getDirectoryHandle(e);return(await hS(n.values())).map(r=>r.name)}catch(n){if(n instanceof DOMException&&n.name==="NotFoundError")return[];throw n}}async moveDir(e,n){const r=await this.getDirectoryHandle(e),[i,s]=await this.getParentHandleWithFileName(n,!0);try{await r.move(i,s)}catch{const c=await hS(r.values());for(const l of c)l.kind==="directory"?await this.moveDir(`${e}/${l.name}`,`${n}/${l.name}`):await this.moveFile(`${e}/${l.name}`,`${n}/${l.name}`);await this.removeDir(e)}}async moveFile(e,n){const r=await this.getFileHandle(e),[i,s]=await this.getParentHandleWithFileName(n,!0);try{await r.move(i,s)}catch{const c=await r.getFile();await this.storeFile(c,n),await this.removeFile(e)}}async readFile(e){return(await this.getFileHandle(e)).getFile()}async removeDir(e){try{const[n,r]=await this.getParentHandleWithFileName(e);await n.removeEntry(r,{recursive:!0})}catch(n){if(n instanceof DOMException&&n.name==="NotFoundError")return;throw n}}async removeFile(e){try{const[n,r]=await this.getParentHandleWithFileName(e);await n.removeEntry(r)}catch(n){if(n instanceof DOMException&&n.name==="NotFoundError")return;throw n}}async getFileUrl(e){const n=await this.readFile(e);return URL.createObjectURL(n)}async storeFile(e,n){if(window.useSyncFileStorage)await this.opfsFileStorageWorker.storeFile(n,await e.arrayBuffer());else try{const r=await this.getFileHandle(n,!0);await this.storeAsync(r,e)}catch{await this.opfsFileStorageWorker.storeFile(n,await e.arrayBuffer())}}async storeAsync(e,n){const r=await e.createWritable();try{await r.write(n)}finally{await r.close()}}}class hP{constructor(e){this.webWorkerClient=new dP(new Worker(hu("mxclientsystem/offline/OpfsFileStorageWorker.js"))),this.webWorkerClient.post({action:"init",rootDir:e})}async storeFile(e,n){return this.webWorkerClient.request({action:"storeFile",filePath:e,data:n},[n])}}async function hS(t){const e=[];for await(const n of t)e.push(n);return e}function pS(){return gS()&&window.isSecureContext}function gS(){return!("cordova"in window)&&"serviceWorker"in navigator}let mS;function yS(t){t instanceof Error&&_t.get().getLogger().error(t.message,t.stack);const e=_u(),n=Z2();if(e&&n){n(mS);const{type:r,content:i}=bg(t);mS=e(r,i,Me("mxui.widget.DialogMessage",r),!0,{okCaption:Me("mxui.widget.DialogMessage","ok")})}}class Fr extends Error{constructor(e,n){super(e),this.code=n}}function ve(t){const e=[],n=t.match(/([ns@]*):([nsv@])/);switch(n[2]){case"n":e.push("number");break;case"s":e.push("string");break;case"v":e.push(null)}const r=[];for(let i of n[1])switch(i){case"n":r.push("number");break;case"s":r.push("string")}return e.push(r),e}class pP{constructor(){N$(this,"mxPathName",64)}xClose(e){return 10}xRead(e,n,r){return 10}xWrite(e,n,r){return 10}xTruncate(e,n){return 10}xSync(e,n){return 0}xFileSize(e,n){return 10}xLock(e,n){return 0}xUnlock(e,n){return 0}xCheckReservedLock(e,n){return n.setInt32(0,0,!0),0}xFileControl(e,n,r){return 12}xSectorSize(e){return 512}xDeviceCharacteristics(e){return 0}xOpen(e,n,r,i){return 14}xDelete(e,n){return 10}xAccess(e,n,r){return 10}handleAsync(e){return e()}}class gP{constructor(){Ke(this,gd),Ke(this,Rg),Ke(this,Mg),Ke(this,Gt,0),N$(this,"timeoutMillis",0),Ke(this,ku,new Map),Ke(this,pd,Promise.resolve(0))}get state(){return Q(this,Gt)}async lock(e){return tn(this,gd,Ig).call(this,tn(this,Rg,I$),e)}async unlock(e){return tn(this,gd,Ig).call(this,tn(this,Mg,R$),e)}async isSomewhereReserved(){throw new Error("unimplemented")}async _NONEtoSHARED(){}async _SHAREDtoEXCLUSIVE(){await this._SHAREDtoRESERVED(),await this._RESERVEDtoEXCLUSIVE()}async _SHAREDtoRESERVED(){}async _RESERVEDtoEXCLUSIVE(){}async _EXCLUSIVEtoRESERVED(){}async _EXCLUSIVEtoSHARED(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED()}async _EXCLUSIVEtoNONE(){await this._EXCLUSIVEtoRESERVED(),await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _RESERVEDtoSHARED(){}async _RESERVEDtoNONE(){await this._RESERVEDtoSHARED(),await this._SHAREDtoNONE()}async _SHAREDtoNONE(){}_acquireWebLock(e,n){return new Promise(async(r,i)=>{try{await navigator.locks.request(e,n,s=>{if(r(s),s)return new Promise(c=>Q(this,ku).set(e,c))})}catch(s){i(s)}})}_releaseWebLock(e){Q(this,ku).get(e)?.(),Q(this,ku).delete(e)}async _pollWebLock(e){return(await navigator.locks.query()).held.find(({name:n})=>n===e)?.mode}_getTimeoutSignal(){if(this.timeoutMillis){const e=new AbortController;return setTimeout(()=>e.abort(),this.timeoutMillis),e.signal}}}Gt=new WeakMap,ku=new WeakMap,pd=new WeakMap,gd=new WeakSet,Ig=async function(t,e){const n=7&e;try{const r=()=>t.call(this,n);return await Ge(this,pd,Q(this,pd).then(r,r)),Ge(this,Gt,n),0}catch(r){return r.name==="AbortError"?5:(console.error(r),3850)}},Rg=new WeakSet,I$=async function(t){if(t===Q(this,Gt))return 0;switch(Q(this,Gt)){case 0:if(t===1)return this._NONEtoSHARED();throw new Error(`unexpected transition ${Q(this,Gt)} -> ${t}`);case 1:switch(t){case 2:return this._SHAREDtoRESERVED();case 4:return this._SHAREDtoEXCLUSIVE();default:throw new Error(`unexpected transition ${Q(this,Gt)} -> ${t}`)}case 2:if(t===4)return this._RESERVEDtoEXCLUSIVE();throw new Error(`unexpected transition ${Q(this,Gt)} -> ${t}`);default:throw new Error(`unexpected transition ${Q(this,Gt)} -> ${t}`)}},Mg=new WeakSet,R$=async function(t){if(t===Q(this,Gt))return 0;switch(Q(this,Gt)){case 4:switch(t){case 1:return this._EXCLUSIVEtoSHARED();case 0:return this._EXCLUSIVEtoNONE();default:throw new Error(`unexpected transition ${Q(this,Gt)} -> ${t}`)}case 2:switch(t){case 1:return this._RESERVEDtoSHARED();case 0:return this._RESERVEDtoNONE();default:throw new Error(`unexpected transition ${Q(this,Gt)} -> ${t}`)}case 1:if(t===0)return this._SHAREDtoNONE();throw new Error(`unexpected transition ${Q(this,Gt)} -> ${t}`);default:throw new Error(`unexpected transition ${Q(this,Gt)} -> ${t}`)}};class mP extends gP{constructor(e){super(),this._lockName=e+"-outer",this._reservedName=e+"-reserved"}async isSomewhereReserved(){return await this._pollWebLock(this._reservedName)==="exclusive"}async _NONEtoSHARED(){await this._acquireWebLock(this._lockName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _SHAREDtoRESERVED(){await this._acquireWebLock(this._reservedName,{mode:"exclusive",signal:this._getTimeoutSignal()})}async _RESERVEDtoSHARED(){this._releaseWebLock(this._reservedName)}async _SHAREDtoNONE(){this._releaseWebLock(this._lockName)}}let yP=0;const Zg=new WeakMap;class bP{constructor(e,n={durability:"default"}){Ke(this,Lg),Ke(this,Eu,void 0),Ke(this,Ou,void 0),Ke(this,md,void 0),Ke(this,Ft,null),Ke(this,yd,0),Ke(this,To,Promise.resolve()),Ke(this,_o,Promise.resolve()),Ge(this,Ou,Promise.resolve(e).then(r=>Ge(this,Eu,r))),Ge(this,md,n)}async close(){const e=Q(this,Eu)??await Q(this,Ou);await Q(this,To),await this.sync(),e.close()}async run(e,n){const r=Q(this,To).then(()=>tn(this,Lg,M$).call(this,e,n));return Ge(this,To,r.catch(()=>{})),r}async sync(){await Q(this,To),await Q(this,_o),Ge(this,_o,Promise.resolve())}}Eu=new WeakMap,Ou=new WeakMap,md=new WeakMap,Ft=new WeakMap,yd=new WeakMap,To=new WeakMap,_o=new WeakMap,Lg=new WeakSet,M$=async function(t,e){const n=Q(this,Eu)??await Q(this,Ou);if(t==="readwrite"&&Q(this,Ft)?.mode==="readonly")Ge(this,Ft,null);else if(performance.now()-Q(this,yd)>5e3){try{Q(this,Ft)?.commit()}catch(r){if(r.name!=="InvalidStateError")throw r}await new Promise(r=>setTimeout(r)),Ge(this,Ft,null)}for(let r=0;r<2;++r){if(!Q(this,Ft)){Ge(this,Ft,n.transaction(n.objectStoreNames,t,Q(this,md)));const i=Ge(this,yd,performance.now());Ge(this,_o,Q(this,_o).then(()=>new Promise((s,c)=>{Q(this,Ft).addEventListener("complete",l=>{s(),Q(this,Ft)===l.target&&Ge(this,Ft,null),Zg.get(l.target)}),Q(this,Ft).addEventListener("abort",l=>{console.warn("tx abort",(performance.now()-i)/1e3);const d=l.target.error;c(d),Q(this,Ft)===l.target&&Ge(this,Ft,null),Zg.get(l.target)})}))),Zg.set(Q(this,Ft),yP++)}try{const i=Object.fromEntries(Array.from(n.objectStoreNames,s=>[s,new vP(Q(this,Ft).objectStore(s))]));return await e(i)}catch(i){if(Ge(this,Ft,null),r)throw i}}};function Ea(t){return new Promise((e,n)=>{t.addEventListener("success",()=>e(t.result)),t.addEventListener("error",()=>n(t.error))})}class vP{constructor(e){Ke(this,Mt,void 0),Ge(this,Mt,e)}get(e){return Q(this,Mt).name,Ea(Q(this,Mt).get(e))}getAll(e,n){return Q(this,Mt).name,Ea(Q(this,Mt).getAll(e,n))}getKey(e){return Q(this,Mt).name,Ea(Q(this,Mt).getKey(e))}getAllKeys(e,n){return Q(this,Mt).name,Ea(Q(this,Mt).getAllKeys(e,n))}put(e,n){return Q(this,Mt).name,Ea(Q(this,Mt).put(e,n))}delete(e){return Q(this,Mt).name,Ea(Q(this,Mt).delete(e))}clear(){return Q(this,Mt).name,Ea(Q(this,Mt).clear())}index(e){return new wP(Q(this,Mt).index(e))}}Mt=new WeakMap;class wP{constructor(e){Ke(this,Do,void 0),Ge(this,Do,e)}getAllKeys(e,n){return Q(this,Do).objectStore.name,Q(this,Do).name,Ea(Q(this,Do).getAllKeys(e,n))}}Do=new WeakMap;const bS={durability:"default",purge:"deferred",purgeAtLeast:16};class xP extends pP{constructor(e="wa-sqlite",n=bS){super(),Ke(this,bd),Ke(this,Fg),Ke(this,zg),Ke(this,ci),Ke(this,Bg),Ke(this,ui,void 0),Ke(this,qt,new Map),Ke(this,ct,void 0),Ke(this,Ao,new Set),Ke(this,Po,performance.now()),Ke(this,ka,new Set),Ke(this,hn,null),this.name=e,Ge(this,ui,Object.assign({},bS,n)),Ge(this,ct,new bP(function(r){return new Promise((i,s)=>{const c=globalThis.indexedDB.open(r,5);c.addEventListener("upgradeneeded",function(){c.result.createObjectStore("blocks",{keyPath:["path","offset","version"]}).createIndex("version",["path","version"])}),c.addEventListener("success",()=>{i(c.result)}),c.addEventListener("error",()=>{s(c.error)})})}(e),{durability:Q(this,ui).durability}))}async close(){for(const e of Q(this,qt).keys())await this.xClose(e);await Q(this,ct)?.close(),Ge(this,ct,null)}xOpen(e,n,r,i){var s;const c=this.handleAsync(async()=>{e===null&&(e=`null_${n}`),n.toString(16),r.toString(16);try{const l=new URL(e,"http://localhost/"),d={path:l.pathname,flags:r,block0:null,isMetadataChanged:!0,locks:new mP(l.pathname)};return Q(this,qt).set(n,d),await Q(this,ct).run("readwrite",async({blocks:h})=>{if(d.block0=await h.get(tn(this,ci,No).call(this,d,0)),!d.block0){if(!(4&r))throw new Error(`file not found: ${d.path}`);d.block0={path:d.path,offset:0,version:0,data:new Uint8Array(0),fileSize:0},h.put(d.block0)}}),!i.buffer.detached&&i.buffer.byteLength||(i=new DataView(new ArrayBuffer(4)),Ge(this,hn,h=>{h.setInt32(0,i.getInt32(0,!0),!0)})),i.setInt32(0,1&r,!0),0}catch(l){return console.error(l),14}});return(s=Q(this,hn))==null||s.call(this,i),Ge(this,hn,null),c}xClose(e){return this.handleAsync(async()=>{try{const n=Q(this,qt).get(e);return n&&(n.path,Q(this,qt).delete(e),8&n.flags&&Q(this,ct).run("readwrite",({blocks:r})=>{r.delete(IDBKeyRange.bound([n.path],[n.path,[]]))})),0}catch(n){return console.error(n),10}})}xRead(e,n,r){var i;const s=n.byteLength,c=this.handleAsync(async()=>{const l=Q(this,qt).get(e);l.path,n.byteLength;try{return await Q(this,ct).run("readonly",async({blocks:d})=>{!n.buffer.detached&&n.buffer.byteLength||(n=new Uint8Array(s),Ge(this,hn,g=>g.set(n)));let h=0;for(;h<n.byteLength;){const g=r+h,y=g<l.block0.data.byteLength?l.block0:await d.get(tn(this,ci,No).call(this,l,-g));if(!y||y.data.byteLength-y.offset<=g)return n.fill(0,h),522;const v=n.subarray(h),b=g+y.offset,x=Math.min(Math.max(y.data.byteLength-b,0),v.byteLength);v.set(y.data.subarray(b,b+x)),h+=x}return 0})}catch(d){return console.error(d),10}});return(i=Q(this,hn))==null||i.call(this,n),Ge(this,hn,null),c}xWrite(e,n,r){const i=Q(this,ka).has(e);if(i||performance.now()-Q(this,Po)>3e3){const s=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&Q(this,ka).add(e),await new Promise(l=>setTimeout(l));const c=tn(this,bd,Ug).call(this,e,n.slice(),r);return Ge(this,Po,performance.now()),c});return i&&Q(this,ka).delete(e),s}return tn(this,bd,Ug).call(this,e,n,r)}xTruncate(e,n){const r=Q(this,qt).get(e);r.path;try{Object.assign(r.block0,{fileSize:n,data:r.block0.data.slice(0,n)});const i=Object.assign({},r.block0);return Q(this,ct).run("readwrite",({blocks:s})=>{s.delete(tn(this,ci,No).call(this,r,-1/0,-n)),s.put(i)}),0}catch(i){return console.error(i),10}}xSync(e,n){const r=Q(this,ka).has(e);if(r||Q(this,ui).durability!=="relaxed"||performance.now()-Q(this,Po)>3e3){const i=this.handleAsync(async()=>{this.handleAsync!==super.handleAsync&&Q(this,ka).add(e);const s=await tn(this,Fg,L$).call(this,e,n);return Ge(this,Po,performance.now()),s});return r&&Q(this,ka).delete(e),i}return Q(this,qt).get(e).path,0}xFileSize(e,n){const r=Q(this,qt).get(e);return r.path,n.setBigInt64(0,BigInt(r.block0.fileSize),!0),0}xLock(e,n){return this.handleAsync(async()=>{const r=Q(this,qt).get(e);r.path;try{const i=await r.locks.lock(n);return i===0&&r.locks.state===1&&(r.block0=await Q(this,ct).run("readonly",({blocks:s})=>s.get(tn(this,ci,No).call(this,r,0)))),i}catch(i){return console.error(i),10}})}xUnlock(e,n){return this.handleAsync(async()=>{const r=Q(this,qt).get(e);r.path;try{return r.locks.unlock(n)}catch(i){return console.error(i),10}})}xCheckReservedLock(e,n){var r;const i=this.handleAsync(async()=>{const s=Q(this,qt).get(e);s.path;const c=await s.locks.isSomewhereReserved();return!n.buffer.detached&&n.buffer.byteLength||(n=new DataView(new ArrayBuffer(4)),Ge(this,hn,l=>{l.setInt32(0,n.getInt32(0,!0),!0)})),n.setInt32(0,c?1:0,!0),0});return(r=Q(this,hn))==null||r.call(this,n),Ge(this,hn,null),i}xSectorSize(e){return 512}xDeviceCharacteristics(e){return 19968}xFileControl(e,n,r){const i=Q(this,qt).get(e);switch(i.path,n){case 11:return i.overwrite=!0,0;case 21:if(i.overwrite)try{return this.handleAsync(async()=>(await tn(this,Bg,F$).call(this,i),0))}catch(s){return console.error(s),10}if(i.isMetadataChanged)try{Q(this,ct).run("readwrite",async({blocks:s})=>{await s.put(i.block0)}),i.isMetadataChanged=!1}catch(s){return console.error(s),10}return 0;case 22:return i.overwrite=!1,0;case 31:return this.handleAsync(async()=>{try{return i.block0.version--,i.changedPages=new Set,Q(this,ct).run("readwrite",async({blocks:s})=>{const c=await s.index("version").getAllKeys(IDBKeyRange.bound([i.path],[i.path,i.block0.version]));for(const l of c)s.delete(l)}),0}catch(s){return console.error(s),10}});case 32:try{const s=Object.assign({},i.block0);s.data=s.data.slice();const c=i.changedPages;return i.changedPages=null,i.isMetadataChanged=!1,Q(this,ct).run("readwrite",async({blocks:l})=>{l.put(s);const d=await l.get([i.path,"purge",0])??{path:i.path,offset:"purge",version:0,data:new Map,count:0};d.count+=c.size;for(const h of c)d.data.set(h,s.version);l.put(d),tn(this,zg,U$).call(this,i.path,d.count)}),0}catch(s){return console.error(s),10}case 33:return this.handleAsync(async()=>{try{return i.changedPages=null,i.isMetadataChanged=!1,i.block0=await Q(this,ct).run("readonly",({blocks:s})=>s.get([i.path,0,i.block0.version+1])),0}catch(s){return console.error(s),10}});default:return 12}}xAccess(e,n,r){var i;const s=this.handleAsync(async()=>{try{const c=new URL(e,"file://localhost/").pathname,l=await Q(this,ct).run("readonly",({blocks:d})=>d.getKey(tn(this,ci,No).call(this,{path:c},0)));return!r.buffer.detached&&r.buffer.byteLength||(r=new DataView(new ArrayBuffer(4)),Ge(this,hn,d=>{d.setInt32(0,r.getInt32(0,!0),!0)})),r.setInt32(0,l?1:0,!0),0}catch(c){return console.error(c),10}});return(i=Q(this,hn))==null||i.call(this,r),Ge(this,hn,null),s}xDelete(e,n){return this.handleAsync(async()=>{const r=new URL(e,"file://localhost/").pathname;try{return Q(this,ct).run("readwrite",({blocks:i})=>i.delete(IDBKeyRange.bound([r],[r,[]]))),n&&await Q(this,ct).sync(),0}catch(i){return console.error(i),10}})}async purge(e){await Q(this,ct).run("readwrite",async({blocks:n})=>{const r=await n.get([e,"purge",0]);if(r){for(const[i,s]of r.data)n.delete(IDBKeyRange.bound([e,i,s],[e,i,1/0],!0,!1));await n.delete([e,"purge",0])}r?.data.size})}}ui=new WeakMap,qt=new WeakMap,ct=new WeakMap,Ao=new WeakMap,Po=new WeakMap,ka=new WeakMap,hn=new WeakMap,bd=new WeakSet,Ug=function(t,e,n){const r=Q(this,qt).get(t);r.path,e.byteLength;try{const i=r.block0.fileSize;r.block0.fileSize<n+e.byteLength&&(r.block0.fileSize=n+e.byteLength,r.isMetadataChanged=!0);const s=n===0?r.block0:{path:r.path,offset:-n,version:r.block0.version,data:null};return s.data=e.slice(),r.changedPages?(i===r.block0.fileSize&&r.changedPages.add(-n),n!==0&&Q(this,ct).run("readwrite",({blocks:c})=>c.put(s))):Q(this,ct).run("readwrite",({blocks:c})=>c.put(s)),r.isMetadataChanged=n!==0&&r.isMetadataChanged,0}catch(i){return console.error(i),10}},Fg=new WeakSet,L$=async function(t,e){const n=Q(this,qt).get(t);n.path;try{n.isMetadataChanged&&(Q(this,ct).run("readwrite",async({blocks:r})=>{await r.put(n.block0)}),n.isMetadataChanged=!1),await Q(this,ct).sync()}catch(r){return console.error(r),10}return 0},zg=new WeakSet,U$=function(t,e){Q(this,ui).purge==="manual"||Q(this,Ao).has(t)||e<Q(this,ui).purgeAtLeast||(globalThis.requestIdleCallback?globalThis.requestIdleCallback(()=>{this.purge(t),Q(this,Ao).delete(t)}):setTimeout(()=>{this.purge(t),Q(this,Ao).delete(t)}),Q(this,Ao).add(t))},ci=new WeakSet,No=function(t,e,n=0){const r=!e||-e<t.block0.data.length?-1/0:t.block0.version;return IDBKeyRange.bound([t.path,e,r],[t.path,n,1/0])},Bg=new WeakSet,F$=async function(t){const e=t.block0.data.length;if(e<18)return;const n=new DataView(t.block0.data.buffer,t.block0.data.byteOffset);let r=n.getUint16(16);if(r===1&&(r=65536),r===e)return;const i=Math.max(e,r),s=i/e,c=i/r,l=n.getUint32(28)*r,d=t.block0.version;await Q(this,ct).run("readwrite",async({blocks:h})=>{const g=await h.index("version").getAllKeys(IDBKeyRange.bound([t.path,d+1],[t.path,1/0]));for(const y of g)h.delete(y);h.delete([t.path,"purge",0]);for(let y=0;y<l;y+=i){const v=await h.getAll(IDBKeyRange.lowerBound([t.path,-(y+i),1/0]),s);for(const b of v)h.delete([b.path,b.offset,b.version]);if(c===1){const b=new Uint8Array(r);for(const S of v)b.set(S.data,-(y+S.offset));const x={path:t.path,offset:-y,version:d,data:b};x.offset===0&&(x.fileSize=l,t.block0=x),h.put(x)}else{const b=v[0];for(let x=0;x<c;++x){const S=-(y+x*r);if(-S>=l)break;const C={path:b.path,offset:S,version:d,data:b.data.subarray(x*r,(x+1)*r)};C.offset===0&&(C.fileSize=l,t.block0=C),h.put(C)}}}})};const kd=typeof process=="object",$P={wasmMemorySize:32833536,cacheSize:-16e3};async function SP(t,e){const n={...$P,...e},r=kd&&n.wasmLocation!==void 0?{locateFile:d=>`${n.wasmLocation}${d}`}:{},i=await async function(d,h){const{default:g}=await import(`${d}mxclientsystem/wa-sqlite/wa-sqlite-async.mjs`);if(kd){const y=globalThis.importScripts;globalThis.importScripts=function(){};const v=await g(h);return globalThis.importScripts=y,v}return g(h)}(e.baseUrl,r),s=kd?[]:[`PRAGMA cache_size=${n.cacheSize}`,...n.additionalPragmas??[]];kd||i._free(i._malloc(n.wasmMemorySize));const c=function(d){const h={},g=d._getSqliteFree(),y=d._malloc(8),v=[y,y+4];function b($){if(typeof $!="string")return 0;const k=d.lengthBytesUTF8($),j=d._sqlite3_malloc(k+1);return d.stringToUTF8($,j,k+1),j}function x($,k){return BigInt(k)<<32n|0xffffffffn&BigInt($)}const S=function(){const $=BigInt(Number.MAX_SAFE_INTEGER)>>32n,k=BigInt(Number.MIN_SAFE_INTEGER)>>32n;return function(j,q){return q>$||q<k?x(j,q):4294967296*q+(2147483647&j)-(2147483648&j)}}(),C=new Set;function I($){if(!C.has($))throw new Fr("not a database",21)}const P=new Map;function N($){if(!P.has($))throw new Fr("not a statement",21)}h.bind_collection=function($,k){N($);const j=Array.isArray(k),q=h.bind_parameter_count($);for(let Z=1;Z<=q;++Z){const ue=k[j?Z-1:h.bind_parameter_name($,Z)];ue!==void 0&&h.bind($,Z,ue)}return 0},h.bind=function($,k,j){switch(N($),typeof j){case"number":return j===(0|j)?h.bind_int($,k,j):h.bind_double($,k,j);case"string":return h.bind_text($,k,j);default:return j instanceof Uint8Array||Array.isArray(j)?h.bind_blob($,k,j):j===null?h.bind_null($,k):typeof j=="bigint"?h.bind_int64($,k,j):j===void 0?27:(console.warn("unknown binding converted to null",j),h.bind_null($,k))}},h.bind_blob=function(){const $="sqlite3_bind_blob",k=d.cwrap($,...ve("nnnnn:n"));return function(j,q,Z){N(j);const ue=Z.byteLength??Z.length,fe=d._sqlite3_malloc(ue);d.HEAPU8.subarray(fe).set(Z);const Te=k(j,q,fe,ue,g);return F($,Te,P.get(j))}}(),h.bind_parameter_count=function(){const $=d.cwrap("sqlite3_bind_parameter_count",...ve("n:n"));return function(k){return N(k),$(k)}}(),h.bind_double=function(){const $="sqlite3_bind_double",k=d.cwrap($,...ve("nnn:n"));return function(j,q,Z){N(j);const ue=k(j,q,Z);return F($,ue,P.get(j))}}(),h.bind_int=function(){const $="sqlite3_bind_int",k=d.cwrap($,...ve("nnn:n"));return function(j,q,Z){if(N(j),Z>2147483647||Z<-2147483648)return 25;const ue=k(j,q,Z);return F($,ue,P.get(j))}}(),h.bind_int64=function(){const $="sqlite3_bind_int64",k=d.cwrap($,...ve("nnnn:n"));return function(j,q,Z){if(N(j),Z>9223372036854775807n||Z<-9223372036854775808n)return 25;const ue=Z>>32n,fe=k(j,q,Number(0xffffffffn&Z),Number(ue));return F($,fe,P.get(j))}}(),h.bind_null=function(){const $="sqlite3_bind_null",k=d.cwrap($,...ve("nn:n"));return function(j,q){N(j);const Z=k(j,q);return F($,Z,P.get(j))}}(),h.bind_parameter_name=function(){const $=d.cwrap("sqlite3_bind_parameter_name",...ve("n:s"));return function(k,j){return N(k),$(k,j)}}(),h.bind_text=function(){const $="sqlite3_bind_text",k=d.cwrap($,...ve("nnnnn:n"));return function(j,q,Z){N(j);const ue=b(Z),fe=k(j,q,ue,-1,g);return F($,fe,P.get(j))}}(),h.changes=function(){const $=d.cwrap("sqlite3_changes",...ve("n:n"));return function(k){return I(k),$(k)}}(),h.close=function(){const $=d.cwrap("sqlite3_close",...ve("n:n"),{async:!0});return async function(k){I(k);const j=await $(k);return C.delete(k),F("sqlite3_close",j,k)}}(),h.column=function($,k){N($);const j=h.column_type($,k);switch(j){case 4:return h.column_blob($,k);case 2:return h.column_double($,k);case 1:const q=h.column_int($,k),Z=d.getTempRet0();return S(q,Z);case 5:return null;case 3:return h.column_text($,k);default:throw new Fr("unknown type",j)}},h.column_blob=function(){const $=d.cwrap("sqlite3_column_blob",...ve("nn:n"));return function(k,j){N(k);const q=h.column_bytes(k,j),Z=$(k,j);return d.HEAPU8.subarray(Z,Z+q)}}(),h.column_bytes=function(){const $=d.cwrap("sqlite3_column_bytes",...ve("nn:n"));return function(k,j){return N(k),$(k,j)}}(),h.column_count=function(){const $=d.cwrap("sqlite3_column_count",...ve("n:n"));return function(k){return N(k),$(k)}}(),h.column_double=function(){const $=d.cwrap("sqlite3_column_double",...ve("nn:n"));return function(k,j){return N(k),$(k,j)}}(),h.column_int=function(){const $=d.cwrap("sqlite3_column_int64",...ve("nn:n"));return function(k,j){return N(k),$(k,j)}}(),h.column_int64=function(){const $=d.cwrap("sqlite3_column_int64",...ve("nn:n"));return function(k,j){return N(k),x($(k,j),d.getTempRet0())}}(),h.column_name=function(){const $=d.cwrap("sqlite3_column_name",...ve("nn:s"));return function(k,j){return N(k),$(k,j)}}(),h.column_names=function($){const k=[],j=h.column_count($);for(let q=0;q<j;++q)k.push(h.column_name($,q));return k},h.column_text=function(){const $=d.cwrap("sqlite3_column_text",...ve("nn:s"));return function(k,j){return N(k),$(k,j)}}(),h.column_type=function(){const $=d.cwrap("sqlite3_column_type",...ve("nn:n"));return function(k,j){return N(k),$(k,j)}}(),h.create_function=function($,k,j,q,Z,ue,fe,Te){if(I($),ue&&!fe&&!Te)return F("sqlite3_create_function",d.createFunction($,k,j,q,Z,ue),$);if(!ue&&fe&&Te)return F("sqlite3_create_function",d.createAggregate($,k,j,q,Z,fe,Te),$);throw new Fr("invalid function combination",21)},h.create_module=function($,k,j,q){return I($),F("sqlite3_create_module",d.createModule($,k,j,q),$)},h.data_count=function(){const $=d.cwrap("sqlite3_data_count",...ve("n:n"));return function(k){return N(k),$(k)}}(),h.declare_vtab=function(){const $=d.cwrap("sqlite3_declare_vtab",...ve("ns:n"));return function(k,j){return F("sqlite3_declare_vtab",$(k,j))}}(),h.exec=async function($,k,j){for await(const q of h.statements($,k)){let Z;for(;await h.step(q)===100;)if(j){Z=Z??h.column_names(q);const ue=h.row(q);await j(ue,Z)}}return 0},h.finalize=function(){const $=d.cwrap("sqlite3_finalize",...ve("n:n"),{async:!0});return async function(k){if(!P.has(k))return 21;const j=await $(k);return P.get(k),P.delete(k),j}}(),h.get_autocommit=function(){const $=d.cwrap("sqlite3_get_autocommit",...ve("n:n"));return function(k){return $(k)}}(),h.libversion=function(){const $=d.cwrap("sqlite3_libversion",...ve(":s"));return function(){return $()}}(),h.libversion_number=function(){const $=d.cwrap("sqlite3_libversion_number",...ve(":n"));return function(){return $()}}(),h.limit=function(){const $=d.cwrap("sqlite3_limit",...ve("nnn:n"));return function(k,j,q){return $(k,j,q)}}(),h.open_v2=function(){const $=d.cwrap("sqlite3_open_v2",...ve("snnn:n"),{async:!0});return async function(k,j,q){j=j||6,q=b(q);const Z=await $(k,v[0],j,q),ue=d.getValue(v[0],"*");return C.add(ue),d._sqlite3_free(q),d.ccall("RegisterExtensionFunctions","void",["number"],[ue]),F("sqlite3_open_v2",Z),ue}}(),h.prepare_v2=function(){const $="sqlite3_prepare_v2",k=d.cwrap($,...ve("nnnnn:n"),{async:!0});return async function(j,q){const Z=await k(j,q,-1,v[0],v[1]);F($,Z,j);const ue=d.getValue(v[0],"*");return ue?(P.set(ue,j),{stmt:ue,sql:d.getValue(v[1],"*")}):null}}(),h.progress_handler=function($,k,j,q){I($),d.progressHandler($,k,j,q)},h.reset=function(){const $=d.cwrap("sqlite3_reset",...ve("n:n"),{async:!0});return async function(k){return N(k),F("sqlite3_reset",await $(k),P.get(k))}}(),h.result=function($,k){switch(typeof k){case"number":k===(0|k)?h.result_int($,k):h.result_double($,k);break;case"string":h.result_text($,k);break;default:if(k instanceof Uint8Array||Array.isArray(k))h.result_blob($,k);else if(k===null)h.result_null($);else{if(typeof k=="bigint")return h.result_int64($,k);console.warn("unknown result converted to null",k),h.result_null($)}}},h.result_blob=function(){const $=d.cwrap("sqlite3_result_blob",...ve("nnnn:n"));return function(k,j){const q=j.byteLength??j.length,Z=d._sqlite3_malloc(q);d.HEAPU8.subarray(Z).set(j),$(k,Z,q,g)}}(),h.result_double=function(){const $=d.cwrap("sqlite3_result_double",...ve("nn:n"));return function(k,j){$(k,j)}}(),h.result_int=function(){const $=d.cwrap("sqlite3_result_int",...ve("nn:n"));return function(k,j){$(k,j)}}(),h.result_int64=function(){const $=d.cwrap("sqlite3_result_int64",...ve("nnn:n"));return function(k,j){if(j>9223372036854775807n||j<-9223372036854775808n)return 25;const q=j>>32n;$(k,Number(0xffffffffn&j),Number(q))}}(),h.result_null=function(){const $=d.cwrap("sqlite3_result_null",...ve("n:n"));return function(k){$(k)}}(),h.result_text=function(){const $=d.cwrap("sqlite3_result_text",...ve("nnnn:n"));return function(k,j){const q=b(j);$(k,q,-1,g)}}(),h.row=function($){const k=[],j=h.data_count($);for(let q=0;q<j;++q){const Z=h.column($,q);k.push(Z?.buffer===d.HEAPU8.buffer?Z.slice():Z)}return k},h.set_authorizer=function($,k,j){return I($),F("sqlite3_set_authorizer",d.setAuthorizer($,k,j),$)},h.sql=function(){const $=d.cwrap("sqlite3_sql",...ve("n:s"));return function(k){return N(k),$(k)}}(),h.statements=function($,k){return async function*(){const j=h.str_new($,k);let q={stmt:null,sql:h.str_value(j)};try{for(;q=await h.prepare_v2($,q.sql);)yield q.stmt,h.finalize(q.stmt),q.stmt=null}finally{q?.stmt&&h.finalize(q.stmt),h.str_finish(j)}}()},h.step=function(){const $=d.cwrap("sqlite3_step",...ve("n:n"),{async:!0});return async function(k){return N(k),F("sqlite3_step",await $(k),P.get(k),[100,101])}}();let T=0;const A=new Map;function F($,k,j=null,q=[0]){if(q.includes(k))return k;const Z=j?d.ccall("sqlite3_errmsg","string",["number"],[j]):$;throw new Fr(Z,k)}return h.str_new=function($,k=""){const j=d.lengthBytesUTF8(k),q=4294967295&T++,Z={offset:d._sqlite3_malloc(j+1),bytes:j};return A.set(q,Z),d.stringToUTF8(k,Z.offset,Z.bytes+1),q},h.str_appendall=function($,k){if(!A.has($))throw new Fr("not a string",21);const j=A.get($),q=d.lengthBytesUTF8(k),Z=j.bytes+q,ue=d._sqlite3_malloc(Z+1);d.HEAPU8.subarray(ue,ue+Z+1).set(d.HEAPU8.subarray(j.offset,j.offset+j.bytes)),d.stringToUTF8(k,ue+j.bytes,q+1),d._sqlite3_free(j.offset),j.offset=ue,j.bytes=Z,A.set($,j)},h.str_finish=function($){if(!A.has($))throw new Fr("not a string",21);const k=A.get($);A.delete($),d._sqlite3_free(k.offset)},h.str_value=function($){if(!A.has($))throw new Fr("not a string",21);return A.get($).offset},h.user_data=function($){return d.getFunctionUserData($)},h.value=function($){const k=h.value_type($);switch(k){case 4:return h.value_blob($);case 2:return h.value_double($);case 1:const j=h.value_int($),q=d.getTempRet0();return S(j,q);case 5:return null;case 3:return h.value_text($);default:throw new Fr("unknown type",k)}},h.value_blob=function(){const $=d.cwrap("sqlite3_value_blob",...ve("n:n"));return function(k){const j=h.value_bytes(k),q=$(k);return d.HEAPU8.subarray(q,q+j)}}(),h.value_bytes=function(){const $=d.cwrap("sqlite3_value_bytes",...ve("n:n"));return function(k){return $(k)}}(),h.value_double=function(){const $=d.cwrap("sqlite3_value_double",...ve("n:n"));return function(k){return $(k)}}(),h.value_int=function(){const $=d.cwrap("sqlite3_value_int64",...ve("n:n"));return function(k){return $(k)}}(),h.value_int64=function(){const $=d.cwrap("sqlite3_value_int64",...ve("n:n"));return function(k){return x($(k),d.getTempRet0())}}(),h.value_text=function(){const $=d.cwrap("sqlite3_value_text",...ve("n:s"));return function(k){return $(k)}}(),h.value_type=function(){const $=d.cwrap("sqlite3_value_type",...ve("n:n"));return function(k){return $(k)}}(),h.vfs_register=function($,k){return F("sqlite3_vfs_register",d.registerVFS($,k))},h}(i);c.vfs_register(new xP("idb-batch-atomic",{durability:"strict"}));const l=await c.open_v2(t,70,"idb-batch-atomic");for await(const d of s)await c.exec(l,d);return new kP(c,l)}class kP{constructor(e,n){this.api=e,this.db=n,this.queue={},this.stmtCache=new EP(1e3,r=>this.finalizeStatements(r))}async inTransaction(e){return this.serialize("transaction",()=>this.doTransactional(()=>e(this)))}async doTransactional(e){await this.execInternal("BEGIN");try{const n=await e();return await this.execInternal("COMMIT"),n}catch(n){throw await this.execInternal("ROLLBACK"),n}}async selectObjects(e,n){return this.execInternal(e,n)}async selectValue(e,n){const r=await this.execInternal(e,n);if(r.length>0){const i=H(r[0]),s=Object.keys(i);return s.length>0?i[H(s[0])]:void 0}}async exec(e,n){return await this.execInternal(e,n),this.api.changes(this.db)}async execInternal(e,n){return this.serialize("exec",async()=>{const r=[];for await(const{stmt:i,cols:s}of this.prepareStatements(e)){if(n){await this.api.reset(i);for(let c=0;c<n.length;c++){const l=n[c];this.api.bind(i,c+1,typeof l=="boolean"?l?1:0:l)}}for(;await this.api.step(i)===100;){const c={};for(let l=0;l<s.length;l++)c[H(s[l])]=this.api.column(i,l);r.push(c)}}return r})}prepareStatements(e){return n=this,async function*(){const r=n.stmtCache.get(e);if(r!==void 0)for await(const i of r)yield i;else{const i=[];let s=0;const c=n.api.str_new(n.db,e);try{let l={stmt:0,sql:n.api.str_value(c)};for(;l=await n.api.prepare_v2(n.db,l.sql);){s=l.stmt;const d={stmt:s,cols:n.api.column_names(s)};i.push(d),yield d,s=0}await n.stmtCache.put(e,i)}finally{n.api.str_finish(c),s>0&&(await n.api.finalize(s),await n.finalizeStatements(i))}}}();var n}async finalizeStatements(e){await Promise.all(e.map(async({stmt:n})=>this.api.finalize(n)))}async serialize(e,n){const r=(this.queue[e]??Promise.resolve()).then(()=>n());return this.queue[e]=r.catch(()=>{}),r}}class EP{constructor(e,n){this.maxSize=e,this.cleanUpFn=n,this.counter=0,this.size=0,this.map={}}get(e){const n=this.map[e];return n!==void 0&&(n.lastUsed=this.counter++),n?.value}async put(e,n){if(this.size===this.maxSize){const[r,i]=Object.entries(this.map).reduce(([s,c],[l,d])=>c.lastUsed<d.lastUsed?[s,c]:[l,d]);await this.cleanUpFn?.(i.value),delete this.map[r],this.size--}this.size++,this.map[e]={value:n,lastUsed:this.counter++}}}class OP{constructor(e,n,r){this.ui=e,this.session=n,this.onReload=r}reloadApp(e=!1){this.setPageState(e),this.onReload()}async tryRestorePage(){const e=H(fS);try{const{cache:n,page:r,lang:i}=this.getPageState();return!!(n&&r&&i)&&(mx.data.hydrateCache(n),await this.ui.openForm2(r.name,kr(r.formParameters,s=>s??void 0),this.getLocaleCode()===i?r.title:void 0,void 0,{location:"content"}),e(),!0)}catch{return this.showReloadError(),e(),!1}}getLocaleCode(){return this.session.getConfig("locale.code")}setPageState(e){const{formParameters:n,customTitle:r,pageName:i}=window.history.state,s=e?{page:{name:i,formParameters:kr(n,c=>c??null),title:r},cache:mx.data.dehydrateCache(),lang:this.getLocaleCode()}:{};window.sessionStorage.setItem("mx.reload.modern",JSON.stringify(s))}getPageState(){const e=window.sessionStorage.getItem("mx.reload.modern");return window.sessionStorage.removeItem("mx.reload.modern"),e?JSON.parse(e):{}}showReloadError(){const e=_u();e&&e("confirmation","An error has occurred that might have been caused by fast reload. Refresh the page to fix it.",Me("mxui.widget.DialogMessage","error"),!0,{okCaption:"Refresh page",onOk:this.onReload})}}class CP{constructor(e,n,r){this.rootElement=e,this.onError=n,this.lockManager=Ya.getInstance(),this.navigationLogger=r.getLogger(Ut.Navigation)}async openForm2(e,n,r,i,s,c){const l=Object.values(n).filter(h=>h!==void 0),d=this.lockManager.lock(l);try{return this.navigationLogger.debug(`Open a page with id: ${e} ${c?` Number of pages to close: ${c}`:""}`),await H(lS)(e.replace(/\\|\//g,".").replace(".page.xml",""),n,r,i,s,c)}finally{d()}}async getPageParameters(e){throw new U("getPageParameters should never be called in the React client")}reload(e){throw new en("Method not implemented.")}async back(){await J$(1)}confirmation(e){const{content:n,proceed:r,cancel:i,handler:s,onCancel:c}=e;this.navigationLogger.debug("Show confirmation dialog"),H(_u())("confirmation",n,Me("mxui.widget.ConfirmationDialog","caption"),!0,{okCaption:r??Me("mxui.widget.DialogMessage","ok"),cancelCaption:i??Me("mxui.widget.DialogMessage","cancel"),onOk:s,onCancel:c})}async showLogin(e){if(e===402)return void this.exception(Ja("http402"));const n=xt();if(n.isValid()){const i=n.getConfig("uiconfig.profile.loginPageSettings");if(i?.page)return void await this.openForm2(i.page,{},i.title,void 0,{location:i.location})}const r=gu.get("originURI");if(r){const i=window.location.protocol==="https:"?{sameSite:"None",secure:!0}:{};if(gu.remove("originURI",i),e){const s=no.parseUrl(r);Pg(s.url+"?"+no.stringify({...s.query,messageCode:e}))}else Pg(r)}else H(Qg)(e)}downloadFile(e){const n=e.mxobject,r=n.metaData.isRemoteFileEntity;if(!n.get2("HasContents")&&!r)return;const i=mx.data.getDocumentUrl(n.getGuid(),r?"":ba(n.get2("changedDate")),!1,r?void 0:encodeURIComponent(ba(n.get2("Name"))));if(e.target==="window"||function(){const c=navigator.userAgent.includes("Chrome")&&window.externalHost!==void 0,l=vu();return c||l}()){const c=i+"&target=window";/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||window.navigator.standalone?H(_u())("confirmation",Me("mxui.widget.DialogMessage","file_download_message"),Me("mxui.widget.DialogMessage","file_download"),!0,{okCaption:Me("mxui.widget.FileInput","download"),cancelCaption:Me("mxui.widget.DialogMessage","cancel"),onOk:()=>s(c)}):s(c)}else(function(c,l){let d=document.querySelector("[data-file-downloader]");d||(d=document.createElement("iframe"),d.style.top="-10px",d.style.height="1px",d.style.position="absolute",d.style.visibility="hidden",d.setAttribute("data-file-downloader","true"),document.body.appendChild(d)),d.onload=()=>{const h=H(d.contentDocument??d.contentWindow?.document),g=Rj(h);g&&l(g)},H(d.contentWindow).location=c})(i+"&target=internal",c=>{e.error?e.error(c):this.onError(c)});function s(c){window.open(c,"mendix_file")}}showProgress(e,n){return Kg()(e,n)}hideProgress(e){sS()(e)}error(e,n){this.showMessage("error",e,n)}warning(e,n){this.showMessage("warning",e,n)}showMessage(e,n,r){H(_u())(e,n,Me("mxui.widget.DialogMessage",e),r,{okCaption:Me("mxui.widget.DialogMessage","ok")})}toggleSidebar(){throw new en("Method not implemented.")}includePluggableWidgetsCSS(){const e=H(document.querySelector("head")),n=e.querySelector("link[href*='.css']"),r=document.createElement("link");r.rel="stylesheet",r.href=hu("dist/widgets.css"),n?e.insertBefore(r,n):e.appendChild(r)}setupLocale(){document.documentElement.lang=Dr().languageTag}setDirection(e){document.body.dir=e}setupProfile(e){const n=e.profile.name.toLowerCase();this.rootElement.classList.add(`profile-${n}`)}setupRoles(e){e.forEach(n=>this.rootElement.classList.add(`role-${n.toLowerCase()}`))}setupFocusCapturing(){this.rootElement.setAttribute(s2,m$)}exception(e){this.showMessage("error",e,!0)}info(e,n){this.showMessage("info",e,n)}}const jP=_t.get().getLogger();function vS(t,e,n){const r={locks:e.locks};!_p(e.changes)&&e.object.isPersistable()&&(r.changes=e.changes),e.subscriptions.length>0&&(r.subscribedWidgets=Array.from(new Set(e.subscriptions))),n.length>0&&(r.referencedBy=n.map(l=>function(d,h){const g=d.find(v=>v.object.getGuid()===h);if(g)return[xS(g)+" ("+wS(g)+")",vS(d,g,[])];const y=xt();return h===y.getUserId()?["$currentUser (System.User)",{}]:["$currentSession (System.Session)",{}]}(t,l)).reduce((l,[d,h])=>(l[d]=h,l),{}));const i=xt(),s=e.object.getGuid()===i.getUserId(),c=r.locks===0;return s&&c&&(r.note="Current user is always in cache"),!c||s?r:""}function wS(t){return t.object.getEntity()+(t.object.isPersistable()?"":" [NPE]")}function xS(t){const e=[];return t.uncommitted&&e.push("new"),Object.keys(t.changes).length>0&&e.push("changed"),t.guid+(e.length>0?` (${e.join(", ")})`:"")}window.addEventListener("keydown",t=>{const e=t.key||String.fromCharCode(t.keyCode);t.ctrlKey&&t.altKey&&(e.toLowerCase()==="g"||t.code==="KeyG")&&jP.info(`State details per entity (${new Date().toLocaleTimeString()}):`,function(){const n=it().getObjectsStatistics().filter(s=>s.object!=null),r=function(s){const c=xt(),l=c.getUserId(),d=c.getSessionObjectId(),h=s.map(y=>y.object),g=s.filter(y=>!_p(y.changes)&&y.object.isPersistable()||y.subscriptions.length>0).map(y=>y.object.getGuid());return lx(h,new Set(g.concat([l,d])))}(n),i={};return n.forEach(s=>{const c=wS(s),l=xS(s);i[c]||(i[c]={}),i[c][l]=vS(n,s,r.neighborsOf(s.object.getGuid()))||"Going to be garbage collected \u2020"}),i}())});const em=[];let $S=!1;const SS={bundleVersion:"cacheBust",sessionStore:{get:async()=>window.localStorage.session,async set(t){window.localStorage.session=t},async remove(){delete window.localStorage.session}}};async function TP({systemTexts:t,languages:e,registerServiceWorker:n},r,i){pC(t),WO(yS),BO(),zO();const s=new WA,c=Ya.getInstance(),l=new qA(SS.sessionStore,void 0,i.getLogger(Ut.Startup),i.getLogger(Ut.Auth),SS.bundleVersion,"10.24.8.80126",jo);aO(l);const d=new BA(s,l,c),h=Co,g=new CP(r,P=>yS(P),i);W_(g);const y=new OP(g,l,jo);let v;window.mx={isOffline:P=>l.isOffline()&&!(P&&yt().hasOnlineSyncMode(P)),logger:i.getLogger(),remoteUrl:Co,session:l,version:"10.24.8.80126",appUrl:h,homeUrl:hd,login:(P,N,T,A)=>ES(l,P,N,"default",T,A),login2:(P,N,T,A,F)=>ES(l,P,N,T,A,F),logout:()=>l.logout().then(()=>it().clear(jo)),reload:jo,reloadWithState:()=>y.reloadApp(!0),ui:g,addOnLoad(P){$S?P():em.push(P)}};try{v=await l.startup({offline:pS(),referrer:(S2()??"")+location.search,deviceType:p$()?"Phone":g$()?"Tablet":"Desktop",profile:YA(location.search),timezoneoffset:new Date().getTimezoneOffset(),timezoneId:Intl.DateTimeFormat().resolvedOptions().timeZone,preferredLanguages:navigator.languages,longLiveTheCookie:navigator?.standalone})}catch(P){return void function(N,T){if(N instanceof Pr&&N.status&&N.status===409)T.exception(N.message);else if(N instanceof Ar)T.exception(bg(N).content);else{const A=N instanceof Pr&&N.status&&[402,404,403,500,503].includes(N.status)?N.status:0;T.showLogin(A)}}(P,g)}if(l.getConfig("isDevModeEnabled")){const P=new zA(Co,i);P.addOnReload(()=>async function(){if(!window.isSecureContext)return;const N=(await caches.keys()).filter(T=>T.startsWith("mendix-precache"));for(const T of N)await caches.delete(T)}()),P.addOnReload(N=>y.reloadApp(N)),P.addOnUpdateStyling(()=>function(){const N=document.head.querySelectorAll('link[rel="stylesheet"][href^="theme.compiled.css?"]');if(N.length===0)return;const T=()=>N.forEach(F=>document.head.removeChild(F)),A=document.createElement("link");A.rel="stylesheet",A.href=`theme.compiled.css?${Date.now()}`,A.addEventListener("load",()=>{requestAnimationFrame(T)}),document.head.appendChild(A)}()),await P.connect()}const b=new LA(s,c),x=new GA(s,c);let S,C=new li(s,c,b,d);if(l.isOffline()){if(!pS())throw new Error("Offline functionality is not available because the app is not opened in a Secure Context (using https).");const{dataBackend:P,offlineData:N}=await async function(T,A,F,$){const{buildOfflineDataBackend:k}=await import("./QaTtMlTN.js"),j=await async function(){const Te=window,lt=new c$(await SP("mendixapp.db",{baseUrl:Co,...Te.wasqliteOptions??{}}));return Te.exposeDb&&(Te.__internal_db_dontUse__=lt),lt}();JD(j,T);const{setUserScopedNamePrefix:q}=await Promise.resolve().then(function(){return PD});T.getLogger(Ut.Auth).debug("Using scoped database and file system."),q(`mx${kS(A)}`);const Z=tm(A),ue=new VA(new fP(Z),T);await async function(Te,lt,tt){if(window.localStorage.getItem(nm))return void tt.debug("The client uses user scoped files directories.");const vt="files/documents",J="files/thumbnails";if(await Te.listDir(vt).length)return void window.localStorage.setItem(nm,"true");tt.debug("Migration to user scoped files directories started.");const ce=`${tm(lt)}/documents`,he=`${tm(lt)}/thumbnails`,Re=new xn;try{await Te.moveDir(vt,ce),await Te.moveDir(J,he),tt.debug(`Migration to user scoped files directories completed in ${Re.measure()} milliseconds`)}catch(Fe){if(!(Fe instanceof DOMException&&Fe.name==="NotFoundError"))throw tt.error("Migration to user scoped files directories failed!",Fe),Fe}window.localStorage.setItem(nm,"true")}(ue,A,T.getLogger(Ut.Auth));const fe=(Te,lt,tt)=>ue.getFileUrl(`${Z?`${Z}/`:""}${tt?"thumbnails":"documents"}/${Te}`);return k(F,$,j,H(A.getOfflineConfig()),ue,T,fe,function(){try{return window.openDatabase?.("MendixDatabase","1","Mendix Database",10485760)}catch{return}}())}(i,l,s,c);S=N,C=new li(s,c,b,d,P)}FC(C),window.mx.data=C,C.startup(),UC(l.getConfig(),e,l.getConfig("microflows"),x,S),await y.tryRestorePage()||await Pt(s,c,l.getConfig(),{autoRelease:!0});const I=l.getConfig("uiconfig");if(g.setupLocale(),g.setupProfile(I),g.setupRoles(l.getUserRoleNames()),g.setDirection(I.direction),g.setupFocusCapturing(),l.getConfig("uiconfig.pluginWidgets").length>0&&g.includePluggableWidgetsCSS(),c2(),l.isOffline()){const P=g.showProgress(void 0,!0);try{const N=await l.loadCachedSessionData(),T=IA(N,v);i.getLogger("Startup").debug(` The app will ${T.shouldSync?"":"not "}perform a startup sync.`);const A=l.getOfflineMetadata(),F=await H(S).retrieveOfflineMetadata();await RA(T,A,F,i.getLogger("Startup"))}finally{g.hideProgress(P)}await l.saveSessionData()}for(function(P,N){P&&gS()&&N.getConfig("uiconfig.profile.progressiveWebApp")!=null&&(function({offline:T,precaching:A,profileKind:F,languageCode:$,isReactClient:k}){const j=new URL(mx.appUrl);j.pathname+="service-worker.js",T&&j.searchParams.set("offline","true"),A&&j.searchParams.set("precaching","true"),k&&j.searchParams.set("isReactClient","true"),j.searchParams.set("profileKind",encodeURIComponent(F)),j.searchParams.set("languageCode",encodeURIComponent($)),navigator.serviceWorker.register(j.toString()).catch(q=>Dt(q))}({offline:N.isOffline(),precaching:N.getConfig("uiconfig.profile.progressiveWebApp.precaching"),profileKind:N.getConfig("uiconfig.profile.kind"),languageCode:N.getConfig("locale.code"),isReactClient:!0}),N.getConfig("uiconfig.profile.progressiveWebApp.installPrompt")===!1&&window.addEventListener("beforeinstallprompt",T=>{T.preventDefault()}))}(n,l),it().update=function(P){wn(P).then(P.callback).catch(N=>window.mx.onError(N))},Object.defineProperty($a(),"modulePath",{get(){throw new Error("'modulePath' is not supported in modern client")}}),window.mx.parser=new o2,$a().getTemplate=function(){throw new Error("'getTemplate' is not supported in modern client")},$S=!0;em.length>0;)em.shift()?.();return l}function kS(t){return t.isGuest()?"anonymous":t.getUserId()}function tm(t){return`files/app/${kS(t)}`}const nm="usesScopedDirectories";function ES(t,e,n,r,i,s){t.login({username:e,password:n,useAuthToken:r}).then(()=>{i?.();const c=new URLSearchParams(location.search);if(c.has("c")){const l=new URL(location.href);return l.pathname=decodeURIComponent(c.get("c")),c.delete("c"),l.search=c.toString(),void(location.href=l.toString())}jo()}).catch(c=>s?.(c))}const _P=({applicationConfig:t,rootNode:e})=>{const[n,r]=W.useState(void 0),[i,s]=W.useState({hasModal:!1,zIndex:0}),[c,l]=W.useState({hasModal:!1,zIndex:0}),d=_t.get();W.useEffect(()=>{d.setLogFilter(VO);const b=Kg()(void 0,void 0,500);(async()=>{const x=await TP(t,e,d);x&&r(x)})().catch(Dt).finally(()=>{b&&sS()(b)})},[t,d,e]);const h=n?.getConfig("uiconfig.profile.title")??document.title,g=n?.getConfig("demoUsers"),y=n?.getUserObject().get2("Name"),v=i.hasModal||c.hasModal;return G.jsxs(T2,{children:[v&&G.jsx(uP,{zIndex:Math.max(i.zIndex,c.zIndex)}),G.jsx(sP,{constants:t.constants,applicationTitle:h,onUpdateOverlay:(b,x)=>s({hasModal:b,zIndex:x})}),G.jsx(eP,{onUpdateOverlay:(b,x)=>l({hasModal:b,zIndex:x}),overlayIsVisible:v}),G.jsx(cP,{}),g&&G.jsx(j2,{activeDemoUser:y,demoUsers:g,onSelectUser:async b=>{await n?.logout(),await n?.login({username:b.name,password:b.password}),jo()}})]})},DP=async t=>{k2();const e=H(document.getElementById("root"));B$(e).render(G.jsx(_P,{applicationConfig:t,rootNode:e}))};qv({reactionScheduler:Zi.unstable_batchedUpdates});function AP({renderKey:t,children:e}){const[n,r]=W.useState(t);return W.useEffect(()=>r(t),[t]),t!==n?null:G.jsx(W.Fragment,{children:e})}function PP({scope:t,dataSourceId:e,editable:n},r,i,s,c){const l=OS(t,r,i);let d=-1;const h=Se(`Load trigger of data source of ${i}`,()=>l.dependOn()?sr(s.dependOn(),b=>({parameters:b,id:++d})):Vn()),g=Vx(r,i,h),y=zs(`Load data of data source of ${i}`,()=>{const b=g.dependOn();return b.status!=="available"?b:c(b.value.parameters)}),v=NP(Fx(i,y,r),r,i,n);return nd(Se(`Returned data of data source of ${i}`,()=>sr(v.dependOn(),b=>l0(b,e))))}function OS(t,e,n){if(t){const[r]=e.useSlot(t,"firstLoadDone");return Se(`Is parent ${t} of ${n} ready?`,()=>!!r.dependOn())}return dl(!0)}function NP(t,e,n,r){const[i,s]=e.useSlot(n,"firstLoadDone"),[,c]=e.useSlot(n,"editableObject"),[l,d]=e.useSlot(n,"object"),h=g=>{r&&c(g),d(g)};return tp(`Share object of ${n}`,t,g=>{if(Tn(i)||s(g.status!=="loading"),g.status==="loading"){const y=Tn(l);y!==void 0&&y.status!=="unavailable"||h(Vn())}else h(g)})}function IP(t,e,n){const[r,i]=e.useSlot(n,"firstLoadDone");return tp(`Share first load done of ${n}`,t,s=>{Tn(r)||i(s.status!=="loading")})}const RP=$u((t,e,n)=>{const[r]=e.useSlot(Rr,"form"),i=Se(`Form page title of ${n}`,()=>H(r.dependOn())[0].getTitle());return nd(Y1(`Value of ${zi(n)}`,t.expression,e,{pageTitle:i}))});let MP=class KS{constructor(e){this.config=e,this.type=Su.DateTime}format(e){return!e||isNaN(e.getTime())?"":nu(e,this.config)}parse(e,n){if(e==="")return{valid:!0,value:void 0};const r=Ll(e,this.config,n);return r===void 0?{valid:!1}:{valid:!0,value:r}}getFormatPlaceholder(){return x_(this.config)}withConfig(e){return new KS(e)}};class LP{constructor(e){this.enumeration=e}format(e){return e?_0(this.enumeration,e):""}parse(e){throw new Error("Enumeration values cannot be parsed")}}let UP=class JS{constructor(e){this.config=e,this.type=Su.Number}format(e){return e?Fl(e,this.config.groupDigits,this.config.decimalPrecision):""}parse(e){if(e==="")return{valid:!0,value:void 0};const n=Ul(e,this.config.decimalPrecision);return n===void 0?{valid:!1}:{valid:!0,value:n}}withConfig(e){return new JS(e)}};const FP=(t,e,n)=>zP(Bc(t,e),()=>Dh(t,e),n);function zP(t,e,n={}){return t===void 0?function(){const r={format:i=>i===void 0?"":String(i),parse:i=>({valid:!0,value:i}),withConfig:()=>r,getFormatPlaceholder:()=>{}};return r}():t==="Enum"?new LP(H(e())):CS(t,n)}function CS(t,e){switch(t){case"DateTime":return new MP(e.dateFormat??{type:"date"});case"Integer":case"Long":case"Decimal":return new UP(e.numberFormat??{groupDigits:!1});default:return function(n){const r={format:i=>v1(i,n),parse:i=>{const s=function(c,l){switch(l){case"Decimal":case"Integer":case"Long":return Ul(c);case"DateTime":return Ll(c);case"Boolean":return c===Me("mxui.common","true");default:return c}}(i,n);return s!==void 0?{valid:!0,value:s}:{valid:!1}},withConfig:()=>r,getFormatPlaceholder:()=>{}};return r}(t)}}const BP=t=>G.jsx("div",{className:t.class,style:t.style,children:t.content});function jS(t){return G.jsx(G.Fragment,{children:t.caption.value&&t.caption.value.length>0?t.caption.value:"\xA0"})}const VP=t=>W.createElement(t.renderMode,{className:Et("mx-text",t.class),style:t.style},W.createElement(jS,{caption:t.caption})),WP=({icon:t})=>{if(!t)throw new U;switch(t.type){case"image":return jg(pu({type:t.type,iconUrl:hu(t.iconUrl)}));case"glyph":case"icon":return jg(pu(t))}};function HP(t){const e=t.renderMode;return G.jsx(e,{className:t.class,style:t.style,...GP(t),...t.ariaHidden?{"aria-hidden":!0}:{},children:t.content})}function GP(t){const{tabIndex:e,onClick:n}=t;if(n?.canExecute){const r=()=>{n.isExecuting&&n.disabledDuringExecution||n.execute()},i=s=>{s.preventDefault(),s.stopPropagation(),r()};return{tabIndex:e??0,role:"button",onClick:i,onKeyDown:s=>{s.key!=="Enter"&&s.key!==" "||s.target!==s.currentTarget||i(s)}}}}const qP=t=>G.jsx("div",{className:"mx-placeholder",children:t.content});function YP(t,e,n){Dt(e instanceof Gs?e:new Error(`An error occurred while executing ${n} data source for widget ${zi(t)}: ${e instanceof Error?e.message:e}`))}const QP=$u(({inputWidgetId:t},e,n)=>{const[r]=e.useSlot(t,"isInvalid");return Se(`Validity of ${t} (used by ${n})`,()=>pu(!!r.dependOn()))}),XP=t=>t.visible.value?t.contents:null;var Ed=function(t){var e=t.top,n=t.right,r=t.bottom,i=t.left;return{top:e,right:n,bottom:r,left:i,width:n-i,height:r-e,x:i,y:e,center:{x:(n+i)/2,y:(r+e)/2}}},TS=function(t,e){return{top:t.top+e.top,left:t.left+e.left,bottom:t.bottom-e.bottom,right:t.right-e.right}},rm={top:0,right:0,bottom:0,left:0},An=function(t){var e=t.slice(0,-2);if(t.slice(-2)!=="px")return 0;var n=Number(e);return isNaN(n)&&function(){throw new Error("Invariant failed")}(),n},KP=function(t,e){return function(n){var r,i,s=n.borderBox,c=n.margin,l=c===void 0?rm:c,d=n.border,h=d===void 0?rm:d,g=n.padding,y=g===void 0?rm:g,v=Ed((i=l,{top:(r=s).top-i.top,left:r.left-i.left,bottom:r.bottom+i.bottom,right:r.right+i.right})),b=Ed(TS(s,h)),x=Ed(TS(b,y));return{marginBox:v,borderBox:Ed(s),paddingBox:b,contentBox:x,margin:l,border:h,padding:y}}({borderBox:t,margin:{top:An(e.marginTop),right:An(e.marginRight),bottom:An(e.marginBottom),left:An(e.marginLeft)},padding:{top:An(e.paddingTop),right:An(e.paddingRight),bottom:An(e.paddingBottom),left:An(e.paddingLeft)},border:{top:An(e.borderTopWidth),right:An(e.borderRightWidth),bottom:An(e.borderBottomWidth),left:An(e.borderLeftWidth)}})},Od=function(t){var e=t.getBoundingClientRect(),n=window.getComputedStyle(t);return KP(e,n)};function _S(t,e,n=[]){Ts(t,e);const r=W.useRef([]);function i(s,c){const l=function(g){for(;g?.classList.contains("mx-placeholder")||g?.getAttribute("data-widget-wrapper");)g=g.parentElement;if(g)return JP.filter(y=>g.classList.contains(y)).length===1?g:void 0}(t.current?.parentElement??null);if(!l)return;const d=l.classList.contains("mx-tabcontainer-pane")?H(l.parentElement):l,h=()=>{t.current&&e(function(g,y){return y.style.height!=="auto"&&DS(g)===1}(l,d)?d:void 0)};d!==l?(Du(r,d,{attributes:!0,attributeFilter:["style"]},h),Du(r,l,{childList:!0},h)):Du(r,l,{attributes:!0,attributeFilter:["style"],childList:!0},h),s.forEach(({node:g,options:y})=>{g.current&&Du(r,g.current,y,h)}),c&&h()}W.useEffect(()=>()=>r.current.forEach(s=>s.disconnect()),[]),W.useEffect(()=>{const s=(c=H(t.current),c.parentElement?.getAttribute("data-widget-wrapper")?c.parentElement:c);var c;const l=function(d){return d?.parentElement?.classList.contains("mx-placeholder")&&d.parentElement.parentElement?.classList.contains("mx-incubator")?d.parentElement.parentElement:void 0}(s);if(l){const d=Du(r,l,{childList:!0},h=>{h.forEach(g=>{Array.from(g.removedNodes).includes(s.parentElement)&&(d.disconnect(),i(n,!0))})})}else i(n,!1)},[])}function DS(t){return Array.from(t.children).reduce((e,n)=>e+(n.classList.contains("mx-placeholder")?DS(n):1),0)}const JP=["mx-window-body","mx-page","mx-dataview-content","mx-scrollcontainer-wrapper","mx-tabcontainer-pane"];function Du(t,e,n,r){const i=new MutationObserver(r);return i.observe(e,n),t.current.push(i),i}const ZP=t=>{const e=W.useRef(null),n=W.useRef(null),r=W.useRef(null);return _S(e,W.useCallback(function(i){const s=H(r.current);if(!i)return s.style.height="auto",void(s.style.overflow="");const c=Od(i),l=Od(e.current),d=c.contentBox.height-(l.marginBox.height-l.contentBox.height)-(t.footer?Od(n.current).marginBox.height:0);s.style.height=`${d}px`,s.style.overflow="auto"},[e,n,r]),[{node:n,options:{childList:!0,subtree:!0,characterData:!0}}]),G.jsxs("div",{className:Et("mx-dataview",t.class),style:t.style,"data-focusindex":t.tabIndex,ref:e,children:[G.jsx("div",{className:"mx-dataview-content",ref:r,children:t.body}),t.emptyMessage.value&&t.object.status==="unavailable"&&G.jsx("div",{className:"mx-dataview-message",children:G.jsx("div",{children:G.jsx("p",{children:t.emptyMessage.value})})}),t.footer&&G.jsx("div",{className:"mx-dataview-controls",style:t.hideFooter?{display:"none"}:{},ref:n,children:t.footer})]})},AS=t=>t.caption!==void 0,eN=t=>G.jsxs("div",{className:Et(t.class,"form-group",{"has-error":t.hasError.value,"no-columns":t.orientation==="vertical"}),style:t.style,children:[AS(t)&&G.jsx("label",{className:Et("control-label",{[`col-sm-${t.width}`]:t.orientation==="horizontal"}),htmlFor:t.labelFor,id:t.labelFor&&t.labelFor+"-label",children:t.caption.value}),t.orientation==="horizontal"?G.jsx("div",{className:Et("col-sm-"+(12-t.width),{[`col-sm-offset-${t.width}`]:!AS(t)}),children:t.control}):t.control]}),tN=t=>t.validation?G.jsx("div",{id:t.id,className:"alert alert-danger mx-validation-message",role:"alert",children:t.validation}):null,nN=(t,e)=>t?{"aria-invalid":!0,"aria-describedby":`${e}-error`}:void 0,rN=t=>t?{"aria-label":t}:{},aN=t=>G.jsx("label",{id:t.id,className:t.class,style:t.style,children:G.jsx(jS,{caption:t.caption})}),iN=$u(({children:t,dataSourceId:e,editable:n},r,i,s)=>{const c=`widget template "${i}/${s}"`;return dl({get:d=>{const h=`${i}/${s}/${d.id}`;return G.jsx(l,{namespace:h,item:d,children:t()},h)}});function l(d){return G.jsx(Zw,{namespace:d.namespace,setupStore:W.useCallback(h=>{const[,g]=h.useSlot(i,"object"),[,y]=h.useSlot(i,"editableObject"),v=Xe(d0(d.item,e,c));g(v),n&&y(v)},[d.item]),children:d.children})}});function oN(t){ZE()&&t.listValue.limit===Number.POSITIVE_INFINITY&&t.pageSize!==0&&t.listValue.setLimit(t.pageSize);const[e,n]=W.useState(!1),r=W.useRef();if(!e||t.listValue.status==="available"&&t.listValue.items===r.current||n(!1),t.listValue.status==="available"&&t.listValue.items&&t.selection){const h=t.selection.value?.[0],g=t.listValue.items[0]?.id;h!==g&&t.listValue.items.every(y=>y.id!==h)&&t.selection.setValue(g?[g]:void 0)}const[i,s]=W.useState(d);W.useEffect(()=>s(d()),[t.listValue.filter]),W.useEffect(function(){const h=i.trim();h!==d()&&(clearTimeout(c.current),c.current=window.setTimeout(()=>{const g=h!==""?t.searchAttributes.map(v=>m0(p0(v.id),Js(h))):[],y=g.length===0?void 0:g.length===1?g[0]:g0(...g);t.listValue.setFilter(y)},500))},[i]);const c=W.useRef(),l={listValue:t.listValue,itemTemplate:t.itemTemplate,selection:t.selection,onClick:t.onClick,isLoadingMore:e};return G.jsxs("div",{className:Et("mx-listview",t.class,{"mx-listview-clickable":t.onClick!=null}),style:t.style,children:[t.searchAttributes&&G.jsxs("div",{className:"mx-listview-searchbar",children:[G.jsx("input",{type:"text",placeholder:Me("mxui.widget.ListView","search"),className:"form-control",value:i,onChange:h=>s(h.target.value),"aria-label":Me("mxui.widget.ListView","search")}),G.jsx("button",{className:"btn mx-button",onClick:()=>{i!==""?s(""):(t.listValue.reload(),t.pageSize!==0&&t.listValue.setLimit(t.pageSize))},"aria-label":Me("mxui.widget.ListView","refresh"),title:Me("mxui.widget.ListView","refresh"),children:G.jsx("span",{className:Et("mx-icon-filled",i?"mx-icon-remove":"mx-icon-refresh")})})]}),W.useMemo(()=>G.jsx(sN,{...l}),Object.values(l)),t.listValue.hasMoreItems&&!e&&G.jsxs("button",{type:"button",className:"btn mx-button mx-listview-loadMore",onClick:function(h){h.stopPropagation(),t.listValue.setLimit(t.listValue.limit+t.pageSize),n(!0),r.current=t.listValue.items},children:[G.jsx("span",{className:"mx-icon-filled mx-icon-repeat"})," ",Me("mxui.widget.ListView","load_more")]})]});function d(){const h=t.listValue.filter;if(h!==void 0){const g=h.name==="or"?h.args[0]:h;if(g.name==="contains"&&g.arg2.valueType==="string")return g.arg2.value}return""}}function sN(t){return G.jsxs("ul",{children:[t.listValue.items?.length===0&&G.jsx("li",{className:"mx-listview-empty",children:G.jsx("label",{children:Me("mxui.widget.ListView","no_items")})}),(t.listValue.items??[]).map((e,n)=>{const r=t.selection,i=t.onClick?.get(e),s=i?c=>function(l,d){l.stopPropagation(),!d.canExecute||d.disabledDuringExecution&&d.isExecuting||d.execute()}(c,i):r?()=>function(c,l){l.value?.includes(c.id)||l.setValue([c.id])}(e,r):void 0;return G.jsx("li",{className:Et(`mx-name-index-${n}`,{selected:r?.value?.includes(e.id)}),tabIndex:s?0:-1,role:s?"button":void 0,onClick:s,onKeyDown:s?c=>function(l,d){l.key!=="Enter"&&l.key!==" "||(l.preventDefault(),d(l))}(c,s):void 0,children:G.jsx("div",{className:"mx-dataview","data-focusindex":"0",children:G.jsx("div",{className:"mx-dataview-content",children:t.itemTemplate?.get(e)})})},e.id)}),t.isLoadingMore&&G.jsx("li",{className:"mx-listview-loading",children:G.jsx("img",{src:hu("mxclientsystem/images/loading.gif")})})]})}let am;function uN(){return am===void 0&&(am=xt().getConfig("uiconfig.direction")==="rtl"),am}const cN=t=>G.jsxs("table",{className:Et("mx-table",t.class),style:{...t.style,...t.autoWidth?{width:"auto"}:{}},children:[G.jsx("colgroup",{children:t.columnWidths.map((e,n)=>G.jsx("col",{style:{width:e}},n))}),G.jsx("tbody",{children:t.rows})]}),lN=t=>G.jsx("tr",{className:t.class,style:t.style,children:t.cells.map((e,n)=>W.createElement(e.header?"th":"td",{className:e.class,style:e.style,colSpan:e.width&&e.width>1?e.width.toString():void 0,rowSpan:e.height&&e.height>1?e.height.toString():void 0,key:n},e.content))});export{Ht as $,VP as A,AP as B,PP as C,RP as D,ZP as E,XP as F,eN as G,ao as H,QP as I,IP as J,rA as K,aA as L,zi as M,gr as N,H as O,Xe as P,nd as Q,eo as R,G as S,Se as T,tN as U,Tn as V,rN as W,nN as X,ww as Y,hA as Z,Hn as _,qP as a,Dh as a$,Zi as a0,fd as a1,Zh as a2,Hx as a3,tp as a4,Vn as a5,sr as a6,cA as a7,ga as a8,QO as a9,kr as aA,Wl as aB,yt as aC,pA as aD,Wn as aE,I1 as aF,R1 as aG,aN as aH,cN as aI,lN as aJ,xt as aK,HE as aL,YE as aM,GE as aN,Gs as aO,Dt as aP,ml as aQ,Tp as aR,KO as aS,A$ as aT,FP as aU,Su as aV,Cj as aW,la as aX,Y1 as aY,Bc as aZ,D0 as a_,QE as aa,Ol as ab,f0 as ac,U as ad,h0 as ae,fa as af,tO as ag,qp as ah,Hp as ai,j$ as aj,KC as ak,JO as al,Et as am,oN as an,iN as ao,WP as ap,Ag as aq,DP as ar,zs as as,tA as at,l0 as au,cj as av,rp as aw,jn as ax,Gx as ay,eA as az,Rr as b,zC as b$,Gp as b0,Ct as b1,ba as b2,I0 as b3,va as b4,F_ as b5,ud as b6,S$ as b7,uN as b8,xu as b9,hx as bA,Gw as bB,kx as bC,ke as bD,HC as bE,k_ as bF,sO as bG,oO as bH,S_ as bI,wn as bJ,E_ as bK,Ix as bL,Qw as bM,qw as bN,Ex as bO,Yw as bP,Ij as bQ,Ur as bR,nr as bS,Nj as bT,Za as bU,vo as bV,ux as bW,Ql as bX,ei as bY,IC as bZ,qC as b_,ee as ba,yv as bb,eO as bc,_S as bd,Od as be,Zw as bf,T0 as bg,Fc as bh,ej as bi,tj as bj,oj as bk,Ze as bl,ut as bm,ng as bn,hr as bo,lu as bp,rx as bq,Pe as br,Yl as bs,Ut as bt,gx as bu,Ys as bv,xn as bw,$_ as bx,Ne as by,VC as bz,Dg as c,kj as c$,GC as c0,NC as c1,ia as c2,jt as c3,_1 as c4,Zl as c5,gg as c6,Xl as c7,Xw as c8,yl as c9,zE as cA,Dr as cB,Os as cC,wE as cD,Wx as cE,fA as cF,cu as cG,EE as cH,m0 as cI,bj as cJ,p0 as cK,Js as cL,dj as cM,gj as cN,pj as cO,g0 as cP,vj as cQ,mj as cR,fj as cS,hj as cT,yj as cU,av as cV,lj as cW,Ej as cX,Sj as cY,xj as cZ,wj as c_,ro as ca,lg as cb,fg as cc,$v as cd,ug as ce,Px as cf,D1 as cg,Uw as ch,dp as ci,un as cj,Nx as ck,Rx as cl,bx as cm,yx as cn,Va as co,ag as cp,_x as cq,sn as cr,zw as cs,Xs as ct,Ar as cu,Sx as cv,Ax as cw,WC as cx,dg as cy,$a as cz,np as d,$j as d0,hp as d1,le as d2,je as d3,Up as d4,b1 as d5,au as d6,y1 as d7,ru as d8,Fp as d9,r0 as dA,kl as dB,fo as dC,aj as dD,qv as dE,mO as dF,qO as dG,YO as dH,OS as dI,Vx as dJ,XO as dK,Tj as dL,_j as dM,sj as dN,B_ as dO,Ie as da,vu as db,g2 as dc,pu as dd,hu as de,wu as df,pp as dg,ti as dh,ou as di,z_ as dj,O$ as dk,dA as dl,lA as dm,jg as dn,Ts as dp,JC as dq,Ba as dr,nj as ds,rj as dt,hg as du,vp as dv,o0 as dw,xa as dx,xl as dy,po as dz,d0 as e,Ms as f,zx as g,dl as h,YP as i,it as j,Nr as k,$w as l,$u as m,_t as n,Aw as o,Tt as p,Ux as q,W as r,ep as s,ln as t,CS as u,x2 as v,Me as w,P0 as x,BP as y,HP as z};
